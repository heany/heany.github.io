[{"title":"golangåŸºç¡€å­¦ä¹ ","date":"2019-02-02T11:40:55.000Z","path":"2019/02/02/golangåŸºç¡€å­¦ä¹ /","text":"ä¸€ã€ å‰è¨€golangè¯­è¨€è¿‘å‡ å¹´è¶Šæ¥è¶Šå—æ¬¢è¿ï¼Œå¾ˆå¤šå¤§é¡¹ç›®éƒ½æ˜¯é‡‡ç”¨goæ¥å¼€å‘çš„ï¼Œæœ€è¿‘æ­£å¥½æœ‰ç©ºå°±æ¥å­¦ä¹ å­¦ä¹ ï¼Œæˆ‘å·²ç»å¾ˆé•¿æ—¶é—´æ²¡æœ‰å­¦ä¹ è¿‡æ–°çš„æŠ€æœ¯äº†ï¼Œå†ä¸å­¦å¯èƒ½å°±è¦å‡‰äº†ğŸ˜¢ï½ã€‚ï¼ˆå…ˆå å‘ï¼Œç¨åå†æ¥å¡«ï¼ï¼‰","tags":[{"name":"golang","slug":"golang","permalink":"http://heany.github.io/tags/golang/"}]},{"title":"Rediså­¦ä¹ ç¬”è®°","date":"2019-02-02T11:33:23.000Z","path":"2019/02/02/Rediså­¦ä¹ ç¬”è®°/","text":"ä¸€ã€ å‰è¨€rediså­¦ä¹ ç¬”è®°ï¼Œå…ˆå å‘ï¼Œå¹´ååœ¨å†™","tags":[{"name":"redis","slug":"redis","permalink":"http://heany.github.io/tags/redis/"}]},{"title":"mysqlæ“ä½œä½¿ç”¨å˜é‡ä½œä¸ºè¡¨å","date":"2018-06-08T02:42:11.000Z","path":"2018/06/08/mysqlæ“ä½œä½¿ç”¨å˜é‡ä½œä¸ºè¡¨å/","text":"ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»åšä¸»å…è®¸ä¸å¾—è½¬è½½ã€‚ ä½¿ç”¨pythonæ“ä½œmysqlæ•°æ®åº“æ—¶æƒ³å®ç°å¦‚ä¸‹æ•ˆæœï¼šå°†sqlè¯­å¥ä¸­çš„è¡¨åç”¨ä¸€ä¸ªå˜é‡ä»£æ›¿ï¼Œå®ç°æ‰¹é‡æ“ä½œè¡¨ sql = &quot;select * from sets where number = &apos;%s&apos; &quot; å°†sqlè¯­å¥ä¸­çš„setså’Œnumberç”¨å˜é‡ä»£æ›¿ï¼Œå®ç°è‡ªåŠ¨æ“ä½œå¤šä¸ªè¡¨ï¼š 1234table = \"sets\"attr = \"number\"sql = \"select * from \"+table+\" where \"+attr+\" = '%s'\"# æˆåŠŸè¿è¡Œï¼Œè¾¾åˆ°è¦æ±‚ å…¶å®å°±æ˜¯é‡‡ç”¨å­—ç¬¦ä¸²æ“ä½œä¸­çš„è¯­å¥æ‹¼æ¥æŠ€æœ¯","tags":[]},{"title":"Numpyçš„randomå‡½æ•°æ±‡æ€»","date":"2018-06-06T01:54:44.000Z","path":"2018/06/06/Numpyçš„randomå‡½æ•°æ±‡æ€»/","text":"ä¸€ã€å‰è¨€åœ¨pythonæ•°æ®åˆ†æçš„å­¦ä¹ å’Œæ—¥å¸¸åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œç»å¸¸è¦ç”¨åˆ°numpyåº“çš„éšæœºå‡½æ•°ï¼Œè¿™äº›éšæœºå‡½æ•°åŠŸèƒ½å¾ˆå¤šï¼Œç»å¸¸ä¼šæ··æ·†è®°ä¸ä½ï½ï½ï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½è¦å»Googleï¼Œæ‰€ä»¥æˆ‘å°±æŠŠå¸¸ç”¨çš„éšæœºå‡½æ•°åŠŸèƒ½æ±‡æ€»åœ¨ä¸‹é¢äº†ï¼Œæ–¹ä¾¿è‡ªå·±æŸ¥é˜…ã€‚ 1import numpy as np äºŒã€numpy.random.rand()è¯­æ³•ï¼š1234numpy.random.rand(d0,d1,...,dn)# randå‡½æ•°æ ¹æ®ç»™å®šç»´åº¦ç”Ÿæˆ[0,1)ä¹‹é—´çš„æ•°æ®ï¼ŒåŒ…å«0ï¼Œä¸åŒ…å«1# dnè¡¨æ ¼æ¯ä¸ªç»´åº¦# è¿”å›å€¼ä¸ºæŒ‡å®šç»´åº¦çš„array ä¾‹å­ï¼š123456789101112131415161718192021222324np.random.rand(4,2)# outputarray([[0.44966653 0.52431591] [0.12117809 0.31425446] [0.94938082 0.78223903] [0.98802125 0.01795372]])np.random.rand(4,3,2)#outputarray([[[0.4016697 0.41116077] [0.81121991 0.18433693] [0.94307831 0.37959419]] [[0.11907587 0.97932363] [0.20458545 0.73305606] [0.62938875 0.99506056]] [[0.85168379 0.76133277] [0.868105 0.29375361] [0.08666713 0.43133631]] [[0.93674358 0.50061816] [0.58272102 0.40495383] [0.94631605 0.51712061]]]) ä¸‰ã€numpy.random.randn()è¿”å›å€¼å…·æœ‰æ ‡å‡†æ­£å¤ªåˆ†N(0,1)è¯­æ³•ï¼š1234numpy.random.randn(d0,d1,...,dn)# randnå‡½æ•°è¿”å›ä¸€ä¸ªæˆ–ä¸€ç»„æ ·æœ¬ï¼Œå…·æœ‰æ ‡å‡†æ­£æ€åˆ†å¸ƒã€‚# dnè¡¨æ ¼æ¯ä¸ªç»´åº¦# è¿”å›å€¼ä¸ºæŒ‡å®šç»´åº¦çš„array ä¾‹å­ï¼š1234567891011121314151617181920212223242526np.random.randn() # å½“æ²¡æœ‰å‚æ•°æ—¶ï¼Œè¿”å›å•ä¸ªæ•°æ®# output0.10125281554614712np.random.randn(2,4)# outputarray([[ 0.88550167 0.94488988 0.68380494 -2.42685228] [-0.12320336 -0.21325373 0.07526319 -0.59034683]])np.random.randn(4,3,2)# outputarray([[[ 1.09663108 -0.58652581] [-0.94125426 0.01259422] [-0.4189963 0.03315681]] [[-0.38388522 -0.46672398] [ 0.35335792 -0.92017071] [-0.26904716 2.28057168]] [[-0.37893325 -0.64560053] [ 0.93308775 0.68629363] [ 2.6449362 1.40476443]] [[ 1.90709637 0.18952578] [-0.09167653 1.95480404] [-1.55128951 -0.07542736]]]) å››ã€numpy.random.randint()4.1ã€ numpy.random.randint()è¯­æ³•ï¼š12345numpy.random.randint(low, high=None, size=None, dtype=â€™lâ€™) è¿”å›éšæœºæ•´æ•°ï¼ŒèŒƒå›´åŒºé—´ä¸º[low,highï¼‰ï¼ŒåŒ…å«lowï¼Œä¸åŒ…å«high å‚æ•°ï¼šlowä¸ºæœ€å°å€¼ï¼Œhighä¸ºæœ€å¤§å€¼ï¼Œsizeä¸ºæ•°ç»„ç»´åº¦å¤§å°ï¼Œdtypeä¸ºæ•°æ®ç±»å‹ï¼Œé»˜è®¤çš„æ•°æ®ç±»å‹æ˜¯np.int highæ²¡æœ‰å¡«å†™æ—¶ï¼Œé»˜è®¤ç”Ÿæˆéšæœºæ•°çš„èŒƒå›´æ˜¯[0ï¼Œlow) ä¾‹å­ï¼š123456789101112np.random.randint(1,size=5) # è¿”å›[0,1)ä¹‹é—´çš„æ•´æ•°ï¼Œæ‰€ä»¥åªæœ‰0# outputarray([0, 0, 0, 0, 0])np.random.randint(1,5) # è¿”å›1ä¸ª[1,5)æ—¶é—´çš„éšæœºæ•´æ•°# output3np.random.randint(-5,5,size=(2,2))# outputarray([[-4 -5] [-2 -2]]) 4.2ã€ numpy.random.random_integersè¯­æ³•ï¼š1234567numpy.random.random_integers(low, high=None, size=None) è¿”å›éšæœºæ•´æ•°ï¼ŒèŒƒå›´åŒºé—´ä¸º[low,high]ï¼ŒåŒ…å«lowå’Œhigh å‚æ•°ï¼šlowä¸ºæœ€å°å€¼ï¼Œhighä¸ºæœ€å¤§å€¼ï¼Œsizeä¸ºæ•°ç»„ç»´åº¦å¤§å° highæ²¡æœ‰å¡«å†™æ—¶ï¼Œé»˜è®¤ç”Ÿæˆéšæœºæ•°çš„èŒƒå›´æ˜¯[1ï¼Œlow]è¯¥å‡½æ•°åœ¨æœ€æ–°çš„numpyç‰ˆæœ¬ä¸­å·²è¢«æ›¿ä»£ï¼Œå»ºè®®ä½¿ç”¨randintå‡½æ•° äº”ã€ç”Ÿæˆ[0,1)ä¹‹é—´çš„æµ®ç‚¹æ•°è¯­æ³•ï¼š1234numpy.random.random_sample(size=None)numpy.random.random(size=None)numpy.random.ranf(size=None)numpy.random.sample(size=None) ä¾‹å­ï¼š12345678910111213141516171819202122print('-----------random_sample--------------')print(np.random.random_sample(size=(2,2)))print('-----------random--------------')print(np.random.random(size=(2,2)))print('-----------ranf--------------')print(np.random.ranf(size=(2,2)))print('-----------sample--------------')print(np.random.sample(size=(2,2)))# output-----------random_sample--------------[[0.73845538 0.57461322] [0.50090024 0.12809794]]-----------random--------------[[0.65293998 0.15751317] [0.0745293 0.03874293]]-----------ranf--------------[[0.75927288 0.79548232] [0.47618339 0.04334719]]-----------sample--------------[[0.81010338 0.59291716] [0.58648785 0.1767814 ]] å…­ã€ numpy.random.choice()è¯­æ³•ï¼š12345numpy.random.choice(a, size=None, replace=True, p=None) ä»ç»™å®šçš„ä¸€ç»´æ•°ç»„ä¸­ç”Ÿæˆéšæœºæ•° å‚æ•°ï¼š aä¸ºä¸€ç»´æ•°ç»„ç±»ä¼¼æ•°æ®æˆ–æ•´æ•°ï¼›sizeä¸ºæ•°ç»„ç»´åº¦ï¼›pä¸ºæ•°ç»„ä¸­çš„æ•°æ®å‡ºç°çš„æ¦‚ç‡ aä¸ºæ•´æ•°æ—¶ï¼Œå¯¹åº”çš„ä¸€ç»´æ•°ç»„ä¸ºnp.arange(a) ä¾‹å­ï¼š123456789101112131415161718192021np.random.choice(5,3)# outputarray([4 4 3])np.random.choice(5, 3, replace=False)# å½“replaceä¸ºFalseæ—¶ï¼Œç”Ÿæˆçš„éšæœºæ•°ä¸èƒ½æœ‰é‡å¤çš„æ•°å€¼# outputarray([4 2 0])np.random.choice(5,size=(3,2))# output[[0 0] [1 3] [0 4]]demo_list = ['lenovo', 'sansumg','moto','xiaomi', 'iphone']np.random.choice(demo_list,size=(3,3))# outputarray([['sansumg' 'iphone' 'moto'] ['moto' 'iphone' 'iphone'] ['xiaomi' 'iphone' 'xiaomi']]) å‚æ•°pçš„é•¿åº¦ä¸å‚æ•°açš„é•¿åº¦éœ€è¦ä¸€è‡´ï¼› å‚æ•°pä¸ºæ¦‚ç‡ï¼Œpé‡Œçš„æ•°æ®ä¹‹å’Œåº”ä¸º1 123456demo_list = ['lenovo', 'sansumg','moto','xiaomi', 'iphone']np.random.choice(demo_list,size=(3,3), p=[0.1,0.6,0.1,0.1,0.1])# outputarray([['moto' 'sansumg' 'xiaomi'] ['lenovo' 'moto' 'sansumg'] ['sansumg' 'sansumg' 'sansumg']]) ä¸ƒã€numpy.random.seed()è¯­æ³•ï¼š np.random.seed()çš„ä½œç”¨ï¼šä½¿å¾—éšæœºæ•°æ®å¯é¢„æµ‹ã€‚ å½“æˆ‘ä»¬è®¾ç½®ç›¸åŒçš„seedï¼Œæ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°ç›¸åŒã€‚å¦‚æœä¸è®¾ç½®seedï¼Œåˆ™æ¯æ¬¡ä¼šç”Ÿæˆä¸åŒçš„éšæœºæ•° 1234567891011121314np.random.seed(0)np.random.rand(5)# outputarray([0.5488135 , 0.71518937, 0.60276338, 0.54488318, 0.4236548 ])np.random.seed(1676)np.random.rand(5)# outputarray([0.39983389, 0.29426895, 0.89541728, 0.71807369, 0.3531823 ])np.random.seed(1676)np.random.rand(5)# outputarray([0.39983389, 0.29426895, 0.89541728, 0.71807369, 0.3531823 ]) å…«ã€ç»“æŸè¯­å—¯ï¼Ÿï½ï½","tags":[{"name":"Numpy Random","slug":"Numpy-Random","permalink":"http://heany.github.io/tags/Numpy-Random/"}]},{"title":"Nginx+PHP+MySQLæ­å»ºè¿‡ç¨‹","date":"2018-05-15T08:43:10.000Z","path":"2018/05/15/Nginx-PHP-MySQLæ­å»ºè¿‡ç¨‹/","text":"ä¸€ã€ å‰è¨€&emsp;æœ€è¿‘è¦å¼€å§‹å¹²æ´»äº†ï½è€æ¿è¦æ±‚è¾¹åšè¾¹å†™å¼€å‘æ–‡æ¡£ï¼Œå•Šå•Šå•Šå•Šï¼Œå°±æŠŠè¿™ä¸€ç³»åˆ—çš„æ–‡æ¡£å‘åœ¨åšå®¢é‡Œé¢å§ï¼Œéœ€è¦çš„æ—¶å€™å†æ¥æ‹¿ï¼Œè¿˜èƒ½å‡‘å‡ ç¯‡åšå®¢ã€‚è¿™æ˜¯ç¬¬ä¸€ç¯‡ï¼Œå…³äºNginx+php+MySQLç¯å¢ƒæ­å»ºçš„ï¼Œå¾ˆç®€å•ç½‘ä¸Šå¾ˆå¤šï½ï½ï½ äºŒã€ æœ¬æœºç¯å¢ƒ OS: Ubuntu 17.10.1_x64 Nginx_version: nginx/1.12.1 PHP_version: PHP-7.1.17 MySQL_version: mysql5.7.22 ä¸‰ã€ å®‰è£…æ­¥éª¤3.1ã€ å®‰è£…Nginx Web Serverç›´æ¥ä½¿ç”¨apt package managementæ¥å®Œæˆå®‰è£…ï¼Œå‘½ä»¤å¦‚ä¸‹ 12345678sudo apt-get updatesudo apt-get upgradesudo apt-get install nginx# ç­‰ä¸€ä¼šå„¿å°±å®‰è£…å¥½äº†ï¼Œä¸‹é¢æ˜¯ä¸€äº›é‡è¦çš„æ–‡ä»¶ç›®å½•nginxçš„é…ç½®æ–‡ä»¶ç›®å½•ï¼š /etc/nginx;Nginxçš„ç¼“å­˜ç›®å½•ï¼š /var/cache/nginx;Nginxçš„æ—¥å¿—ç›®å½•ï¼š /var/log/nginx; å¯åŠ¨nginxæœåŠ¡ sudo systemctl start nginx test #æ‰“å¼€ç½‘é¡µï¼Œè¾“å…¥http://localhostå¯ä»¥çœ‹åˆ°welcome to nginxå­—æ · 3.2ã€ å®‰è£…MySQLç®¡ç†ç½‘ç«™æ•°æ®åŒæ ·æ˜¯ä½¿ç”¨ubuntuä¸­çš„aptåŒ…ç®¡ç†å™¨æ¥å®‰è£…ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š12sudo apt-get install mysql-server# ä¼šå¼¹æ¡†æé†’è¾“å…¥rootå¯†ç ï¼Œç›´æ¥è¾“å…¥ç„¶åæŒ‰`Enter`ï¼Œç»“æŸã€‚ 3.3ã€ å®‰è£…PHPæœåŠ¡åŒæ ·æ˜¯ä½¿ç”¨ubuntuä¸­çš„aptåŒ…ç®¡ç†å™¨æ¥å®‰è£…ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š12345# é¡ºä¾¿æŠŠphp-mysqlæ’ä»¶è£…ä¸Šsudo apt-get install php-fpm php-mysql# ä¸€äº›é‡è¦çš„æ–‡ä»¶ç›®å½•# phpé…ç½®æ–‡ä»¶è·¯å¾„ï¼š /etc/php/7.1/fpm/php.ini ç„¶åï¼Œä¿®æ”¹phpçš„é…ç½®æ–‡ä»¶ï¼š12345678# åˆ‡æ¢åˆ°phpé…ç½®ç›®å½•cd /etc/php/7.1/fpm# ä¿®æ”¹é…ç½®æ–‡ä»¶sudo vim php.ini++++æ‰¾åˆ°è¿™è¡Œï¼Œå–æ¶ˆæ³¨é‡Šï¼Œå°†1æ”¹æˆ0cgi.fix_pathinfo=0++++ æœ€åï¼Œé‡å¯phpæœåŠ¡1sudo systemctl restart php-7.1-fpm 3.4ã€ é…ç½®Nginxå»ä½¿ç”¨PHPå¤„ç†å™¨12345678910111213141516171819202122232425262728# åˆ‡æ¢åˆ°nginxç½‘ç«™çš„é…ç½®ç›®å½•cd /etc/nginx/sites-availablesudo vim default# åšå¦‚ä¸‹ä¿®æ”¹ï¼š++++server &#123; listen 80 default_server; listen [::]:80 default_server; root /var/www/html; index index.php index.html index.htm index.nginx-debian.html; server_name server_domain_or_IP; location / &#123; try_files $uri $uri/ =404; &#125; location ~ \\.php$ &#123; include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php7.1-fpm.sock; &#125; location ~ /\\.ht &#123; deny all; &#125;&#125;++++ è¿™é‡Œæœ‰ä¸ªå°å‘ï¼Œäº†è§£ä¸€ä¸‹ï¼šç”±äºå®‰è£…çš„phpç‰ˆæœ¬æ˜¯php7.1ï¼Œå®‰è£…nginxé»˜è®¤é…ç½®æ–‡ä»¶é‡Œé¢ä½¿ç”¨çš„æ˜¯/run/php/php7.0-fpm.sock,ä½ åœ¨/run/phpä¸­æ‰¾ä¸åˆ°php7.0çš„sockæ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œæˆ‘ä»¬è¦æŠŠå®ƒä¿®æ”¹ä¸ºæˆ‘ä»¬å®‰è£…çš„phpç›¸åº”ç‰ˆæœ¬çš„sockæ–‡ä»¶ã€‚å³/run/php/php7.1-fpm.sock; ç„¶åï¼Œæµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦ç”Ÿæ•ˆã€‚ sudo nginx -t #å¦‚æœæ²¡æŠ¥é”™ï¼Œè¯´æ˜é…ç½®æˆåŠŸ æœ€åï¼Œé‡æ–°åŠ è½½nginxæœåŠ¡å™¨ sudo systemctl reload nginx 3.5ã€ æµ‹è¯•nginxå’ŒPHPé…ç½®æ˜¯å¦ç”Ÿæ•ˆåœ¨ç½‘ç«™çš„æ ¹ç›®å½•/var/www/htmlä¸‹æ–°å»ºä¸€ä¸ªinfo.phpæ–‡ä»¶ï¼Œå†™å…¥ä¸€ä¸‹å†…å®¹ï¼š1234// info.php&lt;?phpphpinfo();?&gt; ç„¶åï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥localhost/info.phpï¼Œä¼šçœ‹åˆ°è¾“å‡ºäº†ä¹‹å‰å®‰è£…çš„phpçš„ç‰ˆæœ¬ä¿¡æ¯å’Œå…¶ä»–æ¨¡å—çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™ å°± è¡¨ æ˜ Nginx å’ŒPHPéƒ½å®‰è£…å’Œé…ç½®ï½ï½æˆåŠŸäº†ï¼ï¼ï¼ å››ã€ ç»“æŸè¯­è·¯å¾ˆé•¿ï½è¿™æ‰åˆšåˆšå¼€å§‹å•Šï½ï½ï½ï½ å‚è€ƒè‡ªåšå®¢","tags":[{"name":"Nginx-php-MySQL","slug":"Nginx-php-MySQL","permalink":"http://heany.github.io/tags/Nginx-php-MySQL/"}]},{"title":"TF-IDFç†è§£","date":"2018-05-14T07:38:47.000Z","path":"2018/05/14/TF-IDFç†è§£/","text":"ä¸€ã€ å‰è¨€&emsp;æœ€è¿‘åœ¨çœ‹å…³äºç‰¹å¾æŠ½å–çš„è®ºæ–‡ï¼Œå¸Œæœ›èƒ½ä»ä¸­æ‰¾åˆ°ä¸€äº›æ–¹æ³•æ¥åšæ•°æ®æŠ„è¢­æ£€æµ‹ï¼Œçœ‹åˆ°äº†ä¸€ç¯‡å…³äºä¸­æ–‡æ–‡æœ¬å¤åˆ¶æ£€æµ‹çš„æ–‡ç« ï¼Œé‡Œé¢ç”¨åˆ°äº†TF-IDFç®—æ³•ï¼ŒæŸ¥æ‰¾äº†äº›èµ„æ–™ï¼ŒæŠŠå®ƒæ•´ç†äº†ä¸€ä¸‹ï½ï½ äºŒã€ TF-IDFçš„ç†è§£&emsp;TF-IDFï¼ˆterm frequencyâ€“inverse document frequencyï¼‰æ˜¯ä¸€ç§ç”¨äºèµ„è®¯æ£€ç´¢ä¸èµ„è®¯æ¢å‹˜çš„å¸¸ç”¨åŠ æƒæŠ€æœ¯, TFIDFçš„ä¸»è¦æ€æƒ³æ˜¯ï¼šå¦‚æœæŸä¸ªè¯æˆ–çŸ­è¯­åœ¨ä¸€ç¯‡æ–‡ç« ä¸­å‡ºç°çš„é¢‘ç‡TFé«˜ï¼Œå¹¶ä¸”åœ¨å…¶ä»–æ–‡ç« ä¸­å¾ˆå°‘å‡ºç°ï¼Œåˆ™è®¤ä¸ºæ­¤è¯æˆ–è€…çŸ­è¯­å…·æœ‰å¾ˆå¥½çš„ç±»åˆ«åŒºåˆ†èƒ½åŠ›ï¼Œé€‚åˆç”¨æ¥åˆ†ç±»ã€‚TFIDFå®é™…ä¸Šæ˜¯ï¼šTF * IDFï¼ŒTFè¯é¢‘(Term Frequency)ï¼ŒIDFåæ–‡æ¡£é¢‘ç‡(Inverse Document Frequency)ã€‚TFè¡¨ç¤ºè¯æ¡åœ¨æ–‡æ¡£dä¸­å‡ºç°çš„é¢‘ç‡ã€‚IDFçš„ä¸»è¦æ€æƒ³æ˜¯ï¼šå¦‚æœåŒ…å«è¯æ¡tçš„æ–‡æ¡£è¶Šå°‘ï¼Œä¹Ÿå°±æ˜¯nè¶Šå°ï¼ŒIDFè¶Šå¤§ï¼Œåˆ™è¯´æ˜è¯æ¡tå…·æœ‰å¾ˆå¥½çš„ç±»åˆ«åŒºåˆ†èƒ½åŠ›ã€‚å¦‚æœæŸä¸€ç±»æ–‡æ¡£Cä¸­åŒ…å«è¯æ¡tçš„æ–‡æ¡£æ•°ä¸ºmï¼Œè€Œå…¶å®ƒç±»åŒ…å«tçš„æ–‡æ¡£æ€»æ•°ä¸ºkï¼Œæ˜¾ç„¶æ‰€æœ‰åŒ…å«tçš„æ–‡æ¡£æ•°n=m + kï¼Œå½“må¤§çš„æ—¶å€™ï¼Œnä¹Ÿå¤§ï¼ŒæŒ‰ç…§IDFå…¬å¼å¾—åˆ°çš„IDFçš„å€¼ä¼šå°ï¼Œå°±è¯´æ˜è¯¥è¯æ¡tç±»åˆ«åŒºåˆ†èƒ½åŠ›ä¸å¼ºã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œå¦‚æœä¸€ä¸ªè¯æ¡åœ¨ä¸€ä¸ªç±»çš„æ–‡æ¡£ä¸­é¢‘ç¹å‡ºç°ï¼Œåˆ™è¯´æ˜è¯¥è¯æ¡èƒ½å¤Ÿå¾ˆå¥½ä»£è¡¨è¿™ä¸ªç±»çš„æ–‡æœ¬çš„ç‰¹å¾ï¼Œè¿™æ ·çš„è¯æ¡åº”è¯¥ç»™å®ƒä»¬èµ‹äºˆè¾ƒé«˜çš„æƒé‡ï¼Œå¹¶é€‰æ¥ä½œä¸ºè¯¥ç±»æ–‡æœ¬çš„ç‰¹å¾è¯ä»¥åŒºåˆ«ä¸å…¶å®ƒç±»æ–‡æ¡£ã€‚è¿™å°±æ˜¯IDFçš„ä¸è¶³ä¹‹å¤„ã€‚ TFå…¬å¼ï¼š ä»¥ä¸Šå¼å­ä¸­$n_i,j$æ˜¯è¯¥è¯åœ¨æ–‡ä»¶$d_j$ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œè€Œåˆ†æ¯åˆ™æ˜¯åœ¨æ–‡ä»¶$d_j$ä¸­æ‰€æœ‰å­—è¯çš„å‡ºç°æ¬¡æ•°ä¹‹å’Œã€‚ IDFå…¬å¼ï¼š ä¸‰ã€ ç®€å•æ¡ˆä¾‹ç†è§£å‡å¦‚ä¸€ç¯‡æ–‡ä»¶çš„æ€»è¯è¯­æ•°æ˜¯100ä¸ªï¼Œè€Œè¯è¯­â€œæ¯ç‰›â€å‡ºç°äº†3æ¬¡ï¼Œé‚£ä¹ˆâ€œæ¯ç‰›â€ä¸€è¯åœ¨è¯¥æ–‡ä»¶ä¸­çš„è¯é¢‘å°±æ˜¯3/100=0.03ã€‚ä¸€ä¸ªè®¡ç®—æ–‡ä»¶é¢‘ç‡ (DF) çš„æ–¹æ³•æ˜¯æµ‹å®šæœ‰å¤šå°‘ä»½æ–‡ä»¶å‡ºç°è¿‡â€œæ¯ç‰›â€ä¸€è¯ï¼Œç„¶åé™¤ä»¥æ–‡ä»¶é›†é‡ŒåŒ…å«çš„æ–‡ä»¶æ€»æ•°ã€‚æ‰€ä»¥ï¼Œå¦‚æœâ€œæ¯ç‰›â€ä¸€è¯åœ¨1,000ä»½æ–‡ä»¶å‡ºç°è¿‡ï¼Œè€Œæ–‡ä»¶æ€»æ•°æ˜¯10,000,000ä»½çš„è¯ï¼Œå…¶é€†å‘æ–‡ä»¶é¢‘ç‡å°±æ˜¯ lg(10,000,000 / 1,000)=4ã€‚æœ€åçš„TF-IDFçš„åˆ†æ•°ä¸º0.03 * 4=0.12ã€‚ å››ã€ ç»“æŸè¯­markdownå†™å…¬å¼æ²¡æœ‰åŠ è½½å‡ºæ¥ï¼Œä¸çŸ¥é“å’‹å›äº‹ï½å¯èƒ½æ¨¡æ¿çš„é”…ã€‚ LaTexå†™å…¬å¼çœŸæ–¹ä¾¿å•Šï½ï½ï½","tags":[{"name":"TF-IDF-Algorithm","slug":"TF-IDF-Algorithm","permalink":"http://heany.github.io/tags/TF-IDF-Algorithm/"}]},{"title":"åˆ é™¤Github.comä¸Šrepositoryä¸­çš„æŸä¸ªæ–‡ä»¶å¤¹","date":"2018-04-18T11:28:46.000Z","path":"2018/04/18/åˆ é™¤Github-comä¸Šrepositoryä¸­çš„æŸä¸ªæ–‡ä»¶å¤¹/","text":"ä¸€ã€ å‰è¨€&emsp;æœ€è¿‘ä¸Šä¼ é¡¹ç›®çš„æ—¶å€™ï¼Œç²—å¿ƒå¤§æ„ï½å¿˜è®°å°†ä¸€äº›éœ€è¦å¿½ç•¥çš„æ–‡ä»¶å¤¹åŠ è¿›.gitignoreæ–‡ä»¶ä¸­ï¼ï¼ï¼å¯¼è‡´æŠŠé¡¹ç›®ä¸­æ‰€æœ‰æ–‡ä»¶éƒ½ä¸Šä¼ åˆ°github.comä¸Šå»äº†ï¼Œå…¶ä¸­æœ‰ä¸€äº›æ–‡ä»¶æˆ‘å¹¶ä¸æƒ³ä¸Šä¼ ä¸Šå»ã€‚æ‰€ä»¥å‘¢ï¼Ÿæˆ‘ç°åœ¨æƒ³è¦æŠŠä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚bigDataï¼‰åœ¨githubåˆ é™¤ï¼Œä½†æ˜¯åˆä¸æƒ³æŠŠæœ¬åœ°çš„bigDataæ–‡ä»¶å¤¹åˆ æ‰ï½ä½†æ˜¯ï¼githubä¸Šé¢åªèƒ½åˆ é™¤æ–‡ä»¶ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œå¹¶ä¸æ”¯æŒåˆ é™¤æ–‡ä»¶å¤¹ã€‚ äºŒã€é‡‡ç”¨gitæŒ‡ä»¤æ¥è¿›è¡Œåˆ é™¤æ“ä½œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼šï¼ˆä»¥åˆ é™¤bigDataæ–‡ä»¶å¤¹ä¸ºä¾‹ï¼‰1234567# é¦–å…ˆåˆ‡æ¢åˆ°æœ¬åœ°å·¥ä½œç›®å½•ï¼Œä¹Ÿå°±æ˜¯ä¸githubä¸Šå¯¹åº”çš„é‚£ä¸ªç›®å½•ã€‚cd dir/# ç„¶åæ‰§è¡Œä¸‹é¢çš„gitå‘½ä»¤git rm -r --cached bigData # --cachedä¸ä¼šæŠŠæœ¬åœ°çš„bigDataåˆ é™¤git commit -m \"delete bigData dir\"git push -u origin master","tags":[{"name":"git","slug":"git","permalink":"http://heany.github.io/tags/git/"}]},{"title":"DockeræŠ€æœ¯å­¦ä¹ ","date":"2018-04-16T07:20:03.000Z","path":"2018/04/16/DockeræŠ€æœ¯å­¦ä¹ /","text":"ä¸€ã€ å‰è¨€æˆ‘ä»¬éƒ½çŸ¥é“è½¯ä»¶å¼€å‘æœ€å¤§çš„éº»çƒ¦äº‹ä¹‹ä¸€ï¼Œå°±æ˜¯ç¯å¢ƒé…ç½®ã€‚ç”¨æˆ·è®¡ç®—æœºçš„ç¯å¢ƒéƒ½ä¸ç›¸åŒï¼Œä½ æ€ä¹ˆçŸ¥é“è‡ªå®¶çš„è½¯ä»¶ï¼Œèƒ½åœ¨é‚£äº›æœºå™¨è·‘èµ·æ¥ï¼Ÿ ç”¨æˆ·å¿…é¡»ä¿è¯ä¸¤ä»¶äº‹ï¼šæ“ä½œç³»ç»Ÿçš„è®¾ç½®ï¼Œå„ç§åº“å’Œç»„ä»¶çš„å®‰è£…ã€‚åªæœ‰å®ƒä»¬éƒ½æ­£ç¡®ï¼Œè½¯ä»¶æ‰èƒ½è¿è¡Œã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå®‰è£…ä¸€ä¸ª Python åº”ç”¨ï¼Œè®¡ç®—æœºå¿…é¡»æœ‰ Python å¼•æ“ï¼Œè¿˜å¿…é¡»æœ‰å„ç§ä¾èµ–ï¼Œå¯èƒ½è¿˜è¦é…ç½®ç¯å¢ƒå˜é‡ã€‚ å¦‚æœæŸäº›è€æ—§çš„æ¨¡å—ä¸å½“å‰ç¯å¢ƒä¸å…¼å®¹ï¼Œé‚£å°±éº»çƒ¦äº†ã€‚å¼€å‘è€…å¸¸å¸¸ä¼šè¯´ï¼šâ€å®ƒåœ¨æˆ‘çš„æœºå™¨å¯ä»¥è·‘äº†â€ï¼ˆIt works on my machineï¼‰ï¼Œè¨€ä¸‹ä¹‹æ„å°±æ˜¯ï¼Œå…¶ä»–æœºå™¨å¾ˆå¯èƒ½è·‘ä¸äº†ã€‚ ç¯å¢ƒé…ç½®å¦‚æ­¤éº»çƒ¦ï¼Œæ¢ä¸€å°æœºå™¨ï¼Œå°±è¦é‡æ¥ä¸€æ¬¡ï¼Œæ—·æ—¥è´¹æ—¶ã€‚å¾ˆå¤šäººæƒ³åˆ°ï¼Œèƒ½ä¸èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ï¼Œè½¯ä»¶å¯ä»¥å¸¦ç¯å¢ƒå®‰è£…ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œå®‰è£…çš„æ—¶å€™ï¼ŒæŠŠåŸå§‹ç¯å¢ƒä¸€æ¨¡ä¸€æ ·åœ°å¤åˆ¶è¿‡æ¥ã€‚ è™šæ‹Ÿæœºï¼ˆvirtual machineï¼‰å°±æ˜¯å¸¦ç¯å¢ƒå®‰è£…çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚å®ƒå¯ä»¥åœ¨ä¸€ç§æ“ä½œç³»ç»Ÿé‡Œé¢è¿è¡Œå¦ä¸€ç§æ“ä½œç³»ç»Ÿï¼Œæ¯”å¦‚åœ¨ Windows ç³»ç»Ÿé‡Œé¢è¿è¡Œ Linux ç³»ç»Ÿã€‚åº”ç”¨ç¨‹åºå¯¹æ­¤æ¯«æ— æ„ŸçŸ¥ï¼Œå› ä¸ºè™šæ‹Ÿæœºçœ‹ä¸Šå»è·ŸçœŸå®ç³»ç»Ÿä¸€æ¨¡ä¸€æ ·ï¼Œè€Œå¯¹äºåº•å±‚ç³»ç»Ÿæ¥è¯´ï¼Œè™šæ‹Ÿæœºå°±æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œä¸éœ€è¦äº†å°±åˆ æ‰ï¼Œå¯¹å…¶ä»–éƒ¨åˆ†æ¯«æ— å½±å“ã€‚è™½ç„¶ç”¨æˆ·å¯ä»¥é€šè¿‡è™šæ‹Ÿæœºè¿˜åŸè½¯ä»¶çš„åŸå§‹ç¯å¢ƒï¼Œä½†æ˜¯è™šæ‹Ÿæœºå´æœ‰å¾ˆå¤šç¼ºç‚¹ï¼Œèµ„æºå ç”¨è¾ƒå¤šï¼Œæ‹–æ…¢è®¡ç®—æœºçš„è¿è¡Œé€Ÿåº¦ï¼Œå†—ä½™æ­¥éª¤å¤š;å¯åŠ¨å¾ˆæ…¢ç­‰ã€‚ç»“æ„å¯¹æ¯”å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç”±äºè™šæ‹Ÿæœºå­˜åœ¨è¿™äº›ç¼ºç‚¹ï¼ŒLinux å‘å±•å‡ºäº†å¦ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼šLinux å®¹å™¨ï¼ˆLinux Containersï¼Œç¼©å†™ä¸º LXCï¼‰ã€‚ Linux å®¹å™¨ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯å¯¹è¿›ç¨‹è¿›è¡Œéš”ç¦»ã€‚æˆ–è€…è¯´ï¼Œåœ¨æ­£å¸¸è¿›ç¨‹çš„å¤–é¢å¥—äº†ä¸€ä¸ªä¿æŠ¤å±‚ã€‚å¯¹äºå®¹å™¨é‡Œé¢çš„è¿›ç¨‹æ¥è¯´ï¼Œå®ƒæ¥è§¦åˆ°çš„å„ç§èµ„æºéƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œä»è€Œå®ç°ä¸åº•å±‚ç³»ç»Ÿçš„éš”ç¦»ã€‚ç”±äºå®¹å™¨æ˜¯è¿›ç¨‹çº§åˆ«çš„ï¼Œç›¸æ¯”è™šæ‹Ÿæœºæœ‰å¾ˆå¤šä¼˜åŠ¿ã€‚ä¾‹å¦‚ï¼šå¯åŠ¨å¾ˆå¿«ï¼Œèµ„æºå ç”¨å°‘;ä½“ç§¯å¾ˆå°ã€‚å®¹å™¨å°±åƒæ˜¯è½»é‡çº§çš„è™šæ‹Ÿæœºï¼Œèƒ½å¤Ÿæä¾›è™šæ‹ŸåŒ–çš„ç¯å¢ƒï¼Œä½†æ˜¯æˆæœ¬å¼€é”€æ¯”è™šæ‹Ÿæœºè¦å°å¾—å¤šã€‚ äºŒã€ Dockeræ˜¯ä»€ä¹ˆï¼ŸDockerå±äºLinuxå®¹å™¨çš„ä¸€ç§å°è£…ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„å®¹å™¨ä½¿ç”¨æ¥å£ã€‚å®ƒæ˜¯ç›®å‰æœ€æµè¡Œçš„ Linux å®¹å™¨è§£å†³æ–¹æ¡ˆã€‚ Docker å°†åº”ç”¨ç¨‹åºä¸è¯¥ç¨‹åºçš„ä¾èµ–ï¼Œæ‰“åŒ…åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ã€‚è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿå®¹å™¨ã€‚ç¨‹åºåœ¨è¿™ä¸ªè™šæ‹Ÿå®¹å™¨é‡Œè¿è¡Œï¼Œå°±å¥½åƒåœ¨çœŸå®çš„ç‰©ç†æœºä¸Šè¿è¡Œä¸€æ ·ã€‚æœ‰äº† Dockerï¼Œå°±ä¸ç”¨æ‹…å¿ƒç¯å¢ƒé—®é¢˜ã€‚ æ€»ä½“æ¥è¯´ï¼ŒDocker çš„æ¥å£ç›¸å½“ç®€å•ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå’Œä½¿ç”¨å®¹å™¨ï¼ŒæŠŠè‡ªå·±çš„åº”ç”¨æ”¾å…¥å®¹å™¨ã€‚å®¹å™¨è¿˜å¯ä»¥è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€å¤åˆ¶ã€åˆ†äº«ã€ä¿®æ”¹ï¼Œå°±åƒç®¡ç†æ™®é€šçš„ä»£ç ä¸€æ ·ã€‚ ä¸‰ã€ åŸºæœ¬æ¦‚å¿µDockeråŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼š é•œåƒï¼ˆImageï¼‰ å®¹å™¨ï¼ˆContainerï¼‰ ä»“åº“ï¼ˆRepositoryï¼‰ ç†è§£äº†è¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œä¹Ÿå°±ç†è§£äº†Dockerçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚ 3.1ã€ Dockeré•œåƒï¼ˆImageï¼‰æˆ‘ä»¬éƒ½çŸ¥é“,æ“ä½œç³»ç»Ÿåˆ†ä¸ºå†…æ ¸å’Œç”¨æˆ·ç©ºé—´ã€‚å¯¹äºLinuxè€Œè¨€,å†…æ ¸å¯åŠ¨å,ä¼šæŒ‚è½½rootæ–‡ä»¶ç³»ç»Ÿä¸ºå…¶æä¾›ç”¨æˆ·ç©ºé—´æ”¯æŒã€‚è€Œ Docker é•œåƒ(Image),å°±ç›¸å½“äºæ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚å®˜æ–¹é•œåƒubuntu:16.04å°±åŒ…å«äº†å®Œæ•´çš„ä¸€å¥—Ubuntu 16.04æœ€å°ç³»ç»Ÿçš„rootæ–‡ä»¶ç³»ç»Ÿã€‚ Docker é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿ,é™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–,è¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°(å¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰)ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®,å…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚ åˆ†å±‚å­˜å‚¨å› ä¸ºé•œåƒåŒ…å«æ“ä½œç³»ç»Ÿå®Œæ•´çš„rootæ–‡ä»¶ç³»ç»Ÿ,å…¶ä½“ç§¯å¾€å¾€æ˜¯åºå¤§çš„,å› æ­¤åœ¨Dockerè®¾è®¡æ—¶,å°±å……åˆ†åˆ©ç”¨Union FSçš„æŠ€æœ¯,å°†å…¶è®¾è®¡ä¸ºåˆ†å±‚å­˜å‚¨çš„æ¶æ„ã€‚æ‰€ä»¥ä¸¥æ ¼æ¥è¯´,é•œåƒå¹¶éæ˜¯åƒä¸€ä¸ªISOé‚£æ ·çš„æ‰“åŒ…æ–‡ä»¶,é•œåƒåªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ¦‚å¿µ,å…¶å®é™…ä½“ç°å¹¶éç”±ä¸€ä¸ªæ–‡ä»¶ç»„æˆ,è€Œæ˜¯ç”±ä¸€ç»„æ–‡ä»¶ç³»ç»Ÿç»„æˆ,æˆ–è€…è¯´,ç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆã€‚ é•œåƒæ„å»ºæ—¶,ä¼šä¸€å±‚å±‚æ„å»º,å‰ä¸€å±‚æ˜¯åä¸€å±‚çš„åŸºç¡€ã€‚æ¯ä¸€å±‚æ„å»ºå®Œå°±ä¸ä¼šå†å‘ç”Ÿæ”¹å˜,åä¸€å±‚ä¸Šçš„ä»»ä½•æ”¹å˜åªå‘ç”Ÿåœ¨è‡ªå·±è¿™ä¸€å±‚ã€‚æ¯”å¦‚,åˆ é™¤å‰ä¸€å±‚æ–‡ä»¶çš„æ“ä½œ,å®é™…ä¸æ˜¯çœŸçš„åˆ é™¤å‰ä¸€å±‚çš„æ–‡ä»¶,è€Œæ˜¯ä»…åœ¨å½“å‰å±‚æ ‡è®°ä¸ºè¯¥æ–‡ä»¶å·²åˆ é™¤ã€‚åœ¨æœ€ç»ˆå®¹å™¨è¿è¡Œçš„æ—¶å€™,è™½ç„¶ä¸ä¼šçœ‹åˆ°è¿™ä¸ªæ–‡ä»¶,ä½†æ˜¯å®é™…ä¸Šè¯¥æ–‡ä»¶ä¼šä¸€ç›´è·Ÿéšé•œåƒã€‚å› æ­¤,åœ¨æ„å»ºé•œåƒçš„æ—¶å€™,éœ€è¦é¢å¤–å°å¿ƒ,æ¯ä¸€å±‚å°½é‡åªåŒ…å«è¯¥å±‚éœ€è¦æ·»åŠ çš„ä¸œè¥¿,ä»»ä½•é¢å¤–çš„ä¸œè¥¿åº”è¯¥åœ¨è¯¥å±‚æ„å»ºç»“æŸå‰æ¸…ç†æ‰ã€‚ åˆ†å±‚å­˜å‚¨çš„ç‰¹å¾è¿˜ä½¿å¾—é•œåƒçš„å¤ç”¨ã€å®šåˆ¶å˜çš„æ›´ä¸ºå®¹æ˜“ã€‚ç”šè‡³å¯ä»¥ç”¨ä¹‹å‰æ„å»ºå¥½çš„é•œåƒä½œä¸ºåŸºç¡€å±‚,ç„¶åè¿›ä¸€æ­¥æ·»åŠ æ–°çš„å±‚,ä»¥å®šåˆ¶è‡ªå·±æ‰€éœ€çš„å†…å®¹,æ„å»ºæ–°çš„é•œåƒã€‚ 3.2ã€ Dockerå®¹å™¨é•œåƒ(Image)å’Œå®¹å™¨(Container)çš„å…³ç³»,å°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ç±»å’Œå®ä¾‹ä¸€æ ·,é•œåƒæ˜¯é™æ€çš„å®šä¹‰,å®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚ å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹,ä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒ,å®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„å‘½åç©ºé—´ã€‚å› æ­¤å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„rootæ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´,ç”šè‡³è‡ªå·±çš„ç”¨æˆ·IDç©ºé—´ã€‚å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œ,ä½¿ç”¨èµ·æ¥,å°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¹å™¨å°è£…çš„åº”ç”¨æ¯”ç›´æ¥åœ¨å®¿ä¸»è¿è¡Œæ›´åŠ å®‰å…¨ã€‚ä¹Ÿå› ä¸ºè¿™ç§éš”ç¦»çš„ç‰¹æ€§,å¾ˆå¤šäººåˆå­¦Dockeræ—¶å¸¸å¸¸ä¼šæ··æ·†å®¹å™¨å’Œè™šæ‹Ÿæœºã€‚ å‰é¢è®²è¿‡é•œåƒä½¿ç”¨çš„æ˜¯åˆ†å±‚å­˜å‚¨,å®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶,æ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚,åœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚,æˆ‘ä»¬å¯ä»¥ç§°è¿™ä¸ªä¸ºå®¹å™¨è¿è¡Œæ—¶è¯»å†™è€Œå‡†å¤‡çš„å­˜å‚¨å±‚ä¸ºå®¹å™¨å­˜å‚¨å±‚ã€‚ å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·,å®¹å™¨æ¶ˆäº¡æ—¶,å®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤,ä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚ æŒ‰ç…§ Docker æœ€ä½³å®è·µçš„è¦æ±‚,å®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®,å®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œ,éƒ½åº”è¯¥ä½¿ç”¨æ•°æ®å·(Volume)ã€æˆ–è€…ç»‘å®šå®¿ä¸»ç›®å½•,åœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚,ç›´æ¥å¯¹å®¿ä¸»(æˆ–ç½‘ç»œå­˜å‚¨)å‘ç”Ÿè¯»å†™,å…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚ æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨,å®¹å™¨æ¶ˆäº¡,æ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤,ä½¿ç”¨æ•°æ®å·å,å®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹å,æ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚ 3.3ã€ Dockerä»“åº“ï¼ˆRegistryï¼‰é•œåƒæ„å»ºå®Œæˆå,å¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨å½“å‰å®¿ä¸»æœºä¸Šè¿è¡Œ,ä½†æ˜¯,å¦‚æœéœ€è¦åœ¨å…¶å®ƒæœåŠ¡å™¨ä¸Šä½¿ç”¨è¿™ä¸ªé•œåƒ,æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æœåŠ¡,Docker Registry å°±æ˜¯è¿™æ ·çš„æœåŠ¡ã€‚ ä¸€ä¸ªDocker Registryä¸­å¯ä»¥åŒ…å«å¤šä¸ªä»“åº“(Repository);æ¯ä¸ªä»“åº“å¯ä»¥åŒ…å«å¤šä¸ªæ ‡ç­¾(Tag);æ¯ä¸ªæ ‡ç­¾å¯¹åº”ä¸€ä¸ªé•œåƒã€‚ é€šå¸¸,ä¸€ä¸ªä»“åº“ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„é•œåƒ,è€Œæ ‡ç­¾å°±å¸¸ç”¨äºå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt;çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœä¸ç»™å‡ºæ ‡ç­¾,å°†ä»¥latestä½œä¸ºé»˜è®¤æ ‡ç­¾ã€‚ ä»¥Ubuntué•œåƒ ä¸ºä¾‹,ubuntuæ˜¯ä»“åº“çš„åå­—,å…¶å†…åŒ…å«æœ‰ä¸åŒçš„ç‰ˆæœ¬æ ‡ç­¾,å¦‚,14.04,16.04ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ubuntu:14.04,æˆ–è€…ubuntu:16.04æ¥å…·ä½“æŒ‡å®šæ‰€éœ€å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœå¿½ç•¥äº†æ ‡ç­¾,æ¯”å¦‚ubuntu,é‚£å°†è§†ä¸ºubuntu:latestã€‚ ä»“åº“åç»å¸¸ä»¥ä¸¤æ®µå¼è·¯å¾„å½¢å¼å‡ºç°,æ¯”å¦‚jwilder/nginx-proxy,å‰è€…å¾€å¾€æ„å‘³ç€Docker Registryå¤šç”¨æˆ·ç¯å¢ƒä¸‹çš„ç”¨æˆ·å,åè€…åˆ™å¾€å¾€æ˜¯å¯¹åº”çš„è½¯ä»¶åã€‚ä½†è¿™å¹¶éç»å¯¹,å–å†³äºæ‰€ä½¿ç”¨çš„å…·ä½“Docker Registryçš„è½¯ä»¶æˆ–æœåŠ¡ã€‚ 3.3.1ã€ Docker Registry å…¬å¼€æœåŠ¡Docker Registryå…¬å¼€æœåŠ¡æ˜¯å¼€æ”¾ç»™ç”¨æˆ·ä½¿ç”¨ã€å…è®¸ç”¨æˆ·ç®¡ç†é•œåƒçš„RegistryæœåŠ¡ã€‚ä¸€èˆ¬è¿™ç±»å…¬å¼€æœåŠ¡å…è®¸ç”¨æˆ·å…è´¹ä¸Šä¼ ã€ä¸‹è½½å…¬å¼€çš„é•œåƒ,å¹¶å¯èƒ½æä¾›æ”¶è´¹æœåŠ¡ä¾›ç”¨æˆ·ç®¡ç†ç§æœ‰é•œåƒã€‚ æœ€å¸¸ä½¿ç”¨çš„ Registryå…¬å¼€æœåŠ¡æ˜¯å®˜æ–¹çš„Docker Hub,è¿™ä¹Ÿæ˜¯é»˜è®¤çš„Registry,å¹¶æ‹¥æœ‰å¤§é‡çš„é«˜è´¨é‡çš„å®˜æ–¹é•œåƒã€‚é™¤æ­¤ä»¥å¤–,è¿˜æœ‰CoreOSçš„Quay.io,CoreOSç›¸å…³çš„é•œåƒå­˜å‚¨åœ¨è¿™é‡Œ;Googleçš„Google Container Registry,Kubernetesçš„é•œåƒä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ªæœåŠ¡ã€‚ ç”±äºæŸäº›åŸå› ,åœ¨å›½å†…è®¿é—®è¿™äº›æœåŠ¡å¯èƒ½ä¼šæ¯”è¾ƒæ…¢ã€‚å›½å†…çš„ä¸€äº›äº‘æœåŠ¡å•†æä¾›äº†é’ˆå¯¹Docker Hubçš„é•œåƒæœåŠ¡(Registry Mirror),è¿™äº›é•œåƒæœåŠ¡è¢«ç§°ä¸ºåŠ é€Ÿå™¨ã€‚å¸¸è§çš„æœ‰é˜¿é‡Œäº‘åŠ é€Ÿå™¨ã€DaoCloudåŠ é€Ÿå™¨ ç­‰ã€‚ä½¿ç”¨åŠ é€Ÿå™¨ä¼šç›´æ¥ä»å›½å†…çš„åœ°å€ä¸‹è½½Docker Hubçš„é•œåƒ,æ¯”ç›´æ¥ä»Docker Hubä¸‹è½½é€Ÿåº¦ä¼šæé«˜å¾ˆå¤šã€‚ å›½å†…ä¹Ÿæœ‰ä¸€äº›äº‘æœåŠ¡å•†æä¾›ç±»ä¼¼äºDocker Hubçš„å…¬å¼€æœåŠ¡ã€‚æ¯”å¦‚æ—¶é€Ÿäº‘é•œåƒä»“åº“ã€ç½‘æ˜“äº‘é•œåƒæœåŠ¡ã€DaoCloudåƒå¸‚åœºã€é˜¿é‡Œäº‘é•œåƒåº“ ç­‰ã€‚ 3.3.2ã€ ç§æœ‰ Docker Registryé™¤äº†ä½¿ç”¨å…¬å¼€æœåŠ¡å¤–,ç”¨æˆ·è¿˜å¯ä»¥åœ¨æœ¬åœ°æ­å»ºç§æœ‰Docker Registryã€‚Dockerå®˜æ–¹æä¾›äº†Docker Registryé•œåƒ,å¯ä»¥ç›´æ¥ä½¿ç”¨åšä¸ºç§æœ‰RegistryæœåŠ¡ã€‚ å¼€æºçš„Docker Registryé•œåƒåªæä¾›äº†Docker Registry APIçš„æœåŠ¡ç«¯å®ç°,è¶³ä»¥æ”¯æŒdockerå‘½ä»¤,ä¸å½±å“ä½¿ç”¨ã€‚ä½†ä¸åŒ…å«å›¾å½¢ç•Œé¢,ä»¥åŠé•œåƒç»´æŠ¤ã€ç”¨æˆ·ç®¡ç†ã€è®¿é—®æ§åˆ¶ç­‰é«˜çº§åŠŸèƒ½ã€‚åœ¨å®˜æ–¹çš„å•†ä¸šåŒ–ç‰ˆæœ¬Docker Trusted Registryä¸­,æä¾›äº†è¿™äº›é«˜çº§åŠŸèƒ½ã€‚ é™¤äº†å®˜æ–¹çš„Docker Registryå¤–,è¿˜æœ‰ç¬¬ä¸‰æ–¹è½¯ä»¶å®ç°äº†Docker Registry API,ç”šè‡³æä¾›äº†ç”¨æˆ·ç•Œé¢ä»¥åŠä¸€äº›é«˜çº§åŠŸèƒ½ã€‚æ¯”å¦‚,VMWare Harborå’ŒSonatype Nexusã€‚ å››ã€ Dockerçš„å®‰è£…Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„å•†ä¸šäº§å“ã€‚Docker CEï¼ˆç¤¾åŒºç‰ˆï¼‰å®‰è£…å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚ Ubuntu ä½¿ç”¨äº†å›½å†…æº12345678910111213141516171819202122232425sudo apt-get updatesudo apt-get install \\apt-transport-https \\ca-certificates \\curl \\software-properties-commoncurl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg | sudo apt-key add sudo add-apt-repository \\\"deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu \\$(lsb_release -cs) \\stable\"sudo apt-get updatesudo apt-get install docker-ce# å¯åŠ¨dockersudo systemctl enable dockersudo systemctl start docker# å»ºç«‹dockerç”¨æˆ·ç»„sudo groupadd dockersudo usermod -aG docker $USER å®‰è£…å®Œæˆåï¼Œéœ€é…ç½®å›½å†…é•œåƒåŠ é€Ÿ,å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š åœ¨/etc/docker/daemon.jsonä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨è¯·æ–°å»ºè¯¥æ–‡ä»¶ï¼‰ { &quot;registry-mirrors&quot;: [ &quot;https://registry.docker-cn.com&quot; ] } ä¹‹åé‡æ–°å¯åŠ¨dockeræœåŠ¡ï¼š sudo systemctl daemon-reload sudo systemctl restart docker æ£€æŸ¥åŠ é€Ÿå™¨æ˜¯å¦ç”Ÿæ•ˆï¼š sudo docker info # çœ‹åˆ°å¦‚ä¸‹å†…å®¹è¯´æ˜é…ç½®æˆåŠŸ Registry Mirrors: https://registry.docker-cn.com/ æµ‹è¯•Dockeræ˜¯å¦å®‰è£…æ­£ç¡®123456789101112131415docker run hello-world# outputUnable to find image 'hello-world:latest' locallylatest: Pulling from library/hello-world9bb5a5d4561a: Pull complete Digest: sha256:f5233545e43561214ca4891fd1157e1c3c563316ed8e237750d59bde73361e77Status: Downloaded newer image for hello-world:latestHello from Docker!This message shows that your installation appears to be working correctly.To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. ........... äº”ã€ Imageæ–‡ä»¶DockeræŠŠåº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–ï¼Œæ‰“åŒ…åœ¨ image æ–‡ä»¶é‡Œé¢ã€‚åªæœ‰é€šè¿‡è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰èƒ½ç”Ÿæˆ Docker å®¹å™¨ã€‚image æ–‡ä»¶å¯ä»¥çœ‹ä½œæ˜¯å®¹å™¨çš„æ¨¡æ¿ã€‚Docker æ ¹æ® image æ–‡ä»¶ç”Ÿæˆå®¹å™¨çš„å®ä¾‹ã€‚åŒä¸€ä¸ª image æ–‡ä»¶ï¼Œå¯ä»¥ç”Ÿæˆå¤šä¸ªåŒæ—¶è¿è¡Œçš„å®¹å™¨å®ä¾‹ã€‚ image æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å®é™…å¼€å‘ä¸­ï¼Œä¸€ä¸ªimageæ–‡ä»¶å¾€å¾€é€šè¿‡ç»§æ‰¿å¦ä¸€ä¸ªimageæ–‡ä»¶ï¼ŒåŠ ä¸Šä¸€äº›ä¸ªæ€§åŒ–è®¾ç½®è€Œç”Ÿæˆã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½ å¯ä»¥åœ¨ Ubuntu çš„ image åŸºç¡€ä¸Šï¼Œå¾€é‡Œé¢åŠ å…¥ Apache æœåŠ¡å™¨ï¼Œå½¢æˆä½ çš„imageã€‚12345# åˆ—å‡ºæœ¬æœºæ‰€æœ‰çš„imageæ–‡ä»¶docker image ls# åˆ é™¤imageæ–‡ä»¶docker image rm [imageName] image æ–‡ä»¶æ˜¯é€šç”¨çš„ï¼Œä¸€å°æœºå™¨çš„imageæ–‡ä»¶æ‹·è´åˆ°å¦ä¸€å°æœºå™¨ï¼Œç…§æ ·å¯ä»¥ä½¿ç”¨ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡ä½¿ç”¨åˆ«äººåˆ¶ä½œå¥½çš„imageæ–‡ä»¶ï¼Œè€Œä¸æ˜¯è‡ªå·±åˆ¶ä½œã€‚å³ä½¿è¦å®šåˆ¶ï¼Œä¹Ÿåº”è¯¥åŸºäºåˆ«äººçš„ image æ–‡ä»¶è¿›è¡ŒåŠ å·¥ï¼Œè€Œä¸æ˜¯ä»é›¶å¼€å§‹åˆ¶ä½œã€‚ ä¸ºäº†æ–¹ä¾¿å…±äº«ï¼Œimage æ–‡ä»¶åˆ¶ä½œå®Œæˆåï¼Œå¯ä»¥ä¸Šä¼ åˆ°ç½‘ä¸Šçš„ä»“åº“ã€‚Docker çš„å®˜æ–¹ä»“åº“Docker Hub æ˜¯æœ€é‡è¦ã€æœ€å¸¸ç”¨çš„ image ä»“åº“ã€‚æ­¤å¤–ï¼Œå‡ºå”®è‡ªå·±åˆ¶ä½œçš„ image æ–‡ä»¶ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ å°†imageæ–‡ä»¶ä»ä»“åº“æŠ“å–åˆ°æœ¬åœ°ã€‚ docker image pull library/hello-world # docker image pull æ˜¯æŠ“å–imageçš„å‘½ä»¤ã€‚library/hello-worldæ˜¯imageæ–‡ä»¶åœ¨ä»“åº“é‡Œé¢çš„ä½ç½®ï¼Œå…¶ä¸­libraryæ˜¯imageæ–‡ä»¶æ‰€åœ¨çš„ç»„ï¼Œhello-worldæ˜¯imageçš„åå­—ã€‚ ç”±äºDockerå®˜æ–¹æä¾›çš„imageæ–‡ä»¶ï¼Œéƒ½æ”¾åœ¨libraryç»„é‡Œé¢ï¼Œæ‰€ä»¥å®ƒæ˜¯é»˜è®¤ç»„ï¼Œå¯ä»¥çœç•¥ï¼Œå› æ­¤ï¼Œä¸Šé¢çš„å‘½ä»¤å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ï¼š docker image pull hello-world æŠ“å–æˆåŠŸåï¼Œå°±å¯ä»¥åœ¨æœ¬æœºçœ‹åˆ°è¿™ä¸ªimageæ–‡ä»¶äº† docker image ls è¿è¡Œimageæ–‡ä»¶å‘½ä»¤å¦‚ä¸‹ï¼š docker container run hello-world æˆ–è€… docker run hello-world docker container runæˆ–è€…docker runå‘½ä»¤ä¼šä»imageæ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨å®ä¾‹ã€‚å¦‚æœæœ¬åœ°æ²¡æœ‰æ‰¾åˆ°imageæ–‡ä»¶ï¼Œdockerå°±ä¼šä»ä»“åº“è‡ªåŠ¨æŠ“å–imageæ–‡ä»¶ï¼Œå› æ­¤ï¼Œå‰é¢çš„docker image pullå‘½ä»¤ä¸æ˜¯å¿…éœ€çš„æ­¥éª¤ã€‚ æ³¨æ„:æœ‰äº›å®¹å™¨ä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢ï¼Œå¿…é¡»ä½¿ç”¨docker container killå‘½ä»¤æ‰‹åŠ¨ç»ˆæ­¢ã€‚docker container kill [containID] å…­ã€ å®¹å™¨æ–‡ä»¶ imageæ–‡ä»¶ç”Ÿæˆçš„å®¹å™¨å®ä¾‹ï¼Œæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œç§°ä¸ºå®¹å™¨æ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦å®¹å™¨ç”Ÿæˆï¼Œå°±ä¼šåŒæ—¶å­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶ï¼šimageæ–‡ä»¶å’Œå®¹å™¨æ–‡ä»¶ã€‚è€Œä¸”å…³é—­å®¹å™¨å¹¶ä¸ä¼šåˆ é™¤å®¹å™¨æ–‡ä»¶ï¼Œåªæ˜¯å®¹å™¨åœæ­¢è¿è¡Œè€Œå·²ã€‚ # åˆ—å‡ºæœ¬æœºæ­£åœ¨è¿è¡Œçš„å®¹å™¨ docker container ls # # åˆ—å‡ºæœ¬æœºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨ docker container ls -all # # è¿è¡Œç»ˆæ­¢çš„å®¹å™¨æ–‡ä»¶ï¼Œä¾ç„¶ä¼šå æ®ç¡¬ç›˜ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤ã€‚ docker container rm [containerID] å­¦ä¼šä½¿ç”¨imageæ–‡ä»¶ä»¥åï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•å¯ä»¥ç”Ÿæˆimageæ–‡ä»¶ï¼Ÿå¦‚æœä½ è¦æ¨å¹¿è‡ªå·±çš„è½¯ä»¶ï¼ŒåŠ¿å¿…è¦è‡ªå·±åˆ¶ä½œimage æ–‡ä»¶ã€‚è¿™å°±éœ€è¦ç”¨åˆ°Dockerfileæ–‡ä»¶ã€‚å®ƒæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œç”¨æ¥é…ç½®imageã€‚Dockeræ ¹æ®è¯¥æ–‡ä»¶ç”ŸæˆäºŒè¿›åˆ¶çš„ image æ–‡ä»¶ã€‚ä¸‹ä¸€ç« å°†é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥ä»‹ç»å¦‚ä½•ç¼–å†™Dockfileæ–‡ä»¶ã€‚ ä¸ƒã€ å®ä¾‹ï¼šåˆ¶ä½œè‡ªå·±çš„Dockerå®¹å™¨ä¸‹é¢æˆ‘ä»¥koa-demosé¡¹ç›®ä¸ºä¾‹ï¼Œä»‹ç»æ€ä¹ˆå†™Dockerfileæ–‡ä»¶ï¼Œå®ç°è®©ç”¨æˆ·åœ¨Dockerå®¹å™¨é‡Œé¢è¿è¡ŒKoaæ¡†æ¶ã€‚ä½œä¸ºå‡†å¤‡å·¥ä½œï¼Œè¯·å…ˆä¸‹è½½æºç ï¼Œæˆ–è€…é‡‡ç”¨ä¸‹é¢æ–¹å¼ä¸‹è½½ã€‚ git clone https://github.com/ruanyf/koa-demos.git cd koa-demos 7.1ã€ ç¼–å†™Dockerfileæ–‡ä»¶é¦–å…ˆï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶.dockerignore,å†™å…¥ä¸‹é¢çš„å†…å®¹ï¼Œ 123.gitnode_modulesnpm-debug.log ä¸Šé¢çš„ä»£ç è¡¨ç¤ºï¼Œè¿™ä¸‰ä¸ªè·¯å¾„è¦æ’é™¤ï¼Œä¸è¦æ‰“åŒ…è¿›å…¥imageæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰è¦æ’é™¤çš„è·¯å¾„ï¼Œå¯ä»¥ä¸å†™ã€‚ ç„¶åï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶Dockerfileã€‚å†™å…¥ä¸‹é¢çš„å†…å®¹ã€‚12345FROM node:8.4COPY . /appWORKDIR /appRUN npm install --registry=https://registry.npm.taobao.orgEXPOSE 3000 ä¸Šé¢äº”è¡Œä»£ç ï¼Œå«ä¹‰å¦‚ä¸‹ã€‚ FROM node:8.4ï¼šè¯¥imageæ–‡ä»¶ç»§æ‰¿å®˜æ–¹çš„node imageï¼Œå†’å·è¡¨ç¤ºæ ‡ç­¾ï¼Œè¿™é‡Œæ ‡ç­¾æ˜¯8.4ï¼Œå³8.4ç‰ˆæœ¬çš„ nodeã€‚ COPY . /appï¼šå°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº†.dockerignoreæ’é™¤çš„è·¯å¾„ï¼‰ï¼Œéƒ½æ‹·è´è¿›å…¥ image æ–‡ä»¶çš„/appç›®å½•ã€‚ WORKDIR /appï¼šæŒ‡å®šæ¥ä¸‹æ¥çš„å·¥ä½œè·¯å¾„ä¸º/appã€‚ RUN npm installï¼šåœ¨/appç›®å½•ä¸‹ï¼Œè¿è¡Œnpm installå‘½ä»¤å®‰è£…ä¾èµ–ã€‚æ³¨æ„ï¼Œå®‰è£…åæ‰€æœ‰çš„ä¾èµ–ï¼Œéƒ½å°†æ‰“åŒ…è¿›å…¥ image æ–‡ä»¶ã€‚ EXPOSE 3000ï¼šå°†å®¹å™¨ 3000 ç«¯å£æš´éœ²å‡ºæ¥ï¼Œ å…è®¸å¤–éƒ¨è¿æ¥è¿™ä¸ªç«¯å£ã€‚ 7.2ã€ åˆ›å»ºimageæ–‡ä»¶æœ‰äº†Dockerfileæ–‡ä»¶ä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨docker image buildå‘½ä»¤åˆ›å»ºimageæ–‡ä»¶äº†ã€‚ docker image build -t koa-demo . # æˆ–è€… docker image build -t koa-demo:0.0.1 . åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ-tå‚æ•°ç”¨æ¥æŒ‡å®šimageæ–‡ä»¶çš„åå­—ï¼Œåé¢è¿˜å¯ä»¥ç”¨å†’å·æŒ‡å®šæ ‡ç­¾ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤çš„æ ‡ç­¾å°±æ˜¯latetã€‚æœ€åçš„é‚£ä¸ªç‚¹.è¡¨ç¤ºdockfileæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ï¼Œä¸Šä¾‹æ˜¯å½“å‰è·¯å¾„ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªç‚¹ã€‚å¦‚æœè¿è¡ŒæˆåŠŸå°±å¯ä»¥çœ‹åˆ°æ–°ç”Ÿæˆçš„imageæ–‡ä»¶koa-demoäº†ã€‚ # æŸ¥çœ‹imageæ–‡ä»¶ docker image ls 7.3ã€ ç”Ÿæˆå®¹å™¨docker container runå‘½ä»¤ä¼šä»imageæ–‡ä»¶ç”Ÿæˆå®¹å™¨ã€‚123docker container run -p 8000:3000 -it koa-demo /bin/bash# æˆ–è€…docker container run -p 8000:3000 -it kao-demo:0.0.1 /bin/bash ä¸Šé¢å‘½ä»¤çš„å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š -på‚æ•°ï¼šå®¹å™¨çš„3000ç«¯å£æ˜ å°„åˆ°æœ¬æœºçš„8000ç«¯å£ -itå‚æ•°ï¼šå®¹å™¨çš„ Shell æ˜ å°„åˆ°å½“å‰çš„ Shellï¼Œç„¶åä½ åœ¨æœ¬æœºçª—å£è¾“å…¥çš„å‘½ä»¤ï¼Œå°±ä¼šä¼ å…¥å®¹å™¨ã€‚ koa-demo:0.0.1ï¼šimage æ–‡ä»¶çš„åå­—ï¼ˆå¦‚æœæœ‰æ ‡ç­¾ï¼Œè¿˜éœ€è¦æä¾›æ ‡ç­¾ï¼Œé»˜è®¤æ˜¯ latest æ ‡ç­¾ï¼‰ã€‚ /bin/bashï¼šå®¹å™¨å¯åŠ¨ä»¥åï¼Œå†…éƒ¨ç¬¬ä¸€ä¸ªæ‰§è¡Œçš„å‘½ä»¤ã€‚è¿™é‡Œæ˜¯å¯åŠ¨ Bashï¼Œä¿è¯ç”¨æˆ·å¯ä»¥ä½¿ç”¨ Shellã€‚ å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œè¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªå‘½ä»¤è¡Œæç¤ºç¬¦ã€‚ root@805724fbb49b:/app# è¿™å°±è¡¨ç¤ºä½ å·²ç»åœ¨å®¹å™¨é‡Œé¢äº†ï¼Œè¿”å›çš„æç¤ºç¬¦å°±æ˜¯å®¹å™¨å†…éƒ¨çš„Shellæç¤ºç¬¦ã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ root@805724fbb49b:/app# node demos/01.js è¿™æ—¶ï¼ŒKoa æ¡†æ¶å·²ç»è¿è¡Œèµ·æ¥äº†ã€‚æ‰“å¼€æœ¬æœºçš„æµè§ˆå™¨ï¼Œè®¿é—®http://127.0.0.1:8000ï¼Œç½‘é¡µæ˜¾ç¤ºâ€Not Foundâ€ï¼Œè¿™æ˜¯å› ä¸ºè¿™ä¸ª demo æ²¡æœ‰å†™è·¯ç”±ã€‚ è¿™ä¸ªä¾‹å­ä¸­ï¼ŒNode è¿›ç¨‹è¿è¡Œåœ¨ Docker å®¹å™¨çš„è™šæ‹Ÿç¯å¢ƒé‡Œé¢ï¼Œè¿›ç¨‹æ¥è§¦åˆ°çš„æ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œæ¥å£éƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œä¸æœ¬æœºçš„æ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œæ¥å£æ˜¯éš”ç¦»çš„ï¼Œå› æ­¤éœ€è¦å®šä¹‰å®¹å™¨ä¸ç‰©ç†æœºçš„ç«¯å£æ˜ å°„ï¼ˆmapï¼‰ã€‚ ç°åœ¨ï¼Œåœ¨å®¹å™¨çš„å‘½ä»¤è¡Œï¼ŒæŒ‰ä¸‹ Ctrl + c åœæ­¢ Node è¿›ç¨‹ï¼Œç„¶åæŒ‰ä¸‹ Ctrl + d ï¼ˆæˆ–è€…è¾“å…¥ exitï¼‰é€€å‡ºå®¹å™¨ã€‚æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨docker container killç»ˆæ­¢å®¹å™¨è¿è¡Œã€‚ #åœ¨æœ¬æœºçš„å¦ä¸€ä¸ªç»ˆç«¯çª—å£ï¼ŒæŸ¥å¤„å®¹å™¨çš„ID docker container ls # # åœæ­¢æŒ‡å®šçš„å®¹å™¨è¿è¡Œ docker container kill [containerID] å®¹å™¨åœæ­¢è¿è¡Œåä¸ä¼šæ¶ˆå¤±ï¼Œç”¨ä¸‹é¢çš„å‘½ä»¤åˆ é™¤å®¹å™¨æ–‡ä»¶ã€‚12345# æŸ¥å¤„å®¹å™¨çš„IDdocker container ls -all# åˆ é™¤æŒ‡å®šå®¹å™¨æ–‡ä»¶docker container rm [containerID] ä¹Ÿå¯ä»¥ä½¿ç”¨docker container runå‘½ä»¤çš„--rmå‚æ•°ï¼Œåœ¨å®¹å™¨ç»ˆæ­¢è¿è¡Œåè‡ªåŠ¨åˆ é™¤å®¹å™¨æ–‡ä»¶ã€‚ docker container run --rm -p 8000:3000 -it koa-demo /bin/bash 7.4ã€ CMDå‘½ä»¤ä¸Šä¸€èŠ‚çš„ä¾‹å­é‡Œé¢ï¼Œå®¹å™¨å¯åŠ¨ä»¥åï¼Œéœ€è¦æ‰‹åŠ¨è¾“å…¥å‘½ä»¤node demos/01.jsã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå‘½ä»¤å†™åœ¨Dockerfileé‡Œé¢ï¼Œè¿™æ ·å®¹å™¨å¯åŠ¨ä»¥åï¼Œè¿™ä¸ªå‘½ä»¤å°±å·²ç»æ‰§è¡Œäº†ï¼Œä¸ç”¨å†æ‰‹åŠ¨è¾“å…¥äº†ã€‚123456FROM node:8.4COPY . /appWORKDIR /appRUN npm install --registry=https://registry.npm.taobao.orgEXPOSE 3000CMD node demos/01.js ä¸Šé¢çš„ Dockerfile é‡Œé¢ï¼Œå¤šäº†æœ€åä¸€è¡ŒCMD node demos/01.jsï¼Œå®ƒè¡¨ç¤ºå®¹å™¨å¯åŠ¨åè‡ªåŠ¨æ‰§è¡Œnode demos/01.jsã€‚ ä½ å¯èƒ½ä¼šé—®ï¼ŒRUNå‘½ä»¤ä¸CMDå‘½ä»¤çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿç®€å•è¯´ï¼ŒRUNå‘½ä»¤åœ¨imageæ–‡ä»¶çš„æ„å»ºé˜¶æ®µæ‰§è¡Œï¼Œæ‰§è¡Œç»“æœéƒ½ä¼šæ‰“åŒ…è¿›å…¥imageæ–‡ä»¶ï¼›CMDå‘½ä»¤åˆ™æ˜¯åœ¨å®¹å™¨å¯åŠ¨åæ‰§è¡Œã€‚å¦å¤–ï¼Œä¸€ä¸ªDockerfileå¯ä»¥åŒ…å«å¤šä¸ªRUNå‘½ä»¤ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªCMDå‘½ä»¤ã€‚ æ³¨æ„ï¼ŒæŒ‡å®šäº†CMDå‘½ä»¤ä»¥åï¼Œdocker container runå‘½ä»¤å°±ä¸èƒ½é™„åŠ å‘½ä»¤äº†ï¼ˆæ¯”å¦‚å‰é¢çš„/bin/bashï¼‰ï¼Œå¦åˆ™å®ƒä¼šè¦†ç›–CMDå‘½ä»¤ã€‚ç°åœ¨ï¼Œå¯åŠ¨å®¹å™¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚ docker container run --rm -p 8000:3000 -it koa-demo 7.5ã€ å‘å¸ƒimageæ–‡ä»¶å®¹å™¨è¿è¡ŒæˆåŠŸåï¼Œå°±ç¡®è®¤äº† image æ–‡ä»¶çš„æœ‰æ•ˆæ€§ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘æŠŠ image æ–‡ä»¶åˆ†äº«åˆ°ç½‘ä¸Šï¼Œè®©å…¶ä»–äººä½¿ç”¨ã€‚ é¦–å…ˆï¼Œå» hub.docker.com æˆ– cloud.docker.com æ³¨å†Œä¸€ä¸ªè´¦æˆ·ã€‚ç„¶åï¼Œç”¨ä¸‹é¢çš„å‘½ä»¤ç™»å½•ã€‚ docker login ç„¶åï¼Œä¸ºæœ¬åœ°çš„imageæ ‡æ³¨ç”¨æˆ·åå’Œç‰ˆæœ¬ã€‚123docker image tag [imageName] [username]/[repository]:[tag]# å®ä¾‹docker image tag koa-demos:0.0.1 heany/koa-demos:0.0.1 ä¹Ÿå¯ä»¥ä¸ç”¨æ ‡æ³¨ç”¨æˆ·åï¼Œé‡æ–°æ„å»ºä¸€ä¸‹imageæ–‡ä»¶ã€‚ docker image build -t [username]/[repository]:[tag] æœ€åï¼Œå‘å¸ƒimageæ–‡ä»¶ã€‚ docker image push [username]/[repository]:[tag] å‘å¸ƒæˆåŠŸåï¼Œç™»å½•hub.docker.comï¼Œå°±å¯ä»¥çœ‹åˆ°å·²ç»å‘å¸ƒçš„imageæ–‡ä»¶ã€‚ç›®å‰å›½å†…é“¾æ¥hub.docker.coméå¸¸æ…¢ï¼Œpushç»å¸¸è¶…æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å›½å†…çš„daocloudã€‚ å…«ã€ å…¶ä»–æœ‰ç”¨çš„å‘½ä»¤dockerçš„ä¸»è¦ç”¨æ³•å°±æ˜¯ä¸Šé¢è¿™äº›æ­¤å¤–è¿˜æœ‰å‡ ä¸ªå‘½ä»¤ï¼Œä¹Ÿéå¸¸æœ‰ç”¨ã€‚ 8.1ã€ docker container startå‰é¢çš„docker container runå‘½ä»¤æ˜¯æ–°å»ºå®¹å™¨ï¼Œæ¯è¿è¡Œä¸€æ¬¡ï¼Œå°±ä¼šæ–°å»ºä¸€ä¸ªå®¹å™¨ã€‚åŒæ ·çš„å‘½ä»¤è¿è¡Œä¸¤æ¬¡ï¼Œå°±ä¼šç”Ÿæˆä¸¤ä¸ªä¸€æ¨¡ä¸€æ ·çš„å®¹å™¨æ–‡ä»¶ã€‚å¦‚æœå¸Œæœ›é‡å¤ä½¿ç”¨å®¹å™¨ï¼Œå°±è¦ä½¿ç”¨docker container startå‘½ä»¤ï¼Œå®ƒç”¨æ¥å¯åŠ¨å·²ç»ç”Ÿæˆã€å·²ç»åœæ­¢è¿è¡Œçš„å®¹å™¨æ–‡ä»¶ã€‚ docker container start [containerID] 8.2ã€ docker container stopå‰é¢çš„docker container killå‘½ä»¤ç»ˆæ­¢å®¹å™¨è¿è¡Œï¼Œç›¸å½“äºå‘å®¹å™¨é‡Œé¢çš„ä¸»è¿›ç¨‹å‘å‡ºSIGKILL ä¿¡å·ã€‚è€Œdocker container stopå‘½ä»¤ä¹Ÿæ˜¯ç”¨æ¥ç»ˆæ­¢å®¹å™¨è¿è¡Œï¼Œç›¸å½“äºå‘å®¹å™¨é‡Œé¢çš„ä¸»è¿›ç¨‹å‘å‡ºSIGTERMä¿¡å·ï¼Œç„¶åè¿‡ä¸€æ®µæ—¶é—´å†å‘å‡º SIGKILL ä¿¡å·ã€‚ bash container stop [containerID] è¿™ä¸¤ä¸ªä¿¡å·çš„å·®åˆ«æ˜¯ï¼Œåº”ç”¨ç¨‹åºæ”¶åˆ°SIGTERMä¿¡å·ä»¥åï¼Œå¯ä»¥è‡ªè¡Œè¿›è¡Œæ”¶å°¾æ¸…ç†å·¥ä½œï¼Œä½†ä¹Ÿå¯ä»¥ä¸ç†ä¼šè¿™ä¸ªä¿¡å·ã€‚å¦‚æœæ”¶åˆ°SIGKILLä¿¡å·ï¼Œå°±ä¼šå¼ºè¡Œç«‹å³ç»ˆæ­¢ï¼Œé‚£äº›æ­£åœ¨è¿›è¡Œä¸­çš„æ“ä½œä¼šå…¨éƒ¨ä¸¢å¤±ã€‚ 8.3ã€ docker container logsdocker container logså‘½ä»¤ç”¨æ¥æŸ¥çœ‹dockerå®¹å™¨çš„è¾“å‡ºï¼Œå³å®¹å™¨é‡Œé¢Shellçš„æ ‡å‡†è¾“å‡ºã€‚å¦‚æœdocker runå‘½ä»¤è¿è¡Œå®¹å™¨çš„æ—¶å€™ï¼Œæ²¡æœ‰ä½¿ç”¨-itå‚æ•°ï¼Œå°±è¦ç”¨è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹è¾“å‡ºã€‚ docker container logs [containerID] 8.4ã€ docker container execdocker container execå‘½ä»¤ç”¨äºè¿›å…¥ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„dockerå®¹å™¨ã€‚å¦‚æœdocker runå‘½ä»¤è¿è¡Œå®¹å™¨çš„æ—¶å€™ï¼Œæ²¡æœ‰ä½¿ç”¨-itå‚æ•°ï¼Œå°±è¦ç”¨è¿™ä¸ªå‘½ä»¤è¿›å…¥å®¹å™¨ã€‚ä¸€æ—¦è¿›å…¥äº†å®¹å™¨ï¼Œå°±å¯ä»¥åœ¨å®¹å™¨çš„Shellæ‰§è¡Œå‘½ä»¤äº†ã€‚ docker container exec -it [containerID] /bin/bash 8.5ã€ docker container cpdocker container cpå‘½ä»¤ç”¨äºä»æ­£åœ¨è¿è¡Œçš„Dockerå®¹å™¨é‡Œé¢ï¼Œå°†æ–‡ä»¶æ‹·è´åˆ°æœ¬æœºã€‚ä¸‹é¢æ˜¯æ‹·è´åˆ°å½“å‰ç›®å½•çš„å†™æ³•ã€‚ docker container cp [containID]:[/path/to/file] ä¹ã€ ç»“æŸè¯­&emsp;è½¬è½½äºé˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—-Dockerå…¥é—¨æ•™ç¨‹&emsp;å‚è€ƒäº†DockeræŠ€æœ¯å…¥é—¨ä¸å®æˆ˜","tags":[{"name":"Docker","slug":"Docker","permalink":"http://heany.github.io/tags/Docker/"}]},{"title":"sublime text 3 æœ€æ–°çš„æ³¨å†Œç ","date":"2018-04-09T12:46:12.000Z","path":"2018/04/09/sublime-text-3-æœ€æ–°çš„æ³¨å†Œç /","text":"æœ€æ–°å¯ç”¨çš„sublime Text 3æ³¨å†Œç 12345678910111213â€”â€“ BEGIN LICENSE â€”â€“ TwitterInc 200 User License EA7E-890007 1D77F72E 390CDD93 4DCBA022 FAF60790 61AA12C0 A37081C5 D0316412 4584D136 94D7F7D4 95BC8C1C 527DA828 560BB037 D1EDDD8C AE7B379F 50C9D69D B35179EF 2FE898C4 8E4277A8 555CE714 E1FB0E43 D5D52613 C3D12E98 BC49967F 7652EED2 9D2D2E61 67610860 6D338B72 5CF95C69 E36B85CC 84991F19 7575D828 470A92AB â€”â€” END LICENSE â€”â€”","tags":[{"name":"sublime-text-3 æ³¨å†Œç ","slug":"sublime-text-3-æ³¨å†Œç ","permalink":"http://heany.github.io/tags/sublime-text-3-æ³¨å†Œç /"}]},{"title":"Ubuntu 17.10é…ç½®Hadoop+Sparkç¯å¢ƒ","date":"2018-04-08T06:39:34.000Z","path":"2018/04/08/Ubuntu-17-10é…ç½®Hadoop-Sparkç¯å¢ƒ/","text":"ä¸€ã€å‰è¨€&nbsp;&nbsp;æœ€è¿‘å¯¼å¸ˆå¸¦çš„é¡¹ç›®æ˜¯ä¸å¤§æ•°æ®ç›¸å…³ï¼Œæ„Ÿè§‰è¿™å‡ å¹´å¤§æ•°æ®æŠ€æœ¯è¿˜æŒºç«çš„ï¼Œå°±æƒ³ç€ä¹Ÿå»å­¦ä¸€ä¸‹ï¼Œä¸°å¯Œè‡ªå·±çš„æŠ€èƒ½æ ˆã€‚æœ¬æ–‡ä¸»è¦è®²çš„æ˜¯hadoop+sparkçš„ç¯å¢ƒæ­å»º,ç„¶åä½¿ç”¨è‡ªå¸¦çš„examplesæµ‹è¯•ç¯å¢ƒï¼Œè¿™é‡Œä¸æ¶‰åŠåŸç†ä»‹ç»ã€‚ äºŒã€Hadoopçš„ä¸‰ç§è¿è¡Œæ¨¡å¼ä»‹ç»2.1ã€ å•æœºæ¨¡å¼ä¹Ÿå«ç‹¬ç«‹æ¨¡å¼ï¼ˆLocalæˆ–Standalone Modeï¼‰ é»˜è®¤æƒ…å†µä¸‹ï¼ŒHadoopå³å¤„äºè¯¥æ¨¡å¼ï¼Œç”¨äºå¼€å‘å’Œè°ƒå¼ã€‚ ä¸å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚ ä½¿ç”¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œä¸æ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚ Hadoopä¸ä¼šå¯åŠ¨NameNodeã€DataNodeã€JobTrackerã€TaskTrackerç­‰å®ˆæŠ¤è¿›ç¨‹ï¼ŒMap()å’ŒReduce()ä»»åŠ¡ä½œä¸ºåŒä¸€ä¸ªè¿›ç¨‹çš„ä¸åŒéƒ¨åˆ†æ¥æ‰§è¡Œçš„ã€‚ ç”¨äºå¯¹MapReduceç¨‹åºçš„é€»è¾‘è¿›è¡Œè°ƒè¯•ï¼Œç¡®ä¿ç¨‹åºçš„æ­£ç¡®ã€‚ 2.2ã€ ä¼ªåˆ†å¸ƒå¼æ¨¡å¼ï¼ˆPseudo-Distrubuted Modeï¼‰ Hadoopçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨æœ¬æœºæœºå™¨ä¸Šï¼Œæ¨¡æ‹Ÿä¸€ä¸ªå°è§„æ¨¡çš„é›†ç¾¤ åœ¨ä¸€å°ä¸»æœºä¸Šæ¨¡æ‹Ÿå¤šä¸»æœºã€‚ Hadoopå¯åŠ¨NameNodeã€DataNodeã€JobTrackerã€TaskTrackerè¿™äº›å®ˆæŠ¤è¿›ç¨‹éƒ½åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿è¡Œï¼Œæ˜¯ç›¸äº’ç‹¬ç«‹çš„Javaè¿›ç¨‹ã€‚ åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒHadoopä½¿ç”¨çš„æ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œå„ä¸ªä½œä¸šä¹Ÿæ˜¯ç”±JobTrakeræœåŠ¡ï¼Œæ¥ç®¡ç†çš„ç‹¬ç«‹è¿›ç¨‹ã€‚åœ¨å•æœºæ¨¡å¼ä¹‹ä¸Šå¢åŠ äº†ä»£ç è°ƒè¯•åŠŸèƒ½ï¼Œå…è®¸æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒHDFSè¾“å…¥è¾“å‡ºï¼Œä»¥åŠå…¶ä»–çš„å®ˆæŠ¤è¿›ç¨‹äº¤äº’ã€‚ç±»ä¼¼äºå®Œå…¨åˆ†å¸ƒå¼æ¨¡å¼ï¼Œå› æ­¤ï¼Œè¿™ç§æ¨¡å¼å¸¸ç”¨æ¥å¼€å‘æµ‹è¯•Hadoopç¨‹åºçš„æ‰§è¡Œæ˜¯å¦æ­£ç¡®ã€‚ ä¿®æ”¹3ä¸ªé…ç½®æ–‡ä»¶ï¼šcore-site.xmlï¼ˆHadoopé›†ç¾¤çš„ç‰¹æ€§ï¼Œä½œç”¨äºå…¨éƒ¨è¿›ç¨‹åŠå®¢æˆ·ç«¯ï¼‰ã€hdfs-site.xmlï¼ˆé…ç½®HDFSé›†ç¾¤çš„å·¥ä½œå±æ€§ï¼‰ã€mapred-site.xmlï¼ˆé…ç½®MapReduceé›†ç¾¤çš„å±æ€§ï¼‰ æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿ 2.3ã€ å…¨åˆ†å¸ƒå¼é›†ç¾¤æ¨¡å¼ï¼ˆFull-Distributed Modeï¼‰ Hadoopçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸€ä¸ªé›†ç¾¤ä¸Š Hadoopçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ç”±å¤šå°ä¸»æœºæ­å»ºçš„é›†ç¾¤ä¸Šï¼Œæ˜¯çœŸæ­£çš„ç”Ÿäº§ç¯å¢ƒã€‚ åœ¨æ‰€æœ‰çš„ä¸»æœºä¸Šå®‰è£…JDKå’ŒHadoopï¼Œç»„æˆç›¸äº’è¿é€šçš„ç½‘ç»œã€‚ åœ¨ä¸»æœºé—´è®¾ç½®SSHå…å¯†ç ç™»å½•ï¼ŒæŠŠå„ä»èŠ‚ç‚¹ç”Ÿæˆçš„å…¬é’¥æ·»åŠ åˆ°ä¸»èŠ‚ç‚¹çš„ä¿¡ä»»åˆ—è¡¨ã€‚ ä¿®æ”¹3ä¸ªé…ç½®æ–‡ä»¶ï¼šcore-site.xmlã€hdfs-site.xmlã€mapred-site.xmlï¼ŒæŒ‡å®šNameNodeå’ŒJobTrakerçš„ä½ç½®å’Œç«¯å£ï¼Œè®¾ç½®æ–‡ä»¶çš„å‰¯æœ¬ç­‰å‚æ•° æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿã€‚ ä¸‰ã€æ­å»ºä¼ªåˆ†å¸ƒå¼é›†ç¾¤çš„å‰ææ¡ä»¶3.1ã€ å®éªŒç¯å¢ƒ ubuntu 17.10-x64 jdk_1.8.0_162 Hadoop-3.0.0 Spark-2.3.0 3.2ã€ å®‰è£…JDKï¼Œå¹¶é…ç½®ç¯å¢ƒå˜é‡&nbsp;&nbsp;é¦–å…ˆå»å®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿç‰ˆæœ¬çš„jdk,ç„¶åè§£å‹åˆ°optç›®å½•ä¸‹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š sudo tar -zxvf jdk-8u162-linux-x64.tar.gz -C /opt ç„¶ååˆ‡æ¢åˆ°/optç›®å½•ä¸‹ï¼Œä¿®æ”¹jdkçš„æ–‡ä»¶å¤¹å‘½å mv jdk-8u162-linux-x64 ./jdk æœ€åï¼Œé…ç½®ç¯å¢ƒå˜é‡ï¼Œ vim /etc/profile åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ï¼š 1234export JAVA_HOME=/opt/jdkexport JRE_HOME=$JAVA_HOME/jreexport CLASSPATH=.:$JAVA_HOME/libexport PATH=$PATH:$JAVA_HOME/bin ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š source /etc/profile æœ€åæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ java -version 3.3ã€ å®‰è£…Scala å®˜ç½‘ä¸‹è½½scala(scala-2.12.4.tgz) è§£å‹ä¸‹è½½scalaåŒ… 123sudo tar -xzvf scala-2.12.4.tgz -C /opt/# ä¿®æ”¹æ–‡ä»¶åï¼šsudo mv scala-2.12.4 ./scala æ·»åŠ ç¯å¢ƒå˜é‡ 1234sudo vim /etc/profile# åœ¨åé¢æ·»åŠ ä¸‹é¢å†…å®¹export SCALA_HOME=/opt/scalaexport PATH=$SCALA_HOME/bin:$PATH ä½¿é…ç½®ç”Ÿæ•ˆå¹¶æµ‹è¯• 123source /etc/profile# æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸscala -version # è¾“å‡ºscalaç‰ˆæœ¬å· 3.4ã€ å®‰è£…sshå¹¶è®¾ç½®å…å¯†ç™»å½• å®‰è£…sshã€‚å¦‚æœå·²å®‰è£…åˆ™è·³è¿‡è¿™ä¸€æ­¥ã€‚ 1sudo apt-get install openssh-server é…ç½®sshæ— å¯†ç™»å½• 12ssh-keygen -t rsa # ç„¶åä¸€ç›´å›è½¦cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys æµ‹è¯•sshæ— å¯†ç™»å½• 12ssh localhost# å¦‚æœä¸æç¤ºè¾“å…¥å¯†ç åˆ™é…ç½®æˆåŠŸ [TOC] å››ã€æ­å»ºä¼ªåˆ†å¸ƒå¼é›†ç¾¤4.1ã€ hadoopä¸‹è½½å®‰è£… ä¸‹è½½Hadoop(ç¬”è€…ä¸‹è½½çš„æ˜¯hadoop-3.0.0.tar.gz) è§£å‹å¹¶é‡å‘½å 12345# è§£å‹sudo tar -xzvf hadoop-3.0.0.tar.gz -C /opt/# é‡å‘½åcd /optsudo hadoop-3.0.0 hadoop ä¿®æ”¹æ–‡ä»¶æƒé™ 123cd /optsudo chown -R yourname:yourname hadoop # yournameæ›¿æ¢æˆä½ çš„ç”¨æˆ·å -Rè¡¨ç¤ºé€çº§å¾€ä¸‹æˆæƒ é…ç½®ç¯å¢ƒå˜é‡ 123456sudo vim /etc/profile# åœ¨æœ€åæ·»åŠ ä¸‹é¢ä»£ç export HADOOP_HOME=/opt/hadoopexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbinexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/nativeexport HADOOP_OPTS=\"-Djava.library.path=$HADOOP_COMMON_LIB_NATIVE_DIR\" ä½¿é…ç½®ç”Ÿæ•ˆ 1source /etc/profile æµ‹è¯• 1hadoop version # output the information of the version of the hadoop 4.2ã€ Hadoopä¼ªåˆ†å¸ƒå¼é…ç½® ä¿®æ”¹é…ç½®æ–‡ä»¶hadoop-env.sh 123456# åˆ‡æ¢åˆ°å·¥ä½œç›®å½•cd /opt/hadoop/etc/hadoop# æ‰“å¼€é…ç½®æ–‡ä»¶vim hadoop-env.sh# ç›´æ¥åŠ ä¸Šä¸‹é¢ä»£ç export JAVA_HOME=/opt/jdk ä¿®æ”¹é…ç½®æ–‡ä»¶core-site.xml 1234&lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://219.223.243.131:9000&lt;/value&gt;&lt;/property&gt; 219.223.243.131æ˜¯æˆ‘çš„èŠ‚ç‚¹æ‰€åœ¨ä¸»æœºçš„ip,9000ä¸ºé»˜è®¤çš„ç«¯å£ï¼Œä¸ç”¨æ›´æ”¹ ä¿®æ”¹é…ç½®æ–‡ä»¶hdfs-site.xml 1234567891011121314151617181920&lt;property&gt; &lt;name&gt;dfs.nameservices&lt;/name&gt; &lt;value&gt;hadoop-cluster&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt; &lt;value&gt;file:///data/hadoop/hdfs/nn&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;dfs.namenode.checkpoint.dir&lt;/name&gt; &lt;value&gt;file:///data/hadoop/hdfs/snn&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;dfs.namenode.checkpoint.edits.dir&lt;/name&gt; &lt;value&gt;file:///data/hadoop/hdfs/snn&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;fs.datanode.data.dir&lt;/name&gt; &lt;value&gt;file:///data/hadoop/hdfs/dn&lt;/value&gt;&lt;/property&gt; ä¿®æ”¹é…ç½®æ–‡ä»¶mapred-site.xml 12345678910111213141516171819202122232425262728293031323334&lt;property&gt; &lt;name&gt;mapreduce.framework.name&lt;/name&gt; &lt;value&gt;yarn&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;mapreduce.admin.user.env&lt;/name&gt; &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt; &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;mapreduce.map.env&lt;/name&gt; &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;mapreduce.reduce.env&lt;/name&gt; &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;mapreduce.application.classpath&lt;/name&gt; &lt;value&gt; /opt/hadoop/etc/hadoop, /opt/hadoop/share/hadoop/common/*, /opt/hadoop/share/hadoop/common/lib/*, /opt/hadoop/share/hadoop/hdfs/*, /opt/hadoop/share/hadoop/hdfs/lib/*, /opt/hadoop/share/hadoop/mapreduce/*, /opt/hadoop/share/hadoop/mapreduce/lib/*, /opt/hadoop/share/hadoop/yarn/*, /opt/hadoop/share/hadoop/yarn/lib/* &lt;/value&gt;&lt;/property&gt; ä¿®æ”¹é…ç½®æ–‡ä»¶yarn-site.xml 1234567891011121314151617181920212223&lt;!-- æŒ‡å®šResourceManagerçš„åœ°å€--&gt;&lt;property&gt; &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt; &lt;value&gt;219.223.243.131&lt;/value&gt;&lt;/property&gt;&lt;!-- æŒ‡å®šreducerè·å–æ•°æ®çš„æ–¹å¼--&gt;&lt;property&gt; &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt; &lt;value&gt;mapreduce_shuffle&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;yarn.nodemanager.local-dirs&lt;/name&gt; &lt;value&gt;file:///data/hadoop/yarn/nm&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/name&gt; &lt;value&gt;4&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt; &lt;value&gt;false&lt;/value&gt;&lt;/property&gt; åˆ›å»ºç›¸å…³ç›®å½• 12345678sudo mkdir -p /data/hadoop/hdfs/nnsudo mkdir -p /data/hadoop/hdfs/dnsudo mkdir -p /data/hadoop/hdfs/snnsudo mkdir -p /data/hadoop/yarn/nm# ç„¶åç»™è¿™äº›ç›®å½•è®¾ç½®è¯»å†™æƒé™ï¼Œ# å¦‚æœä½¿ç”¨å½“å‰çš„ç”¨æˆ·ï¼ˆérootç”¨æˆ·ï¼‰å¯åŠ¨ç›¸å…³è¿›ç¨‹ï¼Œ`/data`å¿…é¡»å…·æœ‰ç›¸åº”çš„è¯»å†™æƒé™# ç»™`/data`ç›®å½•åŠå…¶å­ç›®å½•è®¾ç½®è¯»å†™æƒé™ã€‚ -R é€’å½’è®¾ç½®æƒé™sudo chmod -R 777 /data å¯¹HDFSé›†ç¾¤è¿›è¡Œæ ¼å¼åŒ–ï¼ŒHDFSé›†ç¾¤æ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„ 1hdfs namenode -format 4.3ã€ å¯åŠ¨é›†ç¾¤ å¯åŠ¨HDFSé›†ç¾¤ 1234567# å¯åŠ¨ä¸»èŠ‚ç‚¹hdfs --daemon start namenode # å¯åŠ¨ä»èŠ‚ç‚¹hdfs --daemon start datanode # éªŒè¯èŠ‚ç‚¹æ˜¯å¦å¯åŠ¨ï¼Œè¾“å…¥ä¸€ä¸‹å‘½ä»¤jps # çœ‹æ˜¯å¦å‡ºç°namenodeå’Œdatanode å¯åŠ¨YARNé›†ç¾¤ 123456# å¯åŠ¨èµ„æºç®¡ç†å™¨yarn --daemon start resourcemanager# å¯åŠ¨èŠ‚ç‚¹ç®¡ç†å™¨yarn --daemon start nodemanager# éªŒè¯æ˜¯å¦å¯åŠ¨ï¼ŒåŒæ ·æ˜¯é‡‡ç”¨`jps`å‘½ä»¤ï¼Œçœ‹æ˜¯å¦å‡ºæƒ³ç›¸å…³è¿›ç¨‹ å¯åŠ¨ä½œä¸šå†å²æœåŠ¡å™¨ 12mapred --daemon start historyserver# åŒæ ·é‡‡ç”¨`jps`å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸ HDFSå’ŒYARNé›†ç¾¤éƒ½æœ‰å¯¹åº”çš„WEBç›‘æ§é¡µé¢ã€‚ HDFS: http://ip:9870 æˆ–è€… localhost:9870 YARN: http://ip:8088 HDFSé›†ç¾¤çš„ç®€å•æ“ä½œå‘½ä»¤ 123hdfs dfs -ls / # ç›¸å½“äºshellä¸­çš„ llhdfs dfsadmin -safemode leave # å…³é—­å®‰å…¨æ¨¡å¼hdfs dfs -mkdir -p /user/input # åœ¨hdfsæ–‡ä»¶ç³»ç»Ÿä¸Šçº§è”åˆ›å»ºæ–‡ä»¶/user/inputï¼Œ YARNé›†ç¾¤examplesæµ‹è¯• 1234567891011# è®¡ç®—PIå€¼çš„ä½œä¸šyarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar pi 4 100# wordcountä¾‹å­# é¦–å…ˆåˆ›å»ºä¸€ä¸ªè¾“å…¥æ–‡ä»¶ï¼Œå¹¶ä¸Šä¼ åˆ°hdfsæ–‡ä»¶ç³»ç»Ÿä¸Šhdfs dfs -put input /user/heany# ç„¶åæ‰§è¡Œyarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar wordcount input output# ç”¨å‘½ä»¤è¡ŒæŸ¥çœ‹ç»“æœhdfs dfs -cat /user/output/part-r-00000# æˆ–è€…åœ¨ç½‘é¡µä¸ŠæŸ¥çœ‹ äº”ã€ å®‰è£…Spark5.1ã€ ä¸‹è½½å®‰è£…Spark ä¸‹è½½Spark(ç¬”è€…ä¸‹è½½çš„æ˜¯spark-2.3.0-bin-hadoop2.7.tgz) è§£å‹ä¸‹è½½çš„SparkåŒ… 1sudo tar -zxvf spark-2.3.0-bin-hadoop2.7.tgz -C /opt é‡å‘½å 123# åˆ‡æ¢åˆ°å·¥ä½œç›®å½•cd /optsudo mv spark-2.3.0-bin-hadoop2.7 spark æ·»åŠ ç¯å¢ƒå˜é‡ 1234sudo vim /etc/profile# åœ¨æœ€åæ·»åŠ ä¸‹é¢çš„ä»£ç export SPARK_HOME=/opt/sparkexport PATH=$SPARK_HOME/bin:$SPARK_HOME/sbin:$PATH ä¿®æ”¹æ–‡ä»¶çš„æƒé™ 12cd /optsudo chown -R yourname:yourname ./spark 5.2ã€ ä¿®æ”¹é…ç½®æ–‡ä»¶123456789# æ‹·è´é…ç½®æ–‡ä»¶cd /opt/sparkcp ./conf/spark-env.sh.template ./conf/spark-env.sh# ä¿®æ”¹é…ç½®æ–‡ä»¶vim ./conf/spark-env.sh# åœ¨æœ€åæ·»åŠ ä¸‹é¢çš„ä»£ç export SPARK_DIST_CLASSPATH=$(/opt/hadoop/bin/hadoop classpath)export JAVA_HOME=/opt/jdk 5.3ã€è¿è¡ŒexampleséªŒè¯å®‰è£…123/opt/spark/bin/run-example SparkPi 2&gt;&amp;1 | grep \"Pi is roughly\"# output# Pi is roughly 3.143635718178591 5.4ã€ è„šæœ¬å¯åŠ¨Hadoopå’ŒSpark å¯åŠ¨spark 1/opt/spark/sbin/start-all.sh é€šè¿‡WEBé¡µé¢æŸ¥çœ‹ æµè§ˆå™¨è¾“å…¥åœ°å€ï¼šhttp://localhost:8080 ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬ 12345678910111213141516171819202122232425# å¯åŠ¨Hadoopä»¥åŠSparkè„šæœ¬#!/bin/bash# å¯åŠ¨Hadoopä»¥åŠyarnstart-dfs.shstart-yarn.sh# å¯åŠ¨å†å²æœåŠ¡å™¨#mr-jobhistory-daemon.sh start historyservermapred --daemon start historyserver# å¯åŠ¨Spark/opt/spark/sbin/start-all.sh# åœæ­¢Hadoopä»¥åŠSparkè„šæœ¬#!/bin/bash# åœæ­¢Hadoopä»¥åŠyarnstop-dfs.shstop-yarn.sh# åœæ­¢å†å²æœåŠ¡å™¨#mr-jobhistory-daemon.sh stop historyservermapred --daemon stop historyserver# åœæ­¢Spark/opt/spark/sbin/stop-all.sh","tags":[{"name":"Ubuntu 17.10 hadoop Spark","slug":"Ubuntu-17-10-hadoop-Spark","permalink":"http://heany.github.io/tags/Ubuntu-17-10-hadoop-Spark/"}]},{"title":"Shell Scriptå­¦ä¹ ç¬”è®°","date":"2018-03-31T06:09:19.000Z","path":"2018/03/31/Shell-Scriptå­¦ä¹ ç¬”è®°/","text":"ä¸€ã€ å‰è¨€æœ€è¿‘å¼€å§‹ä½¿ç”¨Linuxç³»ç»Ÿï¼Œç»å¸¸æ“ä½œterminalï¼Œç»å¸¸ä½¿ç”¨Linuxä¸‹çš„bashæ¥è¿›è¡Œä¸€äº›é‡å¤çš„æ“ä½œï¼Œå› æ­¤æƒ³å­¦ä¹ shell scriptæ¥ç®€åŒ–ä¸€äº›å®‰è£…è½¯ä»¶çš„æ­¥éª¤ï¼Œå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²ä¸€äº›åº”ç”¨ï¼ŒèŠ‚çº¦æ—¶é—´ã€‚æœ¬æ–‡ä»‹ç»äº†ä¸€äº›bashå‘½ä»¤çš„ä¸€äº›æŠ€å·§ï¼Œç„¶åè¯¦ç»†åœ°è®²è§£äº†æ­£åˆ™è¡¨è¾¾å¼ä¸æ–‡ä»¶æ ¼å¼åŒ–å¤„ç†ï¼Œå¹¶ä¸”å¯¹äºæ¯ä¸€ä¸ªæ“ä½œéƒ½æœ‰ç›¸å…³çš„å®ä¾‹è¿›è¡Œç»ƒä¹ ï¼ŒåŠ å¼ºç†è§£;shell scriptï¼ŒåŒæ ·å¯¹äºæ¯ä¸€ä¸ªåŠŸèƒ½éƒ½æœ‰ç›¸åº”çš„å®ä¾‹è¿›è¡Œç»ƒä¹ ï¼Œå¯ä»¥è¯´ï½éå¸¸é€‚åˆæ–°æ‰‹æ¥é˜…è¯»å­¦ä¹ äº†ï¼ äºŒã€ åŸºç¡€çŸ¥è¯†&nbsp;&nbsp;ä»€ä¹ˆæ˜¯ shell script (ç¨‹åºåŒ–è„šæœ¬) å‘¢ï¼Ÿå°±å­—é¢ä¸Šçš„æ„ä¹‰ï¼Œæˆ‘ä»¬å°†ä»–åˆ†ä¸ºä¸¤éƒ¨ä»½ã€‚ åœ¨ã€ shell ã€éƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨bashå½“ä¸­å·²ç»æè¿‡äº†ï¼Œé‚£æ˜¯ä¸€ä¸ªæ–‡å­—ä»‹é¢åº•ä¸‹è®©æˆ‘ä»¬ä¸ç³»ç»Ÿæ²Ÿé€šçš„ä¸€ä¸ªå·¥å…·ä»‹é¢ã€‚é‚£ä¹ˆã€ script ã€æ˜¯å•¥ï¼Ÿ å­—é¢ä¸Šçš„æ„ä¹‰ï¼Œ script æ˜¯ã€è„šæœ¬ã€å‰§æœ¬ã€çš„æ„æ€ã€‚æ•´å¥è¯æ˜¯è¯´ï¼Œ shell script æ˜¯é’ˆå¯¹ shell æ‰€å†™çš„ã€å‰§æœ¬ï¼ã€&nbsp;&nbsp;ä»€ä¹ˆä¸œè¥¿å•Šï¼Ÿå…¶å®ï¼Œ shell script æ˜¯åˆ©ç”¨ shell çš„åŠŸèƒ½æ‰€å†™çš„ä¸€ä¸ªã€ç¨‹åº (program)ã€ï¼Œè¿™ä¸ªç¨‹åºæ˜¯ä½¿ç”¨çº¯æ–‡å­—æ¡£ï¼Œå°†ä¸€äº› shell çš„è¯­æ³•ä¸å‘½ä»¤(å«å¤–éƒ¨å‘½ä»¤)å†™åœ¨é‡Œé¢ï¼Œ æ­é…æ­£è§„è¡¨ç¤ºæ³•ã€ç®¡çº¿å‘½ä»¤ä¸æ•°æ®æµé‡å¯¼å‘ç­‰åŠŸèƒ½ï¼Œä»¥è¾¾åˆ°æˆ‘ä»¬æ‰€æƒ³è¦çš„å¤„ç†ç›®çš„ã€‚&nbsp;&nbsp;shell script æ›´æä¾›é˜µåˆ—ã€å›åœˆã€æ¡ä»¶ä¸é€»è¾‘åˆ¤æ–­ç­‰é‡è¦åŠŸèƒ½ï¼Œè®©ä½¿ç”¨è€…ä¹Ÿå¯ä»¥ç›´æ¥ä»¥ shell æ¥æ’°å†™ç¨‹åºï¼Œè€Œä¸å¿…ä½¿ç”¨ç±»ä¼¼ C ç¨‹åºè¯­è¨€ç­‰ä¼ ç»Ÿç¨‹åºæ’°å†™çš„è¯­æ³•å‘¢ï¼ 2.1 ä¸€äº›shellå‘½ä»¤çš„åŸºç¡€çŸ¥è¯†åŠæŠ€å·§&nbsp;&nbsp;ä¸€äº›å¿«æ·é”®ï¼š^A :é¼ æ ‡å…‰æ ‡ç§»åˆ°å‘½ä»¤æœ€å·¦ç«¯^E :é¼ æ ‡å…‰æ ‡ç§»åˆ°å‘½ä»¤æœ€å³ç«¯^k :åˆ é™¤é¼ æ ‡å…‰æ ‡åé¢çš„å‘½ä»¤^u :åˆ é™¤é¼ æ ‡å…‰æ ‡å‰é¢çš„å‘½ä»¤^s :é”å®šterminal^Q :è§£é”^y :æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ^D :è¾“å…¥ç»“æŸï¼ˆEOFï¼‰ï¼Œä¾‹å¦‚é‚®ä»¶ç»“æŸçš„æ—¶å€™^Z :æš‚åœç›®å‰çš„å‘½ä»¤ catå‘½ä»¤çš„ä¸€äº›æŠ€å·§ï¼šä»¥ä¸‹ä»£ç å°†å†…å®¹å†™å…¥file12345cat &lt;&lt; EOF &gt; file&gt; hello&gt; world&gt; ......&gt; EOF ç®¡é“åŠtee ç®¡é“: ç®¡é“çš„ä½œç”¨æ˜¯å°†å‰ä¸€æ¡å‘½ä»¤çš„è¾“å‡ºå˜æˆç®¡é“åå‘½ä»¤çš„è¾“å…¥ ls /bin | wc -l ##ç»Ÿè®¡ ls /binå‘½ä»¤è¾“å‡ºçš„è¡Œæ•° ç³»ç»Ÿä¸­é”™è¯¯çš„è¾“å‡ºæ˜¯æ— æ³•é€šè¿‡ç®¡é“çš„ ç”¨ 2&gt;&amp;1 å¯ä»¥æŠŠé”™è¯¯çš„è¾“å‡ºç¼–å·ç”±2å˜æˆ1 tee: teeå¤åˆ¶è¾“å‡ºåˆ°æŒ‡å®šä½ç½® data | tee file |wc -l ##teeå‘½ä»¤å¤åˆ¶dateå‘½ä»¤çš„è¾“å‡ºåˆ°fileä¸­ï¼Œå¹¶ç»Ÿè®¡è¾“å‡ºè¡Œæ•° 2.2 è„šæœ¬ä¸­è°ƒç”¨å…¶ä»–çš„è§£é‡Šå™¨(å¦‚python)æ‰§è¡Œçš„ä»£ç &nbsp;&nbsp;shell scriptä¸­ç¬¬ä¸€è¡Œé€šå¸¸éœ€è¦ä¸€è¡ŒæŒ‡ä»¤æŒ‡å®šæ‰§è¡Œæ­¤è„šæœ¬çš„è§£é‡Šå™¨,å¦‚ï¼š #!/bin/bash #!/bin/python #!/bin/perl ä»¥ä¸Šåˆ†åˆ«æŒ‡å®šäº†å¸¸ç”¨çš„ä¸‰ç§è„šæœ¬çš„è§£é‡Šå™¨ï¼Œ å¤šæ¡å‘½ä»¤æ‰§è¡Œ ç”¨;å·åˆ†éš”ï¼Œè¿™ç§æ–¹å¼å„æ¡å‘½ä»¤ä¹‹é—´æ²¡æœ‰é€»è¾‘æ€§ cd; ls; ll ç”¨é€»è¾‘è¿æ¥ç¬¦&amp;&amp; ||æ¥è¿æ¥ã€‚ ./confirgure &amp;&amp; make &amp;&amp; make install ##å¿…é¡»å‰é¢çš„å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„å‘½ä»¤123if con1 com2else com3 ä¸Šé¢è¿™æ®µä»£ç ç›¸å½“äº com1 &amp;&amp; com2 &amp;&amp; com3 shellé€šé…ç¬¦ * :ä»»æ„ä¸ª? :1ä¸ª[]:åŒ¹é…æ‹¬å·é‡Œé¢çš„ä¸€ä¸ª echoè¾“å‡ºé¢œè‰²æ–‡æœ¬ echo -e &quot;\\e[1;31m This is red text. \\e[0m&quot; printfæ ¼å¼åŒ–è¾“å‡º printf â€œhello\\nâ€ readå‘½ä»¤å˜é‡é”®ç›˜è¯»å–ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š read [-pt] variable paras: -p :åé¢æ¥æç¤ºç¬¦ -t :åé¢æ¥ç­‰å¾…çš„â€œç§’æ•°â€ example: read atest read -p &quot;please a string:&quot; -t 30 atest declare/typesetå‘½ä»¤ï¼šå£°æ˜å˜é‡çš„ç±»å‹ï¼šé»˜è®¤ç±»å‹ä¸ºå­—ç¬¦ä¸² declare [-aixr] variable paras: -a :å°†åé¢çš„variableçš„å˜é‡å®šä¹‰ä¸ºæ•°ç»„ï¼ˆarrayï¼‰ç±»å‹ -i :å®šä¹‰ä¸ºintegerç±»å‹ -x :ç”¨æ³•ä¸exportä¸€æ ·ï¼Œå°†åé¢çš„å˜é‡å˜æˆç¯å¢ƒå˜é‡ -r :å°†å˜é‡è®¾ç½®æˆä¸ºreadonlyç±»å‹ï¼Œè¯¥å˜é‡ä¸å¯è¢«æ›´æ”¹ï¼Œä¹Ÿä¸èƒ½é‡è®¾ example: sum=100+300+50 echo $sum # sum=100+300+50 declare -i sum=100+300+50 echo $sum #450 arrayæ•°ç»„å˜é‡ç±»å‹;è¯»å–æ—¶ï¼š${æ•°ç»„} var[index]=content example: var[1]=&quot;Tom&quot; var[2]=&quot;tony&quot; echo &quot;${var[1]},${var[2]}&quot; #Tom,tony aliasã€unaliaså‘½ä»¤åˆ«åè®¾ç½®ï¼š; alias lm=â€™ls -l | moreâ€™ #lmæ‰§è¡Œçš„æ˜¯ls -all more unalias lm #å»æ‰lmå‘½ä»¤çš„åˆ«å historyæŸ¥è¯¢å†å²å‘½ä»¤ history [n] history [-c] history [-raw] paras: n :æ•°å­—ï¼Œåˆ—å‡ºæœ€è¿‘çš„næ¡å‘½ä»¤è¡Œçš„æ„æ€ -c ï¼šå°†ç›®å‰çš„shellä¸­çš„æ‰€æœ‰historyå†…å®¹å…¨éƒ¨æ¶ˆé™¤ -a : å°†æ–°å¢çš„historyå‘½ä»¤æ–°å¢è¿›å»histfiles,æˆ–é»˜è®¤å†™å…¥~/.bash_history -r : å°†histfilesçš„å†…å®¹è¯»åˆ°ç›®å‰è¿™ä¸ªshellçš„historyä¸­ -w : å°†ç›®å‰çš„historyè®°å¿†å†…å®¹å†™è¿›histfilesä¸­ã€‚ å¦ï¼š ï¼number ï¼šæ‰§è¡Œç¬¬å‡ æ¡å‘½ä»¤çš„æ„æ€ !command ï¼šç”±æœ€è¿‘çš„å‘½ä»¤å‘å‰æœå¯»å‘½ä»¤ä¸²å¼€å¤´commandçš„é‚£ä¸ªå‘½ä»¤ï¼Œå¹¶æ‰§è¡Œ !! : æ‰§è¡Œä¸Šä¸€ä¸ªå‘½ä»¤ 2.3 æ•°æ®æµé‡å®šå‘(redirect) æ•°æ®æµé‡å®šå‘å°±æ˜¯å°†æŸä¸ªå‘½ä»¤æ‰§è¡Œååº”è¯¥è¦å‡ºç°åœ¨å±å¹•ä¸Šçš„æ•°æ®ä¼ è¾“åˆ°å…¶ä»–çš„åœ°æ–¹ã€‚ æ ‡å‡†è¾“å…¥(stdin):ä»£ç ä¸º0ï¼Œä½¿ç”¨&lt;(è¦†ç›–)æˆ–&lt;&lt;(è¿½åŠ ) æ ‡å‡†è¾“å‡º(stdout)ï¼šä»£ç ä¸º1ï¼Œä½¿ç”¨&gt;æˆ–&gt;&gt; æ ‡å‡†é”™è¯¯è¾“å‡º(stderr):ä»£ç ä¸º2ï¼Œä½¿ç”¨2&gt;æˆ–2&gt;&gt; /dev/nullåƒåœ¾æ¡¶é»‘æ´è®¾å¤‡ find /home -name .bashrc 2&gt; /dec/null #å°†é”™è¯¯çš„æ•°æ®ä¸¢å¼ƒï¼Œå±å¹•ä¸Šæ˜¾ç¤ºæ­£ç¡®çš„æ•°æ® ## /home/heany/.bashrc standard input:&lt;ä¸&lt;&lt; cat &gt; catfile &lt; ~/.bashrc #ç”¨stdinæ›¿ä»£é”®ç›˜çš„è¾“å…¥ä»¥åˆ›å»ºæ–°æ–‡ä»¶çš„ç®€å•æµç¨‹ cat &gt; catfile &lt;&lt; &quot;eof&quot; &gt; This is a test. &gt; OK now stop &gt; eof #è¾“å…¥è¿™ä¸ªå…³é”®å­—ï¼Œç«‹åˆ»å°±ç»“æŸä¸éœ€è¦è¾“å…¥[ctrl+D] 2.4 ç®¡é“å‘½ä»¤(pipe) ç®¡é“å‘½ä»¤ä½¿ç”¨|è¿™ä¸ªç•Œå®šç¬¦å·ï¼Œä»…èƒ½å¤„ç†ç»ç”±å‰é¢ä¸€ä¸ªå‘½ä»¤ä¼ æ¥çš„æ­£ç¡®çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯standard outputçš„ä¿¡æ¯ï¼Œå¯¹äºstandard errorå¹¶æ²¡æœ‰ç›´æ¥å¤„ç†çš„èƒ½åŠ›ã€‚ç®¡é“åé¢æ¥çš„ç¬¬ä¸€ä¸ªæ•°æ®å¿…å®šæ˜¯â€å‘½ä»¤â€œï¼Œè€Œä¸”è¿™ä¸ªå‘½ä»¤å¿…é¡»è¦èƒ½å¤Ÿæ¥æ”¶standard inputçš„æ•°æ®æ‰è¡Œï¼Œè¿™æ ·çš„å‘½ä»¤æ‰å¯ä»¥æ˜¯â€œç®¡é“å‘½ä»¤â€ï¼Œä¾‹å¦‚less, more,head, tailç­‰ã€‚è€Œls, cp ,mvè¿™äº›åˆ™ä¸æ˜¯ç®¡é“å‘½ä»¤ï¼Œå› ä¸ºä»–ä»¬ä¸ä¼šæ¥æ”¶æ¥è‡ªstdinçš„æ•°æ®ã€‚ 2.4.1 é€‰å–å‘½ä»¤ï¼šcut,grep é€‰å–å‘½ä»¤å°±æ˜¯å°†ä¸€æ®µæ•°æ®ç»è¿‡åˆ†æåï¼Œå–å‡ºæˆ‘ä»¬æ‰€æƒ³è¦çš„ï¼Œæˆ–è€…æ˜¯ç»ç”±åˆ†æå…³é”®å­—ï¼Œå¾—æˆ‘ä»¬æ‰€æƒ³è¦çš„å“ªä¸€è¡Œï¼Œé€šå¸¸æ˜¯é’ˆå¯¹â€è¡Œâ€æ¥åˆ†æçš„ã€‚ cutè¿™ä¸ªå‘½ä»¤å¯ä»¥å°†ä¸€æ®µä¿¡æ¯çš„æŸä¸€æ®µâ€œåˆ‡å‡ºæ¥â€ï¼Œå¤„ç†ä¿¡æ¯ä»¥â€œè¡Œâ€ä¸ºå•ä½ã€‚ cut -d &apos;åˆ†éš”å­—ç¬¦&apos; -f fields #ç”¨äºåˆ†éš”å­—ç¬¦ cut -c å­—ç¬¦èŒƒå›´ #ç”¨äºæ’åˆ—æ•´é½çš„ä¿¡æ¯ paras: -f ï¼šä¾æ®-dçš„åˆ†éš”å­—ç¬¦å°†ä¸€æ®µä¿¡æ¯åˆ‡å‰²æˆæ•°æ®µï¼Œç”¨-få–å‡ºç¬¬å‡ æ®µçš„æ„æ€ã€‚ -c ï¼šä»¥å­—ç¬¦çš„å•ä½å–å‡ºå›ºå®šå­—ç¬¦åŒºé—´ examples: echo $PATH | cut -d &apos;:&apos; -f 5 ## å°†echo $PATHç»“æœä»¥&quot;:&quot;åˆ†éš”ï¼Œï¼Œæ‰¾åˆ°ç¬¬5ä¸ª export | cut -c 12- ## å°†exportè¾“å‡ºçš„ä¿¡æ¯å–å¾—ç¬¬12å­—ç¬¦åçš„æ‰€æœ‰å­—ç¬¦ä¸² grepå‘½ä»¤æ˜¯åˆ†æä¸€è¡Œä¿¡æ¯ï¼Œè‹¥å½“ä¸­æœ‰æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ï¼Œå°±å°†è¯¥è¡Œæ‹¿å‡ºæ¥ã€‚ grep [-acinv] [â€“color=auto] â€˜æŸ¥æ‰¾å­—ç¬¦ä¸²â€™ filename paras: -a:å°†binaryæ–‡ä»¶ä»¥textæ–‡ä»¶çš„å½¢å¼æŸ¥æ‰¾æ•°æ® -c:è®¡ç®—æ‰¾åˆ°â€æŸ¥æ‰¾å­—ç¬¦ä¸²â€çš„æ¬¡æ•° -i:å¿½ç•¥å¤§å°å†™çš„ä¸åŒï¼Œæ‰€ä»¥å¤§å°å†™è§†ä¸ºç›¸åŒ -n:é¡ºä¾¿è¾“å‡ºè¡Œå· -v: åå‘é€‰æ‹©ï¼Œå³æ˜¾ç¤ºæ²¡æœ‰â€æŸ¥æ‰¾å­—ç¬¦ä¸²â€å†…å®¹çš„é‚£ä¸€è¡Œ â€“color=auto : å¯ä»¥å°†æ‰¾åˆ°çš„å…³é”®å­—éƒ¨åˆ†åŠ ä¸Šé¢œè‰²æ˜¾ç¤º examples: last | grep â€˜rootâ€™ #å°†lastä¸­æœ‰å‡ºç°rootçš„é‚£ä¸€è¡Œå°±å–å‡ºæ¥ last | grep -v â€˜rootâ€™ # ä¸ä¸Šé¢ç›¸åï¼Œåªè¦æ²¡æœ‰rootå°±å–å‡º last | grep â€˜rootâ€™ | cut -d â€˜â€™ -f 1 #åœ¨å–å‡ºrootåï¼Œåˆ©ç”¨ä¸Šä¸€ä¸ªå‘½ä»¤cutçš„å¤„ç†ï¼Œå°±èƒ½å–å‡ºç¬¬ä¸€åˆ— 2.4.2 æ’åºå‘½ä»¤ï¼šsort, wc ,uniq sortæ’åº sort [-fbMnrtuk] [file or stdin] paras: -f : å¿½ç•¥å¤§å°å†™çš„å·®å¼‚ -b : å¿½ç•¥æœ€å‰é¢çš„ç©ºæ ¼ç¬¦éƒ¨åˆ† -M : ä»¥æœˆä»½çš„åå­—æ¥æ’åº -n : ä½¿ç”¨â€çº¯æ•°å­—â€œè¿›è¡Œæ’åº -r : åå‘æ’åº -u : å°±æ˜¯uniqï¼Œç›¸åŒçš„æ•°æ®ä¸­ï¼Œä»…å‡ºç°ä¸€è¡Œä»£è¡¨ -t : åˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ç”¨[Tab]é”®æ¥åˆ†éš” -k : ä»¥é‚£ä¸ªåŒºé—´(field)æ¥è¿›è¡Œæ’åºçš„æ„æ€ examples: cat /etc/passwd | sort -t &apos;:&apos; -k 3 #ä»¥:æ¥åˆ†éš”ï¼Œä»¥ç¬¬ä¸‰åˆ—æ¥æ’åº last | cut -d &apos;&apos; -f1 | sort #åˆ©ç”¨lastå°†è¾“å‡ºçš„æ•°æ®ä»…å–è´¦å·ï¼Œå¹¶åŠ ä»¥æ’åº uniqå°†é‡å¤çš„æ•°å­—ä»…åˆ—å‡ºä¸€ä¸ªæ˜¾ç¤º uniq [-ic] paras: -i : å¿½ç•¥å¤§å°å†™å­—ç¬¦çš„ä¸åŒ -c : è¿›è¡Œè®¡æ•° examples: last | cut -d &apos;&apos; -f1 | sort |uniq # ä½¿ç”¨lastå°†è´¦å·åˆ—å‡ºï¼Œä»…å–å‡ºè´¦å·åˆ—ï¼Œè¿›è¡Œæ’åºåå–å‡ºæœ€åä¸€ä½ wcè®¡ç®—è¾“å‡ºä¿¡æ¯çš„æ•´ä½“æ•°æ® wc [-lwm] paras: -l : ä»…åˆ—å‡ºè¡Œ -w : ä»…åˆ—å‡ºå¤šå°‘å­— -m : å¤šå°‘å­—ç¬¦ examples: cat /etc/man.config | wc #åˆ—å‡ºconfigé‡Œé¢åˆ°åº•æœ‰å¤šå°‘ç›¸å…³è¡Œæ•°ã€å­—æ•°ã€å­—ç¬¦æ•°ï¼Œåˆ†åˆ«è¾“å‡ºä¸‰åˆ— 2.4.3 åŒå‘é‡å®šå‘ï¼štee*tee*ä¼šåŒæ—¶å°†æ•°æ®æµé€ä¸æ–‡ä»¶äºå±å¹•ï¼Œè€Œè¾“å‡ºåˆ°å±å¹•çš„å°±æ˜¯standout,å¯ä»¥è®©ä¸‹ä¸ªå‘½ä»¤ç»§ç»­å¤„ç†ã€‚ tee [-a] file paras: -a : ä»¥ç´¯åŠ (append)çš„æ–¹å¼ï¼Œå°†æ•°æ®åŠ å…¥fileå½“ä¸­ã€‚ examples: last | tee [-a] last.list | cut -d &apos;&apos; -f1 #å°†lastçš„è¾“å‡ºå­˜ä¸€ä»½last.listæ–‡ä»¶ä¸­ 2.4.4 å­—ç¬¦è½¬æ¢å‘½ä»¤ï¼štr, col, join, paste, expandä¸»è¦ä»‹ç»è¿™äº›å­—ç¬¦è½¬æ¢å‘½ä»¤åœ¨ç®¡é“ä¸­çš„ä½¿ç”¨æ–¹æ³• trå¯ä»¥ç”¨æ¥åˆ é™¤ä¸€æ®µä¿¡æ¯å½“ä¸­çš„æ–‡å­—ï¼Œæˆ–è€…æ˜¯è¿›è¡Œæ–‡å­—ä¿¡æ¯çš„æ›¿æ¢ tr [-ds] SET1 .... paras: -d : åˆ é™¤ä¿¡æ¯å½“ä¸­çš„SET1è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œ -s : æ›¿æ¢æ‰é‡å¤çš„å­—ç¬¦ä¸² examples: last | tr [a-z] [A-Z] #å°†lastè¾“å‡ºçš„ä¿¡æ¯ä¸­æ‰€æœ‰çš„å°å†™å­—ç¬¦å˜æˆå¤§å†™å­—ç¬¦ col col [-xb] paras: -x : å°†Tabé”®è½¬æ¢æˆå¯¹ç­‰çš„ç©ºæ ¼é”® -b : åœ¨æ–‡å­—å†…æœ‰åæ–œæ \\æ—¶ï¼Œä»…ä¿ç•™åæ–œæ æœ€åæ¥çš„é‚£ä¸ªå­—ç¬¦ joinå¤„ç†ä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„æ•°æ®ï¼Œè€Œä¸”ä¸»è¦æ˜¯å°†ä¸¤ä¸ªæ–‡ä»¶å½“ä¸­æœ‰ç›¸åŒæ•°æ®çš„é‚£ä¸€è¡ŒåŠ åœ¨ä¸€èµ·ã€‚ join [-ti12] file1 file2 paras: -t : joiné»˜è®¤ä»¥ç©ºæ ¼ç¬¦åˆ†éš”æ•°æ®ï¼Œå¹¶ä¸”å¯¹æ¯”â€ç¬¬ä¸€ä¸ªå­—æ®µâ€œçš„æ•°æ®ï¼Œå¦‚æœä¸¤ä¸ªæ–‡ä»¶ç›¸åŒï¼Œåˆ™å°†ä¸¤æ¡æ•°æ®è¿æˆä¸€è¡Œï¼Œä¸”ç¬¬ä¸€ä¸ªå­—æ®µæ”¾åœ¨ç¬¬ä¸€ä¸ªã€‚ -i : å¿½ç•¥å¤§å°å†™çš„å·®å¼‚ -1 : è¿™ä¸ªæ˜¯æ•°å­—çš„1,ä»£è¡¨ç¬¬ä¸€ä¸ªæ–‡ä»¶è¦ç”¨å“ªä¸ªå­—æ®µæ¥åˆ†æçš„æ„æ€ -2 : ä»£è¡¨ç¬¬äºŒä¸ªæ–‡ä»¶è¦ç”¨å“ªä¸ªå­—æ®µæ¥åˆ†æçš„æ„æ€ã€‚ examples: join -t &apos;:&apos; /etc/passwd /etc/shadow #å°†ä¸¤ä¸ªæ–‡ä»¶ç¬¬ä¸€ä¸ªå­—æ®µç›¸åŒè€…æ•´åˆæˆä¸€è¡Œ pasteç›´æ¥å°†ä¸¤è¡Œè´´åœ¨ä¸€èµ·ï¼Œä¸”ä¸­é—´ä¸€[tab]é”®éš”å¼€ã€‚ paste [-d] file1 file2 paras: -d : åé¢å¯ä»¥æ¥åˆ†éš”å­—ç¬¦ï¼Œé»˜è®¤æ˜¯ä»¥[tab]æ¥åˆ†éš”çš„ - : å¦‚æœfileéƒ¨åˆ†å†™æˆ - ï¼Œè¡¨ç¤ºæ¥è‡ªstandard inputçš„æ•°æ®çš„æ„æ€ examples: paste /etc/passwd /etc/shadow # å°†ä¸¤ä¸ªæ–‡ä»¶çš„åŒä¸€è¡Œè´´åœ¨ä¸€èµ· 2.4.5 åˆ‡å‰²å‘½ä»¤ï¼šsplitåˆ‡å‰²å‘½ä»¤å°†ä¸€ä¸ªå¤§æ–‡ä»¶ä¾æ®æ–‡ä»¶å¤§å°æˆ–è¡Œæ•°æ¥åˆ‡å‰²æˆä¸ºå°æ–‡ä»¶ split [-bl] file PREFIX paras: -b : åé¢å¯æ¥æ¬²åˆ‡å‰²æˆçš„æ–‡ä»¶å¤§å°ï¼Œå¯åŠ å•ä½ -l : ä»¥è¡Œæ•°æ¥è¿›è¡Œåˆ‡å‰² PREFIX : ä»£è¡¨å‰å¯¼ç¬¦ï¼Œå¯ä½œä¸ºåˆ‡å‰²æ–‡ä»¶çš„å‰å¯¼æ–‡å­—ã€‚ examples: cd /tmp; split -b 300k /etc/termcap termcap # å°†/etc/termcapåˆ†æˆ300Kä¸€ä¸ªæ–‡ä»¶ ls -al / | split -l 10 -lsroot #å°†ä½¿ç”¨ls-al /è¾“å‡ºçš„ä¿¡æ¯ä¸­ï¼Œæ¯10è¡Œè®°å½•æˆä¸€ä¸ªæ–‡ä»¶ ä¸‰ã€ æ­£åˆ™è¡¨è¾¾å¼ä¸æ–‡ä»¶æ ¼å¼åŒ–å¤„ç†3.1ã€ æ­£åˆ™è¡¨è¾¾å¼æ¦‚å¿µ(Regular Expression) ç®€å•çš„è¯´,æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯å¤„ç†å­—ä¸²çš„æ–¹æ³•,ä»–æ˜¯ä»¥è¡Œä¸ºå•ä½æ¥è¿›è¡Œå­—ä¸²çš„å¤„ç†è¡Œä¸º, æ­£åˆ™è¡¨è¾¾å¼é€šè¿‡ä¸€äº›ç‰¹æ®Šç¬¦å·çš„è¾…åŠ©,å¯ä»¥è®©ä½¿ç”¨è€…è½»æ˜“çš„è¾¾åˆ°â€œæœå¯»/åˆ é™¤/å–ä»£â€æŸç‰¹å®šå­—ä¸²çš„å¤„ç†ç¨‹åº!å¼ºå¤§çš„å­—ç¬¦ä¸²å¤„ç†èƒ½åŠ› 3.2ã€ åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼3.2.1ã€ è¯­ç³»å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„å½±å“&nbsp;&nbsp;è®¡ç®—æœºæ–‡ä»¶å…¶å®è®°å½•çš„ä»…æœ‰0ä¸1,æˆ‘ä»¬çœ‹åˆ°çš„å­—ç¬¦æ–‡å­—ä¸æ•°å­—éƒ½æ˜¯é€šè¿‡ç¼–ç è¡¨è½¬æ¢æ¥çš„ã€‚ç”±äºä¸åŒè¯­ç³»çš„ç¼–ç æ•°æ®å¹¶ä¸ç›¸åŒï¼Œæ‰€æœ‰å°±ä¼šé€ æˆæ•°æ®æå–ç»“æœçš„å·®å¼‚äº†ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨è‹±æ–‡å¤§å°å†™çš„ç¼–ç é¡ºåºä¸­ï¼Œzh_TW.big5åŠCè¿™ä¸¤ç§è¯­ç³»çš„è¾“å‡ºç»“æœåˆ†åˆ«å¦‚ä¸‹: LANG=Cæ—¶ï¼š0 1 2 3 4 â€¦ A B C D â€¦ Z abcd â€¦ z LANG=zh_TWæ—¶: 0 1 2 3 4 â€¦ a A b B C c â€¦ z Z ä¸Šé¢çš„é¡ºåºæ˜¯ç¼–ç çš„é¡ºåºï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šçš„å‘ç°è¿™ä¸¤ç§è¯­ç³»æ˜æ˜¾å°±æ˜¯ä¸ä¸€æ ·ï¼å¦‚æœä½ æƒ³è¦æå–å¤§å†™å­—ç¬¦è€Œä½¿ç”¨[A-Z]æ—¶ï¼Œä¼šå‘ç°ä¼šå‘ç°LANG=Cç¡®å®å¯ä»¥ä»…æ‰åˆ°å¤§å†™å­—ç¬¦ (å› ä¸ºæ˜¯è¿ç»­çš„),ä½†æ˜¯å¦‚æœ LANG=zh_TW.big5æ—¶,å°±ä¼šå‘ç°åˆ°, è¿åŒå°å†™çš„b-zä¹Ÿä¼šè¢«æ’·å–å‡ºæ¥!å› ä¸ºå°±ç¼–ç çš„é¡ºåºæ¥çœ‹,big5è¯­ç³»å¯ä»¥æ’·å–åˆ°â€œ A b B c C â€¦ z Z â€è¿™ä¸€å †å­—ç¬¦å“©! æ‰€ä»¥,ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ—¶,éœ€è¦ç‰¹åˆ«ç•™æ„å½“æ—¶ç¯å¢ƒçš„è¯­ç³»ä¸ºä½•, å¦åˆ™å¯èƒ½ä¼šå‘ç°ä¸åˆ«äººä¸ç›¸åŒçš„æ’·å–ç»“æœå–”!ä¸€èˆ¬ç»ƒä¹ æ—¶é‡‡ç”¨LANG=Cè¿™ä¸ªè¯­ç³»ã€‚ ä¸€äº›ç‰¹æ®Šç¬¦å·çš„ä»£è¡¨æ„ä¹‰ 3.2.2ã€ grepçš„ä¸€äº›è¿›é˜¶é€‰é¡¹ grepæ˜¯ä¸€ä¸ªå¾ˆå¸¸è§ä¹Ÿå¾ˆå¸¸ç”¨çš„æŒ‡ä»¤ï¼Œå®ƒæœ€é‡è¦çš„åŠŸèƒ½å°±æ˜¯è¿›è¡Œå­—ç¬¦ä¸²æ•°æ®çš„æ¯”å¯¹ï¼Œç„¶åå°†ç¬¦åˆä½¿ç”¨è€…éœ€æ±‚çš„å­—ä¸²è¡Œå°å‡ºæ¥ã€‚éœ€è¦è¯´æ˜çš„æ˜¯â€œgrep åœ¨æ•°æ®ä¸­æŸ¥å¯»ä¸€ä¸ªå­—ä¸²æ—¶,æ˜¯ä»¥ â€œæ•´è¡Œâ€ ä¸ºå•ä½æ¥è¿›è¡Œæ•°æ®çš„æ’·å–çš„!â€ä¹Ÿå°±æ˜¯è¯´,å‡å¦‚ä¸€ä¸ªæ–‡ä»¶å†…æœ‰ 10 è¡Œ,å…¶ä¸­æœ‰ä¸¤è¡Œå…·æœ‰ä½ æ‰€æœå¯»çš„å­—ä¸²,åˆ™å°†é‚£ä¸¤è¡Œæ˜¾ç¤ºåœ¨å±å¹•ä¸Š,å…¶ä»–çš„å°±ä¸¢å¼ƒäº†! 3.2.3ã€ åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹ ç»ƒä¹ ç”¨æ–‡ä»¶ä¸‹è½½å¦‚ä¸‹ï¼š123456789101112131415161718192021222324wget http://linux.vbird.org/linux_basic/0330regularex/regular_express.txt# content\"Open Source\" is a good mechanism to develop programs.apple is my favorite food.Football game is not use feet only.this dress doesn't fit me.However, this dress is about $ 3183 dollars.^MGNU is free air not free beer.^MHer hair is very beauty.^MI can't finish the test.^MOh! The soup taste good.^Mmotorcycle is cheap than car.This window is clear.the symbol '*' is represented as start.Oh! My god!The gd software is a library for drafting programs.^MYou are the best is mean you are the no. 1.The world &lt;Happy&gt; is the same with \"glad\".I like dog.google is the best tools for search keyword.goooooogle yes!go! go! Let's go.# I am VBird ä¾‹é¢˜ä¸€ã€æœå¯»ç‰¹å®šå­—ä¸² ä»ä¸Šé¢ä¸‹è½½çš„æ–‡ä»¶ä¸­å–theè¿™ä¸ªç‰¹å®šå­—ä¸²ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯è¿™æ ·ï¼š12345678grep -n 'the' regular_express.txt # output8:I can't finish the test.12:the symbol '*' is represented as start.15:You are the best is mean you are the no. 1.16:The world &lt;Happy&gt; is the same with \"glad\".18:google is the best tools for search keyword. å¦‚æœè¦åå‘é€‰æ‹©ï¼Œä¹Ÿå°±æ˜¯å½“è¯¥è¡Œæ²¡æœ‰â€™theâ€™è¿™ä¸ªå­—ä¸²æ—¶æ‰æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œé‚£å°±ç›´æ¥ä½¿ç”¨ï¼š1234567891011121314151617181920grep -vn 'the' regular_express.txt # output1:\"Open Source\" is a good mechanism to develop programs.2:apple is my favorite food.3:Football game is not use feet only.4:this dress doesn't fit me.5:However, this dress is about $ 3183 dollars.6:GNU is free air not free beer.7:Her hair is very beauty.9:Oh! The soup taste good.10:motorcycle is cheap than car.11:This window is clear.13:Oh! My god!14:The gd software is a library for drafting programs.17:I like dog.19:goooooogle yes!20:go! go! Let's go.21:# I am VBird22: å¦‚æœæƒ³å–å¾—ä¸è®ºå¤§å°å†™çš„â€˜theâ€™è¿™ä¸ªå­—ä¸²ï¼Œåˆ™ï¼š12345678910grep -in 'the' regular_express.txt # output8:I can't finish the test.9:Oh! The soup taste good.12:the symbol '*' is represented as start.14:The gd software is a library for drafting programs.15:You are the best is mean you are the no. 1.16:The world &lt;Happy&gt; is the same with \"glad\".18:google is the best tools for search keyword. ä¾‹é¢˜äºŒã€åˆ©ç”¨ä¸­æ‹¬å·[]æ¥æœå¯»é›†åˆå­—ç¬¦ å¦‚æœæˆ‘æƒ³è¦æœå¯»testæˆ–tasteè¿™ä¸¤ä¸ªå•å­—æ—¶,å¯ä»¥å‘ç°åˆ°,å…¶å®å¥¹ä»¬æœ‰å…±é€šçš„â€™t?stâ€™å­˜åœ¨~è¿™ä¸ªæ—¶å€™,æˆ‘å¯ä»¥è¿™æ ·æ¥æœå¯»:12345grep -n 't[ae]st' regular_express.txt# output8:I can't finish the test.9:Oh! The soup taste good. []è¿™ä¸ªé‡Œé¢ä¸è®ºæœ‰å‡ ä¸ªå­—ç¬¦ï¼Œéƒ½ä»…åŒ¹é…æŸä¸€ä¸ªå­—ç¬¦ï¼Œï¼Œå¦‚æœæƒ³è¦æœå¯»åˆ°æœ‰ooçš„å­—ç¬¦ä¸²æ—¶ï¼Œåˆ™ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š 123456789grep -n 'oo' regular_express.txt # output1:\"Open Source\" is a good mechanism to develop programs.2:apple is my favorite food.3:Football game is not use feet only.9:Oh! The soup taste good.18:google is the best tools for search keyword.19:goooooogle yes! ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä¸æƒ³è¦ooå‰é¢æœ‰gçš„è¯å‘¢ï¼Ÿæ­¤æ—¶ï¼Œå¯ä»¥åˆ©ç”¨åœ¨é›†åˆå­—ç¬¦çš„åå‘é€‰æ‹©æ¥è¾¾æˆï¼š1234567grep -n '[^g]oo' regular_express.txt# output2:apple is my favorite food.3:Football game is not use feet only.18:google is the best tools for search keyword.19:goooooogle yes! å¦‚æœæˆ‘ä»¬ä¸æƒ³è¦ooå‰é¢æœ‰å°å†™å­—ç¬¦ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š1234grep -n '[^a-z]oo' regular_express.txt# output3:Football game is not use feet only. è¿ç»­ç¼–ç å¯ä»¥ä½¿ç”¨å‡å·-ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•æ¥å–å¾—å‰é¢çš„ä¸¤ä¸ªæµ‹è¯•çš„ç»“æœï¼š 123456789grep -n '[^[:lower:]]oo' regular_express.txt# output3:Football game is not use feet only.# åªå–å«æ•°å­—çš„é‚£ä¸€è¡Œgrep -n '[[:digit:]]' regular_express.txt# output5:However, this dress is about $ 3183 dollars.15:You are the best is mean you are the no. 1. ä¾‹é¢˜ä¸‰ã€è¡Œé¦–ä¸è¡Œå°¾å­—ç¬¦^$ åœ¨ä¸Šé¢ä¾‹å­ä¸­ï¼Œå¯ä»¥æŸ¥è¯¢åˆ°ä¸€è¡Œå­—ä¸²é‡Œé¢æœ‰theçš„ï¼Œé‚£å¦‚æœæˆ‘æƒ³è¦è®©theåªåœ¨è¡Œé¦–åˆ—å‡ºå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨å®šä½å­—ç¬¦äº†ï¼1234grep -n '^the' regular_express.txt # output12:the symbol '*' is represented as start. å¦‚æœæˆ‘æƒ³å¼€å¤´æ˜¯å°å†™å­—ç¬¦çš„é‚£ä¸€è¡Œå°±åˆ—å‡ºå‘¢ï¼Ÿå¯ä»¥è¿™æ ·å†™ï¼š123456789101112grep -n '^[a-z]' regular_express.txt # output2:apple is my favorite food.4:this dress doesn't fit me.10:motorcycle is cheap than car.12:the symbol '*' is represented as start.18:google is the best tools for search keyword.19:goooooogle yes!20:go! go! Let's go.# ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å®ç°grep -n '^[[:lower:]]' regular_express.txt å¦‚æœæˆ‘ä¸æƒ³è¦å¼€å¤´æ˜¯è‹±æ–‡å­—æ¯ï¼Œåˆ™å¯ä»¥æ˜¯è¿™æ ·ï¼š1234567grep -n '^[^a-zA-Z]' regular_express.txt # output1:\"Open Source\" is a good mechanism to develop programs.21:# I am VBird# ä¹Ÿå¯ä»¥è¿™æ ·å†™grep -n '^[^[:alpha:]]' regular_express.txt æ³¨æ„åˆ°äº†å§?é‚£ä¸ª^ç¬¦å·,åœ¨å­—ç¬¦é›†åˆç¬¦å·(æ‹¬å·[])ä¹‹å†…ä¸ä¹‹å¤–æ˜¯ä¸åŒçš„! åœ¨ [] å†…ä»£è¡¨â€œåå‘é€‰æ‹©â€,åœ¨[]ä¹‹å¤–åˆ™ä»£è¡¨å®šä½åœ¨è¡Œé¦–çš„æ„ä¹‰!è¦åˆ†æ¸…æ¥šå–”! åè¿‡æ¥æ€è€ƒ,é‚£å¦‚æœæˆ‘æƒ³è¦æ‰¾å‡ºæ¥,è¡Œå°¾ç»“æŸä¸ºå°æ•°ç‚¹ (.) çš„é‚£ä¸€è¡Œ,è¯¥å¦‚ä½•å¤„ç†:1234567891011121314grep -n '\\.$' regular_express.txt # output1:\"Open Source\" is a good mechanism to develop programs.2:apple is my favorite food.3:Football game is not use feet only.4:this dress doesn't fit me.10:motorcycle is cheap than car.11:This window is clear.12:the symbol '*' is represented as start.15:You are the best is mean you are the no. 1.16:The world &lt;Happy&gt; is the same with \"glad\".17:I like dog.18:google is the best tools for search keyword.20:go! go! Let's go. å› ä¸ºå°æ•°ç‚¹.å…·æœ‰å…¶ä»–æ„ä¹‰ï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨è½¬ä¹‰å­—ç¬¦(\\)æ¥åŠ ä»¥è§£é™¤å…¶ç‰¹æ®Šæ„ä¹‰ï¼ä½†æ˜¯ç¬¬ 5~9 è¡Œæœ€åé¢ä¹Ÿæ˜¯ . å•Š~æ€ä¹ˆæ— æ³•æ‰“ 5~9 å°å‡ºæ¥? è¿™é‡Œå°±ç‰µæ¶‰åˆ° Windows å¹³å°çš„è½¯ä»¶å¯¹äºæ–­è¡Œå­—ç¬¦çš„åˆ¤æ–­é—®é¢˜äº†! æˆ‘ä»¬ä½¿ç”¨cat -Aå‰åè¡Œçš„å€’æ•°å…­è¡Œã€‚12345678cat -An regular_express.txt| head -n 10 | tail -n 6# output 5 However, this dress is about $ 3183 dollars.^M$ 6 GNU is free air not free beer.^M$ 7 Her hair is very beauty.^M$ 8 I can't finish the test.^M$ 9 Oh! The soup taste good.^M$ 10 motorcycle is cheap than car.$ åœ¨ä¸Šé¢çš„è¾“å‡ºä¸­æˆ‘ä»¬å¯ä»¥å‘ç°5~9è¡Œä¸ºWindowsçš„æ–­è¡Œå­—ç¬¦(^M$),è€Œæ­£å¸¸çš„Linuxåº”è¯¥ä»…æœ‰ç¬¬10è¡Œæ˜¾ç¤ºçš„é‚£æ ·($)ã€‚æ‰€ä»¥,é‚£ä¸ª.è‡ªç„¶å°±ä¸æ˜¯ç´§æ¥åœ¨$ä¹‹å‰å–”!ä¹Ÿå°±æ‰ä¸åˆ°5~9 è¡Œäº†!è¿™æ ·å¯ä»¥äº†è§£^ä¸$çš„æ„ä¹‰äº†å§ã€‚ å¦‚æœæˆ‘æƒ³æ‰¾å‡ºå“ªä¸€è¡Œæ˜¯ç©ºç™½è¡Œï¼Œä¹Ÿå°±æ˜¯è¯¥è¡Œæ²¡æœ‰è¾“å…¥ä»»ä½•æ•°æ®ï¼Œå¦‚ä½•æ“ä½œï¼Ÿ123grep -n '^$' regular_express.txt # output22: å› ä¸ºåªæœ‰è¡Œé¦–å’Œè¡Œå°¾(^$)ï¼Œæ‰€ä»¥è¿™æ ·å°±å¯ä»¥æ‰¾å‡ºç©ºç™½è¡Œå•¦ã€‚ å†æ¥,å‡è®¾ä½ å·²ç»çŸ¥é“åœ¨ä¸€ä¸ªç¨‹åºè„šæœ¬ (shell script) æˆ–è€…æ˜¯é…ç½®æ–‡ä»¶å½“ä¸­,ç©ºç™½è¡Œä¸å¼€å¤´ä¸º # çš„é‚£ä¸€è¡Œæ˜¯æ³¨è§£,å› æ­¤å¦‚æœä½ è¦å°†æ•°æ®åˆ—å‡ºç»™åˆ«äººå‚è€ƒæ—¶,å¯ä»¥å°†è¿™äº›æ•°æ®çœç•¥æ‰ä»¥èŠ‚çœä¿è´µçš„çº¸å¼ ,é‚£ä¹ˆä½ å¯ä»¥æ€ä¹ˆåšå‘¢? æˆ‘ä»¬ä»¥ /etc/rsyslog.conf è¿™ä¸ªæ–‡ä»¶æ¥ä½œèŒƒä¾‹,ä½ å¯ä»¥è‡ªè¡Œå‚è€ƒä¸€ä¸‹è¾“å‡ºçš„ç»“æœ:1234567891011121314151617181920cat -n /etc/rsyslog.conf# åœ¨ubuntu 17.10ä¸­ï¼Œè¾“å‡ºäº†60è¡Œï¼Œå¾ˆå¤šç©ºç™½è¡Œä¸#å¼€å¤´çš„æ³¨è§£è¡Œgrep -v '^$' /etc/rsyslog.conf | grep -v -n '^#'# ç»“æœä»…æœ‰13è¡Œï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª`-v '^$'` ä»£è¡¨ä¸è¦ç©ºè¡Œ# ç¬¬äºŒä¸ªâ€œ-v '^#'â€ï¼Œ ä»£è¡¨ä¸è¦å¼€å¤´æ˜¯#çš„é‚£è¡Œ# output10:module(load=\"imuxsock\") # provides support for local system logging19:module(load=\"imklog\" permitnonkernelfacility=\"on\")27:$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat29:$RepeatedMsgReduction on33:$FileOwner syslog34:$FileGroup adm35:$FileCreateMode 064036:$DirCreateMode 075537:$Umask 002238:$PrivDropToUser syslog39:$PrivDropToGroup syslog43:$WorkDirectory /var/spool/rsyslog47:$IncludeConfig /etc/rsyslog.d/*.conf ä¾‹é¢˜å››ã€ä»»æ„ä¸€ä¸ªå­—ç¬¦.ä¸é‡å¤å­—ç¬¦*æˆ‘ä»¬çŸ¥é“é€šé…ç¬¦*å¯ä»¥ç”¨æ¥ä»£è¡¨ä»»æ„ï¼ˆ0æˆ–å¤šä¸ªï¼‰å­—ç¬¦ï¼Œä½†æ˜¯æ­£åˆ™è¡¨è¾¾å¼å¹¶ä¸æ˜¯é€šç”¨å­—ç¬¦ï¼Œä¸¤è€…ä¹‹é—´æ˜¯ä¸åŒçš„ï¼è‡³äºæ­£åˆ™è¡¨è¾¾å¼ä¸­çš„.åˆ™ä»£è¡¨â€œç»å¯¹æœ‰ä¸€ä¸ªä»»æ„å­—ç¬¦â€çš„æ„æ€ï¼è¿™ä¸¤ä¸ªç¬¦å·åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„æ„ä¹‰å¦‚ä¸‹ï¼š .(å°æ•°ç‚¹)ï¼šä»£è¡¨â€œä¸€å®šæœ‰ä¸€ä¸ªä»»æ„å­—ç¬¦â€çš„æ„æ€ *(æ˜Ÿå·)ï¼šä»£è¡¨â€œé‡å¤å‰ä¸€ä¸ªå­—ç¬¦ï¼Œ0åˆ°æ— ç©·å¤šæ¬¡â€çš„æ„æ€ï¼Œä¸ºç»„åˆå½¢æ€ è¿™æ ·è®²ä¸å¥½æ‡‚,æˆ‘ä»¬ç›´æ¥åšä¸ªç»ƒä¹ å§!å‡è®¾æˆ‘éœ€è¦æ‰¾å‡º g??d çš„å­—ä¸²,äº¦å³å…±æœ‰å››ä¸ªå­—ç¬¦,èµ·å¤´æ˜¯ g è€Œç»“æŸæ˜¯ d ,æˆ‘å¯ä»¥è¿™æ ·åš:12345grep -n 'g..d' regular_express.txt # output1:\"Open Source\" is a good mechanism to develop programs.9:Oh! The soup taste good.16:The world &lt;Happy&gt; is the same with \"glad\". å†æ¥,å¦‚æœæˆ‘æƒ³è¦åˆ—å‡ºæœ‰ oo, ooo, oooo ç­‰ç­‰çš„æ•°æ®, ä¹Ÿå°±æ˜¯è¯´,è‡³å°‘è¦æœ‰ä¸¤ä¸ª(å«)oä»¥ä¸Š,è¯¥å¦‚ä½•æ˜¯å¥½?æ˜¯ o è¿˜æ˜¯ oo è¿˜æ˜¯ ooo* å‘¢? è™½ç„¶ä½ å¯ä»¥è¯•çœ‹çœ‹ç»“æœ, ä¸è¿‡ç»“æœå¤ªå ç‰ˆé¢äº†ã€‚ å› ä¸º*ä»£è¡¨çš„æ˜¯é‡å¤ 0 ä¸ªæˆ–å¤šä¸ªå‰é¢çš„ RE å­—ç¬¦â€çš„æ„ä¹‰, å› æ­¤,o*ä»£è¡¨çš„æ˜¯å…·æœ‰ç©ºå­—ç¬¦æˆ–ä¸€ä¸ªoä»¥ä¸Šçš„å­—ç¬¦, ç‰¹åˆ«æ³¨æ„,å› ä¸ºå…è®¸ç©ºå­—ç¬¦(å°±æ˜¯æœ‰æ²¡æœ‰å­—ç¬¦éƒ½å¯ä»¥çš„æ„æ€),å› æ­¤,grep -n &#39;o*&#39; regular_express.txtå°†ä¼šæŠŠæ‰€æœ‰çš„æ•°æ®éƒ½æ‰“å°å‡ºæ¥å±å¹•ä¸Š! é‚£å¦‚æœæ˜¯oo*å‘¢?åˆ™ç¬¬ä¸€ä¸ªoè‚¯å®šå¿…é¡»è¦å­˜åœ¨,ç¬¬äºŒä¸ªoåˆ™æ˜¯å¯æœ‰å¯æ— çš„å¤šä¸ªo, æ‰€ä»¥,å‡¡æ˜¯å«æœ‰o,oo,ooo,ooooç­‰ç­‰,éƒ½å¯ä»¥è¢«åˆ—å‡ºæ¥~ åŒç†,å½“æˆ‘ä»¬éœ€è¦è‡³å°‘ä¸¤ä¸ªoä»¥ä¸Šçš„å­—ä¸²æ—¶,å°±éœ€è¦ooo*,äº¦å³æ˜¯:12345678grep -n 'ooo*' regular_express.txt # output1:\"Open Source\" is a good mechanism to develop programs.2:apple is my favorite food.3:Football game is not use feet only.9:Oh! The soup taste good.18:google is the best tools for search keyword.19:goooooogle yes! å¦‚æœæˆ‘ä»¬æƒ³è¦å­—ç¬¦ä¸²å¼€å¤´å’Œç»“å°¾éƒ½æ˜¯g,ä½†æ˜¯ä¸¤ä¸ªgä¹‹é—´ä»…èƒ½å­˜åœ¨è‡³å°‘ä¸€ä¸ªoï¼Œäº¦å³æ˜¯gog,goog,gooog..ç­‰ç­‰ï¼Œé‚£è¯¥å¦‚ä½•ï¼Ÿ123grep -n 'g.*g' regular_express.txt # . ä»£è¡¨ä»»æ„ä¸€ä¸ªå­—ç¬¦# .*ä»£è¡¨ä»»æ„ä¸ªå­—ç¬¦ å¦‚æœæˆ‘æƒ³æ‰¾å‡ºå«â€™ä»»æ„æ•°å­—â€˜çš„è¡Œåˆ—å‘¢ï¼Œæ‰€ä»¥å°±æˆä¸ºï¼š1234grep -n '[0-9][0-9]*' regular_express.txt # output5:However, this dress is about $ 3183 dollars.15:You are the best is mean you are the no. 1. ä¾‹é¢˜äº”ã€é™å®šè¿ç»­REå­—ç¬¦èŒƒå›´ åœ¨ä¸Šä¸ªä¾‹é¢˜å½“ä¸­,æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ . ä¸ RE å­—ç¬¦åŠ * æ¥è®¾ç½® 0 ä¸ªåˆ°æ— é™å¤šä¸ªé‡å¤å­—ç¬¦, é‚£å¦‚æœæˆ‘æƒ³è¦é™åˆ¶ä¸€ä¸ªèŒƒå›´åŒºé—´å†…çš„é‡å¤å­—ç¬¦æ•°å‘¢?ä¸¾ä¾‹æ¥è¯´,æˆ‘æƒ³è¦æ‰¾å‡ºä¸¤ä¸ªåˆ°äº”ä¸ª o çš„è¿ç»­å­—ä¸²,è¯¥å¦‚ä½•åš?è¿™æ—¶å€™å°±å¾—è¦ä½¿ç”¨åˆ°é™å®šèŒƒå›´çš„å­—ç¬¦ {} äº†ã€‚ ä½†å› ä¸º { ä¸ } çš„ç¬¦å·åœ¨ shell æ˜¯æœ‰ç‰¹æ®Šæ„ä¹‰çš„,å› æ­¤, æˆ‘ä»¬å¿…é¡»è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ \\ æ¥è®©ä»–å¤±å»ç‰¹æ®Šæ„ä¹‰æ‰è¡Œã€‚ è‡³äº {} çš„è¯­æ³•æ˜¯è¿™æ ·çš„,å‡è®¾æˆ‘è¦æ‰¾åˆ°ä¸¤ä¸ª o çš„å­—ä¸²,å¯ä»¥æ˜¯:1234567891011121314grep -n 'o\\&#123;2\\&#125;' regular_express.txt # output1:\"Open Source\" is a good mechanism to develop programs.2:apple is my favorite food.3:Football game is not use feet only.9:Oh! The soup taste good.18:google is the best tools for search keyword.19:goooooogle yes!grep -n 'go\\&#123;2,5\\&#125;g' regular_express.txt # output18:google is the best tools for search keyword.# æ²¡æœ‰äº†ç¬¬19è¡Œï¼Œå› ä¸ºå®ƒæœ‰6ä¸ªo 3.2.4ã€ åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦æ±‡æ•´(characters)ç»è¿‡ä¸Šé¢çš„å‡ ä¸ªç®€å•çš„ç»ƒä¹ ï¼Œæˆ‘ä»¬å¯ä»¥å°†åŸºç¡€çš„æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ®Šå­—ç¬¦æ±‡æ•´å¦‚ä¸‹è¡¨ï¼š æ­£åˆ™è¡¨è¾¾å¼çš„ç‰¹æ®Šå­—ç¬¦â€ä¸ä¸€èˆ¬åœ¨å‘½ä»¤è¡Œè¾“å…¥æŒ‡ä»¤çš„â€œä¸‡ç”¨å­—ç¬¦â€å¹¶ä¸ç›¸åŒã€‚ ä¾‹å¦‚ã€‚åœ¨ä¸‡ç”¨å­—ç¬¦å½“ä¸­çš„ ä»£è¡¨çš„æ˜¯â€œ 0 ~ æ— é™å¤šä¸ªå­—ç¬¦â€çš„æ„æ€,ä½†æ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼å½“ä¸­, åˆ™æ˜¯â€œé‡å¤0åˆ°æ— ç©·å¤šä¸ªçš„å‰ä¸€ä¸ª RE å­—ç¬¦â€çš„æ„æ€~ä½¿ç”¨çš„æ„ä¹‰å¹¶ä¸ç›¸åŒ,ä¸è¦ææ··äº†! ä¸¾ä¾‹æ¥è¯´,ä¸æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„ ls è¿™ä¸ªå·¥å…·ä¸­,è‹¥æˆ‘ä»¬ä½¿ç”¨ â€œls -l â€ ä»£è¡¨çš„æ˜¯ä»»æ„æ–‡ä»¶åçš„æ–‡ä»¶,è€Œ â€œls -l a â€ä»£è¡¨çš„æ˜¯ä»¥ a ä¸ºå¼€å¤´çš„ä»»ä½•æ–‡ä»¶åçš„æ–‡ä»¶, ä½†åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­,æˆ‘ä»¬è¦æ‰¾åˆ°å«æœ‰ä»¥ a ä¸ºå¼€å¤´çš„æ–‡ä»¶,åˆ™å¿…é¡»è¦è¿™æ ·:(éœ€æ­é…æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„å·¥å…·) ls | grep -n &apos;^a.*&apos; è¦æƒ³ä»¥ls -lé…åˆgrepæ‰¾å‡º/etc/ä¸‹é¢æ–‡ä»¶ç±»å‹ä¸ºé“¾æ¥æ–‡ä»¶å±æ€§çš„æ–‡ä»¶åï¼Œè¯¥å¦‚ä½•åšå‘¢ï¼Ÿç”±äºls -låˆ—å‡ºé“¾æ¥æ–‡ä»¶æ—¶æ ‡å¤´ä¼šæ˜¯lrwxrwxrwx,å› æ­¤ä½¿ç”¨å¦‚ä¸‹çš„æŒ‡ä»¤å³å¯æ‰¾å‡ºç»“æœï¼š ls -l /etc \\grep &apos;^l&apos; # è‹¥ä»…æƒ³åˆ—å‡ºå‡ ä¸ªæ–‡ä»¶ï¼Œå†ä»¥`| wc -l`æ¥ç´¯åŠ å¤„ç†å³å¯ã€‚ 3.2.5ã€ sedå·¥å…·åœ¨äº†è§£äº†ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼çš„åŸºç¡€åº”ç”¨ä¹‹å,å†æ¥å‘¢?å‘µå‘µ~ä¸¤ä¸ªä¸œè¥¿å¯ä»¥ç©ä¸€ç©çš„,é‚£å°±æ˜¯sed è·Ÿä¸‹é¢ä¼šä»‹ç»çš„ awk äº†! è¿™ä¸¤ä¸ªå®¶ä¼™å¯æ˜¯ç›¸å½“çš„æœ‰ç”¨çš„å•Š! æˆ‘ä»¬å…ˆæ¥è°ˆä¸€è°ˆ sed å¥½äº†, sed æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªç®¡çº¿å‘½ä»¤,å¯ä»¥åˆ†æ standard input çš„å•¦! è€Œä¸” sed è¿˜å¯ä»¥å°†æ•°æ®è¿›è¡Œå–ä»£ã€åˆ é™¤ã€æ–°å¢ã€æ’·å–ç‰¹å®šè¡Œç­‰ç­‰çš„åŠŸèƒ½å‘¢!å¾ˆä¸é”™å§~ æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ sed çš„ç”¨æ³•,å†æ¥èŠä»–çš„ç”¨é€”å¥½äº†! ä»¥è¡Œä¸ºå•ä½çš„æ–°å¢/åˆ é™¤åŠŸèƒ½ sedå…‰æ˜¯ç”¨çœ‹çš„ï¼Œæ˜¯çœ‹ä¸æ‡‚çš„å•¦ï¼ï¼Œåˆè¦å¼€å§‹ç»ƒä¹ äº† èŒƒä¾‹ä¸€ï¼šå°†/etc/passwdçš„å†…å®¹æ‹·è´pd.txtåˆ—å‡ºå¹¶ä¸”æ‰“å°è¡Œå·ï¼ŒåŒæ—¶ï¼Œè¯·å°†ç¬¬2-5è¡Œåˆ é™¤ï¼1234567nl pd.txt | sed '2,5d'# output 1 root:x:0:0:root:/root:/bin/bash 6 games:x:5:60:games:/usr/games:/usr/sbin/nologin 7 man:x:6:12:man:/var/cache/man:/usr/sbin/nologin 8 lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin ...........åé¢çœç•¥................ çœ‹åˆ°äº†å§?sed çš„åŠ¨ä½œä¸º â€˜2,5dâ€™ ,é‚£ä¸ª d å°±æ˜¯åˆ é™¤!å› ä¸º 2-5 è¡Œç»™ä»–åˆ é™¤äº†,æ‰€ä»¥æ˜¾ç¤ºçš„æ•°æ®å°±æ²¡æœ‰ 2-5 è¡Œå•°~ å¦å¤–,æ³¨æ„ä¸€ä¸‹,åŸæœ¬åº”è¯¥æ˜¯è¦ä¸‹è¾¾ sed -e æ‰å¯¹,æ²¡æœ‰ -e ä¹Ÿè¡Œå•¦!åŒæ—¶ä¹Ÿè¦æ³¨æ„çš„æ˜¯, sed åé¢æ¥çš„åŠ¨ä½œ,è¯·åŠ¡å¿…ä»¥ â€˜â€™ ä¸¤ä¸ªå•å¼•å·æ‹¬ä½å–”! å¦‚æœåªåˆ é™¤ç¬¬2è¡Œï¼Œå¯ä»¥ä½¿ç”¨nl pd.txt | sed &#39;2d&#39;æ¥å®ç°ï¼Œè‹¥è¦åˆ é™¤ç¬¬3åˆ°æœ€åä¸€è¡Œï¼Œåˆ™å¯ä»¥ä½¿ç”¨nl pd.txt |sed &#39;3,$d&#39;,å…¶ä¸­$ä»£è¡¨æœ€åä¸€è¡Œï¼ èŒƒä¾‹äºŒï¼šæ‰¿ä¸Šé¢˜ï¼Œåœ¨ç¬¬äºŒè¡Œåï¼ˆäº¦å³æ˜¯åŠ åœ¨ç¬¬ä¸‰è¡Œï¼‰åŠ ä¸Šâ€œdrink tea?â€å­—æ ·ï¼123456nl pd.txt | sed '2a drink tea?'# output 1 root:x:0:0:root:/root:/bin/bash 2 daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologindrink tea? 3 bin:x:2:2:bin:/bin:/usr/sbin/nologin å˜¿å˜¿!åœ¨ a åé¢åŠ ä¸Šçš„å­—ä¸²å°±å·²å°†å‡ºç°åœ¨ç¬¬äºŒè¡Œåé¢å•°!é‚£å¦‚æœæ˜¯è¦åœ¨ç¬¬äºŒè¡Œå‰å‘¢?nl pd.txt | sed &#39;2i drink tea&#39;å°±å¯¹å•¦!å°±æ˜¯å°†â€œ a â€å˜æˆâ€œ i â€å³å¯ã€‚ å¢åŠ ä¸€è¡Œå¾ˆç®€å•,é‚£å¦‚æœæ˜¯è¦å¢å°†ä¸¤è¡Œä»¥ä¸Šå‘¢? èŒƒä¾‹ä¸‰ï¼šåœ¨ç¬¬äºŒè¡Œåé¢åŠ å…¥ä¸¤è¡Œå­—ï¼Œä¾‹å¦‚â€œdrink tea or â€¦â€ä¸â€drink beerâ€å­—æ ·ï¼123456789nl pd.txt | sed '2a drink tea or ... \\ &gt; drink beer?'# output 1 root:x:0:0:root:/root:/bin/bash 2 daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologindrink tea or ... drink beer? 3 bin:x:2:2:bin:/bin:/usr/sbin/nologin.............åé¢çœç•¥........ è¿™ä¸ªèŒƒä¾‹çš„é‡ç‚¹æ˜¯â€œæˆ‘ä»¬å¯ä»¥æ–°å¢ä¸åªä¸€è¡Œå–”!å¯ä»¥æ–°å¢å¥½å‡ è¡Œâ€ä½†æ˜¯æ¯ä¸€è¡Œä¹‹é—´éƒ½å¿…é¡»è¦ä»¥åæ–œçº¿â€œ \\ â€æ¥è¿›è¡Œæ–°è¡Œçš„å¢åŠ å–”!æ‰€ä»¥,ä¸Šé¢çš„ä¾‹å­ä¸­,æˆ‘ä»¬å¯ä»¥å‘ç°åœ¨ç¬¬ä¸€è¡Œçš„æœ€åé¢å°±æœ‰ \\å­˜åœ¨å•¦!åœ¨å¤šè¡Œæ–°å¢çš„æƒ…å†µä¸‹, \\ æ˜¯ä¸€å®šè¦çš„å–”! ä»¥è¡Œä¸ºå•ä½çš„å–ä»£ä¸æ˜¾ç¤ºåŠŸèƒ½ åˆšåˆšåªæ˜¯ä»‹ç»äº†å¦‚ä½•æ–°å¢ä¸åˆ é™¤ï¼Œé‚£ä¹ˆå¦‚æœè¦æ•´è¡Œå–ä»£å‘¢ï¼Ÿ èŒƒä¾‹å››ï¼šæˆ‘æƒ³å°†ç¬¬2-5è¡Œçš„å†…å®¹å–ä»£æˆä¸ºâ€No 2-5 numberâ€å‘¢ï¼Ÿ12345nl pd.txt | sed '2,5c No 2-5 number'# output 1 root:x:0:0:root:/root:/bin/bashNo 2-5 number 6 games:x:5:60:games:/usr/games:/usr/sbin/nologin é€šè¿‡è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬å°±èƒ½å¤Ÿå°†æ•°æ®æ•´è¡Œå–ä»£äº†!éå¸¸å®¹æ˜“å§!sed è¿˜æœ‰æ›´å¥½ç”¨çš„ä¸œä¸œ!æˆ‘ä»¬ä»¥å‰æƒ³è¦åˆ—å‡ºç¬¬ 11~20 è¡Œ, å¾—è¦é€šè¿‡head -n 20 | tail -n 10ä¹‹ç±»çš„æ–¹æ³•æ¥å¤„ç†,å¾ˆéº»çƒ¦å•¦~ sedåˆ™å¯ä»¥ç®€å•çš„ç›´æ¥å–å‡ºä½ æƒ³è¦çš„é‚£å‡ è¡Œ!æ˜¯é€šè¿‡è¡Œå·æ¥æ‰çš„å–”!çœ‹çœ‹ä¸‹é¢çš„èŒƒä¾‹å…ˆ: èŒƒä¾‹äº”ï¼šä»…åˆ—å‡ºpd.txtæ–‡ä»¶å†…çš„ç¬¬5-7è¡Œ12345nl pd.txt | sed -n '5,7p'# output 5 sync:x:4:65534:sync:/bin:/bin/sync 6 games:x:5:60:games:/usr/games:/usr/sbin/nologin 7 man:x:6:12:man:/var/cache/man:/usr/sbin/nologin ä¸Šè¿°çš„æŒ‡ä»¤ä¸­æœ‰ä¸ªé‡è¦çš„é€‰é¡¹-n,æŒ‰ç…§è¯´æ˜æ–‡æ¡£,è¿™ä¸ª -n ä»£è¡¨çš„æ˜¯â€œå®‰é™æ¨¡å¼â€! é‚£ä¹ˆä¸ºä»€ ä¹ˆè¦ä½¿ç”¨å®‰é™æ¨¡å¼å‘¢?ä½ å¯ä»¥è‡ªè¡Œä¸‹è¾¾sed â€˜5,7pâ€™` å°±çŸ¥é“äº† (5-7 è¡Œä¼šé‡å¤è¾“å‡º)! æœ‰æ²¡æœ‰åŠ ä¸Š -n çš„å‚æ•°æ—¶,è¾“å‡ºçš„æ•°æ®å¯æ˜¯å·®å¾ˆå¤šçš„å–”!ä½ å¯ä»¥é€šè¿‡è¿™ä¸ª sed çš„ä»¥è¡Œä¸ºå•ä½çš„æ˜¾ç¤ºåŠŸèƒ½, å°±èƒ½å¤Ÿå°†æŸä¸€ä¸ªæ–‡ä»¶å†…çš„æŸäº›è¡Œå·æ‰å‡ºæ¥æŸ¥é˜…!å¾ˆæ£’çš„åŠŸèƒ½!ä¸æ˜¯å—? éƒ¨åˆ†æ•°æ®çš„æœå¯»å¹¶å–ä»£çš„åŠŸèƒ½ é™¤äº†æ•´è¡Œçš„å¤„ç†æ¨¡å¼ä¹‹å¤–ï¼Œsedè¿˜å¯ä»¥ç”¨è¡Œä¸ºå•ä½è¿›è¡Œéƒ¨åˆ†æ•°æ®çš„æŸ¥æ‰¾å¹¶æ›¿æ¢çš„åŠŸèƒ½ï¼ŒåŸºæœ¬ä¸Šsedçš„æŸ¥æ‰¾ä¸æ›¿æ¢ä¸viç±»ä¼¼ï¼ sed &apos;s/è¦è¢«å–ä»£çš„å­—ä¸²/æ–°çš„å­—ä¸²/g&apos; ä¸Šè¡¨ä¸­ç‰¹æ®Šå­—ä½“çš„éƒ¨åˆ†ä¸ºå…³é”®å­—,è¯·è®°ä¸‹æ¥!è‡³äºä¸‰ä¸ªæ–œçº¿åˆ†æˆä¸¤æ å°±æ˜¯æ–°æ—§å­—ä¸²çš„æ›¿æ¢å•¦ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢è¿™ä¸ªå–å¾—IPæ•°æ®çš„èŒƒä¾‹,ä¸€æ®µä¸€æ®µçš„æ¥å¤„ç†,è®©ä½ äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯å’±ä»¬æ‰€è°“çš„æŸ¥æ‰¾å¹¶æ›¿æ¢å§!1234567891011121314151617181920212223# step1 : å…ˆè§‚å¯Ÿæºä¿¡æ¯ï¼Œåˆ©ç”¨`sbin/ifconfig` æŸ¥è¯¢IP /sbin/ifconfig enp3s0 # output enp3s0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 219.223.243.131 netmask 255.255.248.0 broadcast 219.223.247.255 inet6 fe80::1234:4cee:444b:1d66 prefixlen 64 scopeid 0x20&lt;link&gt; inet6 2001:250:3c02:301:c9a3:6a1d:d5ce:ec5f prefixlen 128 scopeid 0x0&lt;global&gt; # é‡ç‚¹åœ¨ç¬¬äºŒè¡Œï¼Œä¹Ÿå°±æ˜¯ipåœ°å€é‚£ä¸€è¡Œ# step2 :åˆ©ç”¨å…³é”®å­—é…åˆgrepé€‰å–å‡ºå…³é”®çš„ä¸€è¡Œæ•°æ® ifconfig enp3s0 | grep 'inet ' # output inet 219.223.243.131 netmask 255.255.248.0 broadcast 219.223.247.255# step3ï¼šå°†IPå‰é¢çš„éƒ¨åˆ†äºˆä»¥åˆ é™¤ ifconfig enp3s0 | grep 'inet ' | sed 's/^.*inet //g' # output 219.223.243.131 netmask 255.255.248.0 broadcast 219.223.247.255# step4ï¼šå°†IPåé¢çš„éƒ¨åˆ†åˆ é™¤ ifconfig enp3s0 | grep 'inet ' | sed 's/^.*inet//g' | sed 's/ netmask.*$//g' # output 219.223.243.131 é€šè¿‡è¿™ä¸ªèŒƒä¾‹çš„ç»ƒä¹ ä¹Ÿå»ºè®®æ‚¨ä¾æ®æ­¤ä¸€æ­¥éª¤æ¥ç ”ç©¶ä½ çš„æŒ‡ä»¤!å°±æ˜¯å…ˆè§‚å¯Ÿ,ç„¶åå†ä¸€å±‚ä¸€å±‚çš„è¯•åš, å¦‚æœæœ‰åšä¸å¯¹çš„åœ°æ–¹,å°±å…ˆäºˆä»¥ä¿®æ”¹,æ”¹å®Œä¹‹åæµ‹è¯•,æˆåŠŸåå†å¾€ä¸‹ç»§ç»­æµ‹è¯•ã€‚ ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼ˆå±é™©åŠ¨ä½œï¼‰ ä½ ä»¥ä¸º sed åªæœ‰è¿™æ ·çš„èƒ½è€å—?é‚£å¯ä¸! sed ç”šè‡³å¯ä»¥ç›´æ¥ä¿®æ”¹æ–‡ä»¶çš„å†…å®¹å‘¢!è€Œä¸å¿…ä½¿ç”¨ç®¡çº¿å‘½ä»¤æˆ–æ•°æ®æµé‡å¯¼å‘! ä¸è¿‡,ç”±äºè¿™ä¸ªåŠ¨ä½œä¼šç›´æ¥ä¿®æ”¹åˆ°åŸå§‹çš„æ–‡ä»¶,æ‰€ä»¥è¯·ä½ åƒä¸‡ä¸è¦éšä¾¿æ‹¿ç³»ç»Ÿé…ç½®æ–‡ä»¶æ¥æµ‹è¯•å–”! æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨ä½ ä¸‹è½½çš„ regular_express.txt æ–‡ä»¶æ¥æµ‹è¯•çœ‹çœ‹å§! èŒƒä¾‹å…­ï¼šåˆ©ç”¨sedå°†regular_express.txtå†…æ¯ä¸€è¡Œç»“å°¾è‹¥ä¸º.åˆ™æ¢æˆï¼ã€‚123456789101112131415161718192021222324sed -i 's/\\.$/\\!/g' regular_express.txt cat regular_express.txt # output\"Open Source\" is a good mechanism to develop programs!apple is my favorite food!Football game is not use feet only!this dress doesn't fit me!However, this dress is about $ 3183 dollars.GNU is free air not free beer.Her hair is very beauty.I can't finish the test.Oh! The soup taste good.motorcycle is cheap than car!This window is clear!the symbol '*' is represented as start!Oh! My god!The gd software is a library for drafting programs.You are the best is mean you are the no. 1!The world &lt;Happy&gt; is the same with \"glad\"!I like dog!google is the best tools for search keyword!goooooogle yes!go! go! Let's go!# I am VBird èŒƒä¾‹ä¸ƒï¼šåˆ©ç”¨sedç›´æ¥åœ¨regular_express.txtæœ€åä¸€è¡ŒåŠ å…¥# This is a test1234567sed -i '$a # This is a test' regular_express.txtnl regular_express.txt| sed -n '20,25p'# output 20 go! go! Let's go! 21 # I am VBird 22 # This is a test sed çš„â€œ -i â€é€‰é¡¹å¯ä»¥ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹,è¿™åŠŸèƒ½éå¸¸æœ‰å¸®åŠ©!ä¸¾ä¾‹æ¥è¯´,å¦‚æœä½ æœ‰ä¸€ä¸ª 100 ä¸‡è¡Œçš„æ–‡ä»¶,ä½ è¦åœ¨ç¬¬ 100 è¡ŒåŠ æŸäº›æ–‡å­—,æ­¤æ—¶ä½¿ç”¨ vim å¯èƒ½ä¼šç–¯æ‰!å› ä¸ºæ–‡ä»¶å¤ªå¤§äº†!é‚£æ€åŠ?å°±åˆ©ç”¨ sed å•Š!é€šè¿‡ sed ç›´æ¥ä¿®æ”¹/å–ä»£çš„åŠŸèƒ½,ä½ ç”šè‡³ä¸éœ€è¦ä½¿ç”¨ vim å»ä¿®è®¢!å¾ˆæ£’å§! 3.3ã€ æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼äº‹å®ä¸Š,ä¸€èˆ¬è¯»è€…åªè¦äº†è§£åŸºç¡€å‹çš„æ­£åˆ™è¡¨è¾¾å¼å¤§æ¦‚å°±å·²ç»ç›¸å½“è¶³å¤Ÿäº†,ä¸è¿‡,æŸäº›æ—¶åˆ»ä¸ºäº†è¦ç®€åŒ–æ•´ä¸ªæŒ‡ä»¤æ“ä½œ, äº†è§£ä¸€ä¸‹ä½¿ç”¨èŒƒå›´æ›´å¹¿çš„å»¶ä¼¸å‹æ­£åˆ™è¡¨è¾¾å¼çš„è¡¨ç¤ºå¼ä¼šæ›´æ–¹ä¾¿å‘¢!ä¸¾ä¸ªç®€å•çš„ä¾‹å­å¥½äº†,åœ¨ä¸ŠèŠ‚çš„ä¾‹é¢˜ä¸‰çš„æœ€åä¸€ä¸ªä¾‹å­ä¸­,æˆ‘ä»¬è¦å»é™¤ç©ºç™½è¡Œä¸è¡Œé¦–ä¸º # çš„è¡Œåˆ—,ä½¿ç”¨çš„æ˜¯ grep -v &apos;^$&apos; regular_express.txt | grep -v &apos;^#&apos; éœ€è¦ä½¿ç”¨åˆ°ç®¡çº¿å‘½ä»¤æ¥æœå¯»ä¸¤æ¬¡ï¼é‚£ä¹ˆå¦‚æœä½¿ç”¨å»¶ä¼¸å‹çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç®€åŒ–ä¸ºï¼š egrep -v &apos;^$|^#&apos; regular_express.txt å»¶ä¼¸å‹æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥é€šè¿‡ç¾¤ç»„åŠŸèƒ½â€œ | â€æ¥è¿›è¡Œä¸€æ¬¡æœå¯»!é‚£ä¸ªåœ¨å•å¼•å·å†…çš„ç®¡çº¿æ„ä¹‰ä¸ºâ€œæˆ–orâ€å•¦! æ˜¯å¦å˜çš„æ›´ç®€å•å‘¢?æ­¤å¤–,grep é»˜è®¤ä»…æ”¯æŒåŸºç¡€æ­£åˆ™è¡¨è¾¾å¼,å¦‚æœè¦ä½¿ç”¨å»¶ä¼¸å‹æ­£åˆ™è¡¨è¾¾å¼,ä½ å¯ä»¥ä½¿ç”¨ grep -E , ä¸è¿‡æ›´å»ºè®®ç›´æ¥ä½¿ç”¨ egrep !ç›´æ¥åŒºåˆ†æŒ‡ä»¤æ¯”è¾ƒå¥½è®°å¿†!å…¶å® egrep ä¸ grep -E æ˜¯ç±»ä¼¼å‘½ä»¤åˆ«åçš„å…³ç³»ã€‚ ç†Ÿæ‚‰äº†æ­£åˆ™è¡¨è¾¾å¼ä¹‹å,åˆ°è¿™ä¸ªå»¶ä¼¸å‹çš„æ­£åˆ™è¡¨è¾¾å¼,ä½ åº”è¯¥ä¹Ÿä¼šæƒ³åˆ°,ä¸å°±æ˜¯å¤šå‡ ä¸ªé‡è¦çš„ç‰¹æ®Šç¬¦å·å—? æ˜¯çš„~æ‰€ä»¥,æˆ‘ä»¬å°±ç›´æ¥æ¥è¯´æ˜ä¸€ä¸‹,å»¶ä¼¸å‹æ­£åˆ™è¡¨è¾¾å¼çš„ç‰¹æ®Šç¬¦å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š ä¾‹å­æµ‹è¯•ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š !ä¸æ˜¯ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚æœæƒ³è¦æŸ¥å‡ºæ¥æ–‡ä»¶ä¸­å«æœ‰ï¼ä¸&gt;çš„å­—è¡Œæ—¶ï¼Œå¯ä»¥è¿™æ ·æ“ä½œï¼š grep -n â€˜[!&gt;]â€™ regular_express.txt 3.4ã€ æ–‡ä»¶çš„æ ¼å¼åŒ–ä¸ç›¸å…³å¤„ç†æ¥ä¸‹æ¥è®©æˆ‘ä»¬æ¥å°†æ–‡ä»¶è¿›è¡Œä¸€äº›ç®€å•çš„ç¼–æ’å§!ä¸‹é¢è¿™äº›åŠ¨ä½œå¯ä»¥å°†ä½ çš„è®¯æ¯è¿›è¡Œæ’ç‰ˆçš„åŠ¨ä½œ, ä¸éœ€è¦é‡æ–°ä»¥ vim å»ç¼–è¾‘,é€šè¿‡æ•°æ®æµé‡å¯¼å‘é…åˆä¸‹é¢ä»‹ç»çš„ printf åŠŸèƒ½,ä»¥åŠ awk æŒ‡ä»¤, å°±å¯ä»¥è®©ä½ çš„è®¯æ¯ä»¥ä½ æƒ³è¦çš„æ¨¡æ ·æ¥è¾“å‡ºäº†!è¯•çœ‹çœ‹å§! 3.4.1ã€ æ ¼å¼åŒ–æ‰“å°ï¼šprintf 3.4.2ã€ awkï¼šå¥½ç”¨çš„æ•°æ®å¤„ç†å·¥å…·awk ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸æ£’çš„æ•°æ®å¤„ç†å·¥å…·!ç›¸è¾ƒäº sed å¸¸å¸¸ä½œç”¨äºä¸€æ•´ä¸ªè¡Œçš„å¤„ç†, awk åˆ™æ¯”è¾ƒå€¾å‘äºä¸€è¡Œå½“ä¸­åˆ†æˆæ•°ä¸ªâ€œå­—æ®µâ€æ¥å¤„ç†ã€‚å› æ­¤,awk ç›¸å½“çš„é€‚åˆå¤„ç†å°å‹çš„æ•°æ®æ•°æ®å¤„ç†!awk é€šå¸¸è¿è¡Œçš„æ¨¡å¼æ˜¯è¿™æ ·çš„: awk &apos;æ¡ä»¶ç±»å‹1{åŠ¨ä½œ1} æ¡ä»¶ç±»å‹2{åŠ¨ä½œ2} .... &apos; filename awk åé¢æ¥ä¸¤ä¸ªå•å¼•å·å¹¶åŠ ä¸Šå¤§æ‹¬å· {} æ¥è®¾ç½®æƒ³è¦å¯¹æ•°æ®è¿›è¡Œçš„å¤„ç†åŠ¨ä½œã€‚ awk å¯ä»¥å¤„ç†åç»­æ¥çš„æ–‡ä»¶,ä¹Ÿå¯ä»¥è¯»å–æ¥è‡ªå‰ä¸ªæŒ‡ä»¤çš„ standard output ã€‚ ä½†å¦‚å‰é¢è¯´çš„, awk ä¸»è¦æ˜¯å¤„ç†â€œæ¯ä¸€è¡Œçš„å­—æ®µå†…çš„æ•°æ®â€,è€Œé»˜è®¤çš„â€œå­—æ®µçš„åˆ†éš”ç¬¦å·ä¸º â€œç©ºç™½é”®â€ æˆ– â€œ[tab]é”®â€ â€!ä¸¾ä¾‹æ¥è¯´,æˆ‘ä»¬ç”¨ last å¯ä»¥å°†ç™»é™†è€…çš„æ•°æ®å–å‡ºæ¥,ç»“æœå¦‚ä¸‹æ‰€ç¤º:ï¼ˆä¸‹é¢å‘½ä»¤æ˜¯åœ¨æˆ‘è´­ä¹°çš„è¿œç¨‹ä¸»æœºä¸Šè¿›è¡Œçš„ï¼‰ 1234567last -n 5# outputroot pts/1 58.60.1.102 Tue Apr 10 22:29 still logged in root pts/0 58.60.1.76 Tue Apr 10 22:21 still logged in root pts/0 58.60.1.76 Sun Apr 8 20:58 - 21:36 (00:37) root pts/0 58.60.1.76 Fri Mar 23 08:19 - 08:19 (00:00) reboot system boot 4.13.9-1.el6.elr Tue Jan 23 22:26 - 22:30 (76+23:03) è‹¥æˆ‘æƒ³å–å‡ºå¸å·ä¸ç™»å½•è€…çš„IPï¼Œä¸”å¸å·ä¸IPä¹‹é—´ä¸€[Tab]éš”å¼€ï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š1234567last -n 5 | awk '&#123;print $1 \"\\t\" $3&#125;'# outputroot 58.60.1.102root 58.60.1.76root 58.60.1.76root 58.60.1.76reboot boot ä¸Šè¡¨æ˜¯ awk æœ€å¸¸ä½¿ç”¨çš„åŠ¨ä½œ!é€šè¿‡ print çš„åŠŸèƒ½å°†å­—æ®µæ•°æ®åˆ—å‡ºæ¥!å­—æ®µçš„åˆ†éš”åˆ™ä»¥ç©ºç™½é”®æˆ–[tab] æŒ‰é”®æ¥éš”å¼€ã€‚ å› ä¸ºä¸è®ºå“ªä¸€è¡Œæˆ‘éƒ½è¦å¤„ç†,å› æ­¤,å°±ä¸éœ€è¦æœ‰ â€œæ¡ä»¶ç±»å‹â€ çš„é™åˆ¶!æˆ‘æ‰€æƒ³è¦çš„æ˜¯ç¬¬ä¸€æ ä»¥åŠç¬¬ä¸‰æ , ä½†æ˜¯,ç¬¬äº”è¡Œçš„å†…å®¹æ€ªæ€ªçš„~è¿™æ˜¯å› ä¸ºæ•°æ®æ ¼å¼çš„é—®é¢˜å•Š!æ‰€ä»¥~ä½¿ç”¨ awk çš„æ—¶å€™,è¯·å…ˆç¡®è®¤ä¸€ä¸‹ä½ çš„æ•°æ®å½“ä¸­,å¦‚æœæ˜¯è¿ç»­æ€§çš„æ•°æ®,è¯·ä¸è¦æœ‰ç©ºæ ¼æˆ– [tab]åœ¨å†…,å¦åˆ™,å°±ä¼šåƒè¿™ä¸ªä¾‹å­è¿™æ ·,ä¼šå‘ç”Ÿè¯¯åˆ¤! å¦å¤–,ç”±ä¸Šé¢è¿™ä¸ªä¾‹å­ä½ ä¹Ÿä¼šçŸ¥é“,åœ¨awkçš„æ‹¬å·å†…,æ¯ä¸€è¡Œçš„æ¯ä¸ªå­—æ®µéƒ½æ˜¯æœ‰å˜é‡åç§°çš„,é‚£å°±æ˜¯ $1, $2â€¦ ç­‰å˜é‡åç§°ã€‚ä»¥ä¸Šé¢çš„ä¾‹å­æ¥è¯´, rootæ˜¯$1,å› ä¸ºä»–æ˜¯ç¬¬ä¸€æ !è‡³äº58.60.1.102æ˜¯ç¬¬ä¸‰æ , æ‰€ä»¥ä»–å°±æ˜¯$3!åé¢ä»¥æ­¤ç±»æ¨~å‘µå‘µ!è¿˜æœ‰ä¸ªå˜é‡!é‚£å°±æ˜¯ $0 ,$0 ä»£è¡¨â€œä¸€æ•´åˆ—æ•°æ®â€çš„æ„æ€~ä»¥ä¸Šé¢çš„ä¾‹å­æ¥è¯´,ç¬¬ä¸€è¡Œçš„ $0 ä»£è¡¨çš„å°±æ˜¯ä¸€æ•´è¡Œæ•°æ®çš„æ„æ€ã€‚ ç”±æ­¤å¯çŸ¥,åˆšåˆšä¸Šé¢äº”è¡Œå½“ä¸­,æ•´ä¸ª awk çš„å¤„ç†æµç¨‹æ˜¯:1234step1ï¼šè¯»å…¥ç¬¬ä¸€è¡Œï¼Œå¹¶å°†ç¬¬ä¸€è¡Œçš„æ•°æ®å¡«å…¥ $0, $1, $2.... ç­‰å˜é‡å½“ä¸­;step2ï¼šä¾æ®â€æ¡ä»¶ç±»å‹â€œçš„é™åˆ¶ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œåé¢çš„â€åŠ¨ä½œâ€œ;step3ï¼šåšå®Œæ‰€æœ‰çš„åŠ¨ä½œä¸æ¡ä»¶ç±»å‹step4ï¼šè‹¥è¿˜æœ‰åç»­çš„â€˜è¡Œâ€™çš„æ•°æ®ï¼Œåˆ™é‡å¤ä¸Šé¢1-3çš„æ­¥éª¤ï¼ŒçŸ¥é“æ‰€æœ‰çš„æ•°æ®éƒ½è¯»å®Œä¸ºæ­¢ã€‚ ç»è¿‡è¿™æ ·çš„æ­¥éª¤,ä½ ä¼šæ™“å¾—, awk æ˜¯â€œä»¥è¡Œä¸ºä¸€æ¬¡å¤„ç†çš„å•ä½â€, è€Œâ€œä»¥å­—æ®µä¸ºæœ€å°çš„å¤„ç†å•ä½â€ã€‚å¥½äº†,é‚£ä¹ˆ awk æ€ä¹ˆçŸ¥é“æˆ‘åˆ°åº•è¿™ä¸ªæ•°æ®æœ‰å‡ è¡Œ?æœ‰å‡ æ å‘¢?è¿™å°±éœ€è¦ awk çš„å†…ç½®å˜é‡çš„å¸®å¿™å•¦~ å˜é‡åç§° ä»£è¡¨æ„ä¹‰ NF æ¯ä¸€è¡Œ($0)æ‹¥æœ‰çš„å­—æ®µæ€»æ•° NR ç›®å‰awkæ‰€å¤„ç†çš„æ˜¯â€œç¬¬å‡ è¡Œâ€æ•°æ® FS ç›®å‰çš„åˆ†éš”å­—ç¬¦ï¼Œé»˜è®¤æ˜¯ç©ºç™½é”® ç»§ç»­ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘æƒ³å®ç°ä»¥ä¸‹æ•ˆæœï¼š &emsp;åˆ—å‡ºæ¯ä¸€è¡Œçš„å¸å·(å°±æ˜¯ $1); &emsp;åˆ—å‡ºç›®å‰å¤„ç†çš„è¡Œæ•°(å°±æ˜¯ awk å†…çš„ NR å˜é‡) &emsp;å¹¶ä¸”è¯´æ˜,è¯¥è¡Œæœ‰å¤šå°‘å­—æ®µ(å°±æ˜¯ awk å†…çš„ NF å˜é‡) 1234567last -n 5 | awk '&#123;print $1 \"\\t lines: \" NR \"\\t columns: \" NF&#125;'# outputroot lines: 1 columns: 10root lines: 2 columns: 10root lines: 3 columns: 10root lines: 4 columns: 10reboot lines: 5 columns: 11 awkçš„é€»è¾‘è¿ç®—å­—ç¬¦ æ—¢ç„¶æœ‰éœ€è¦ç”¨åˆ°â€œæ¡ä»¶â€çš„ç±»åˆ«ï¼Œè‡ªç„¶å°±éœ€è¦ä¸€äº›é€»è¾‘è¿ç®—å’¯ï½ä¾‹å¦‚ä¸‹é¢è¿™äº›ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š è¿ç®—å•å…ƒ ä»£è¡¨æ„ä¹‰ &gt; å¤§äº &lt; å°äº &gt;= å¤§äºç­‰äº &lt;= å°äºç­‰äº == ç­‰äº != ä¸ç­‰äº å¥½äº†,æˆ‘ä»¬å®é™…æ¥è¿ç”¨ä¸€ä¸‹é€»è¾‘åˆ¤æ–­å§!ä¸¾ä¾‹æ¥è¯´,åœ¨ pd.txt å½“ä¸­æ˜¯ä»¥å†’å· â€œ:â€ æ¥ä½œä¸ºå­—æ®µçš„åˆ†éš”, è¯¥æ–‡ä»¶ä¸­ç¬¬ä¸€å­—æ®µä¸ºå¸å·,ç¬¬ä¸‰å­—æ®µåˆ™æ˜¯ UIDã€‚é‚£å‡è®¾æˆ‘è¦æŸ¥é˜…,ç¬¬ä¸‰æ å°äº10 ä»¥ä¸‹çš„æ•°æ®,å¹¶ä¸”ä»…åˆ—å‡ºå¸å·ä¸ç¬¬ä¸‰æ , é‚£ä¹ˆå¯ä»¥è¿™æ ·åš:12345678910111213cat pd.txt | \\&gt; awk '&#123;FS=\":\"&#125; $3 &lt; 10 &#123;print $1 \"\\t\" $3&#125;'# outputroot:x:0:0:root:/root:/bin/bash daemon 1bin 2sys 3sync 4games 5man 6lp 7mail 8news 9 æœ‰è¶£å§!ä¸è¿‡,æ€ä¹ˆç¬¬ä¸€è¡Œæ²¡æœ‰æ­£ç¡®çš„æ˜¾ç¤ºå‡ºæ¥å‘¢?è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¯»å…¥ç¬¬ä¸€è¡Œçš„æ—¶å€™,é‚£äº›å˜é‡ $1, $2â€¦ é»˜è®¤è¿˜æ˜¯ä»¥ç©ºç™½é”®ä¸ºåˆ†éš”çš„,æ‰€ä»¥è™½ç„¶æˆ‘ä»¬å®šä¹‰äº† FS=â€:â€ äº†, ä½†æ˜¯å´ä»…èƒ½åœ¨ç¬¬äºŒè¡Œåæ‰å¼€å§‹ç”Ÿæ•ˆã€‚é‚£ä¹ˆæ€ä¹ˆåŠå‘¢?æˆ‘ä»¬å¯ä»¥é¢„å…ˆè®¾ç½® awk çš„å˜é‡å•Š! åˆ©ç”¨ BEGIN è¿™ä¸ªå…³é”®å­—å–”!è¿™æ ·åš:123456789cat pd.txt | \\&gt; awk 'BEGIN &#123;FS=\":\"&#125; $3 &lt; 10 &#123;print $1 \"\\t\" $3&#125;'# outputroot 0daemon 1bin 2sys 3sync 4games 5 æˆ‘æœ‰ä¸€ä¸ªè–ªèµ„æ•°æ®è¡¨æ–‡ä»¶åä¸ºpay.txtï¼Œå†…å®¹æ˜¯è¿™æ ·çš„ï¼š1234Name 1st 2nd 3thVd 23000 24000 25000Di 21000 20000 23000Bd 43000 42000 41000 å¦‚æœæˆ‘æƒ³è®¡ç®—æ¯ä¸ªäººçš„æ€»é¢å‘¢ï¼Ÿè€Œä¸”æˆ‘è¿˜æƒ³è¦æ ¼å¼åŒ–è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è€ƒè™‘ï¼š ç¬¬ä¸€è¡Œåªæ˜¯è¯´æ˜ï¼Œæ‰€ä»¥ç¬¬ä¸€è¡Œä¸è¦è¿›è¡ŒåŠ æ€»ï¼ˆNR==1æ—¶å¤„ç†ï¼‰ ç¬¬äºŒè¡Œä»¥åå°±ä¼šæœ‰åŠ æ€»çš„æƒ…å†µå‡ºç°ï¼ˆNR &gt;=2 ä»¥åå¤„ç† ï¼‰ 123456789cat pay.txt | \\&gt; awk 'NR == 1 &#123;printf \"%10s %10s %10s %10s %10s\\n\",$1,$2,$3,$4,\"Total\"&#125;&gt; NR &gt;= 2 &#123;Total = $2+$3+$4&gt; printf \"%10s %10s %10s %10s %10.2f\\n\",$1,$2,$3,$4,Total&#125;'# output Name 1st 2nd 3th Total Vd 23000 24000 25000 72000.00 Di 21000 20000 23000 64000.00 Bd 43000 42000 41000 126000.00 ä¸Šé¢çš„ä¾‹å­æœ‰å‡ ä¸ªé‡è¦äº‹é¡¹åº”è¯¥å…ˆè¯´æ˜çš„ï¼š awkçš„æŒ‡ä»¤é—´éš”:æ‰€æœ‰awkçš„åŠ¨ä½œ,äº¦å³åœ¨{}å†…çš„åŠ¨ä½œ,å¦‚æœæœ‰éœ€è¦å¤šä¸ªæŒ‡ä»¤è¾…åŠ©æ—¶,å¯åˆ©ç”¨åˆ†å·â€œ;â€é—´éš”, æˆ–è€…ç›´æ¥ä»¥ [Enter] æŒ‰é”®æ¥éš”å¼€æ¯ä¸ªæŒ‡ä»¤,ä¾‹å¦‚ä¸Šé¢çš„èŒƒä¾‹ä¸­æˆ‘å°±ä½¿ç”¨äº†ä¸‰æ¬¡ [enter] å–”! é€»è¾‘è¿ç®—å½“ä¸­ï¼Œå¦‚æœæ˜¯ç­‰äºçš„æƒ…å†µï¼Œåˆ™åŠ¡å¿…ä½¿ç”¨ä¸¤ä¸ªç­‰å·â€œ==â€ï¼ æ ¼å¼åŒ–è¾“å‡ºæ—¶ï¼Œåœ¨printfçš„æ ¼å¼è®¾ç½®å½“ä¸­ï¼ŒåŠ¡å¿…åŠ ä¸Š\\nï¼Œæ‰èƒ½è¿›è¡Œåˆ†è¡Œ ä¸bash shellçš„å˜é‡ä¸åŒï¼Œåœ¨awkå½“ä¸­ï¼Œå˜é‡å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€åŠ ä¸Š$ç¬¦å· åˆ©ç”¨ awk è¿™ä¸ªç©æ„å„¿,å°±å¯ä»¥å¸®æˆ‘ä»¬å¤„ç†å¾ˆå¤šæ—¥å¸¸å·¥ä½œäº†å‘¢!çœŸæ˜¯å¥½ç”¨çš„å¾ˆ~ æ­¤å¤–, awkçš„è¾“å‡ºæ ¼å¼å½“ä¸­,å¸¸å¸¸ä¼šä»¥ printf æ¥è¾…åŠ©,æ‰€ä»¥, æœ€å¥½ä½ å¯¹ printf ä¹Ÿç¨å¾®ç†Ÿæ‚‰ä¸€ä¸‹æ¯”è¾ƒå¥½å•¦!å¦å¤–, awk çš„åŠ¨ä½œå†… {} ä¹Ÿæ˜¯æ”¯æŒ if (æ¡ä»¶) çš„å–”! ä¸¾ä¾‹æ¥è¯´,ä¸Šé¢çš„æŒ‡ä»¤å¯ä»¥ä¿®æ”¹æˆä¸ºè¿™æ ·:123456789cat pay.txt | \\&gt; awk '&#123;if (NR==1) printf \"%10s %10s %10s %10s %10s\\n\",$1,$2,$3,$4,\"Total\"&#125;&gt; NR &gt;= 2 &#123;Total = $2+$3+$4&gt; printf \"%10s %10s %10s %10s %10.2f\\n\",$1,$2,$3,$4,Total&#125;'# output Name 1st 2nd 3th Total Vd 23000 24000 25000 72000.00 Di 21000 20000 23000 64000.00 Bd 43000 42000 41000 126000.00 3.4.3ã€ æ–‡ä»¶æ¯”è¾ƒå·¥å…·ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°æ–‡ä»¶çš„æ¯”å¯¹å•Š?é€šå¸¸æ˜¯åŒä¸€ä¸ªè½¯ä»¶çš„ä¸åŒç‰ˆæœ¬ä¹‹é—´,æ¯”è¾ƒé…ç½®æ–‡ä»¶ä¸åŸå§‹æ–‡ä»¶çš„å·®åˆ«ã€‚å¾ˆå¤šæ—¶å€™æ‰€è°“çš„æ–‡ä»¶æ¯”å¯¹,é€šå¸¸æ˜¯ç”¨åœ¨ASCIIçº¯æ–‡æœ¬æ–‡ä»¶çš„æ¯”å¯¹ä¸Šçš„!é‚£ä¹ˆæ¯”å¯¹æ–‡ä»¶çš„æŒ‡ä»¤æœ‰å“ªäº›?æœ€å¸¸è§çš„å°±æ˜¯diffå•°!å¦å¤–,é™¤äº†diffæ¯”å¯¹ä¹‹å¤–,æˆ‘ä»¬è¿˜å¯ä»¥å€Ÿç”±cmpæ¥æ¯”å¯¹éçº¯æ–‡æœ¬æ–‡ä»¶!åŒæ—¶,ä¹Ÿèƒ½å¤Ÿå€Ÿç”± diff åˆ›å»ºçš„åˆ†ææ¡£,ä»¥å¤„ç†è¡¥ä¸(patch)åŠŸèƒ½çš„æ–‡ä»¶å‘¢!å°±æ¥ç©ç©å…ˆ! diff diffå°±æ˜¯ç”¨åœ¨æ¯”å¯¹ä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„å·®å¼‚çš„,å¹¶ä¸”æ˜¯ä»¥è¡Œä¸ºå•ä½æ¥æ¯”å¯¹çš„!ä¸€èˆ¬æ˜¯ç”¨åœ¨ASCIIçº¯æ–‡æœ¬æ–‡ä»¶çš„æ¯”å¯¹ä¸Šã€‚ç”±äºæ˜¯ä»¥è¡Œä¸ºæ¯”å¯¹çš„å•ä½,å› æ­¤diffé€šå¸¸æ˜¯ç”¨åœ¨åŒä¸€çš„æ–‡ä»¶(æˆ–è½¯ä»¶)çš„æ–°æ—§ç‰ˆæœ¬åŒºåˆ«ä¸Š! ä¸¾ä¾‹æ¥è¯´,å‡å¦‚æˆ‘ä»¬è¦å°†/etc/passwdå¤„ç†æˆä¸ºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬pd,å¤„ç†æ–¹å¼ä¸º:å°†ç¬¬å››è¡Œåˆ é™¤,ç¬¬å…­è¡Œåˆ™å–ä»£æˆä¸ºâ€œno six lineâ€,æ–°çš„æ–‡ä»¶æ”¾ç½®åˆ° /shell_learning/test é‡Œé¢,é‚£ä¹ˆåº”è¯¥æ€ä¹ˆåš? 123456789101112cd ~/Desktop/shell_learningmkdir testcp /etc/passwd pdcat pd | sed -e '4d' -e '6c no six line' &gt; pd.new# outputcat -n pd.new | head -n 6 1 root:x:0:0:root:/root:/bin/bash 2 daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin 3 bin:x:2:2:bin:/bin:/usr/sbin/nologin 4 sync:x:4:65534:sync:/bin:/bin/sync 5 no six line 6 man:x:6:12:man:/var/cache/man:/usr/sbin/nologin æ¥ä¸‹æ¥è®¨è®ºä¸€ä¸‹å…³äºdiffçš„ç”¨æ³•å§ï¼12345678diff [-bBi] from-file to-file# parasï¼š from-file : ä¸€ä¸ªæ–‡ä»¶å,ä½œä¸ºåŸå§‹æ¯”å¯¹æ–‡ä»¶çš„æ–‡ä»¶å; to-file : ä¸€ä¸ªæ–‡ä»¶å,ä½œä¸ºç›®çš„æ¯”å¯¹æ–‡ä»¶çš„æ–‡ä»¶å; æ³¨æ„,from-file æˆ– to-file å¯ä»¥ - å–ä»£,é‚£ä¸ª - ä»£è¡¨â€œStandard inputâ€ä¹‹æ„ã€‚ -b :å¿½ç•¥ä¸€è¡Œå½“ä¸­,ä»…æœ‰å¤šä¸ªç©ºç™½çš„å·®å¼‚(ä¾‹å¦‚ \"about me\" ä¸ \"about me\" è§†ä¸ºç›¸åŒ -B :å¿½ç•¥ç©ºç™½è¡Œçš„å·®å¼‚ã€‚ -i :å¿½ç•¥å¤§å°å†™çš„ä¸åŒã€‚ èŒƒä¾‹ä¸€:æ¯”å¯¹pdä¸pd.newçš„å·®å¼‚12345678diff pd pd.new # output4d3 &lt;==å·¦è¾¹ç¬¬å››è¡Œè¢«åˆ é™¤(d)äº†,åŸºå‡†æ˜¯å³è¾¹ç¬¬ä¸‰è¡Œ&lt; sys:x:3:3:sys:/dev:/usr/sbin/nologin &lt;===è¿™è¾¹åˆ—å‡ºå·¦è¾¹(&lt;)æ–‡ä»¶è¢«åˆ é™¤çš„é‚£ä¸€è¡Œå†…å®¹6c5 &lt;==å·¦è¾¹æ–‡ä»¶çš„ç¬¬å…­è¡Œè¢«æ›¿æ¢(c)æˆå³è¾¹æ–‡ä»¶çš„ç¬¬äº”è¡Œ&lt; games:x:5:60:games:/usr/games:/usr/sbin/nologin &lt;===å·¦è¾¹(&lt;)æ–‡ä»¶çš„ç¬¬å…­è¡Œå†…å®¹---&gt; no six line &lt;==å³è¾¹(&gt;)æ–‡ä»¶ç¬¬äº”è¡Œå†…å®¹ å¾ˆèªæ˜å§ï¼ç”¨diffæŠŠæˆ‘ä»¬åˆšåˆšçš„å¤„ç†ç»™æ¯”å¯¹å®Œæ¯•äº†ï¼ diffä¹Ÿå¯ä»¥æ¯”è¾ƒæ•´ä¸ªç›®å½•ä¸‹çš„åŒºåˆ« diffè¿˜å¯ä»¥æ¯”è¾ƒä¸åŒç›®å½•ä¸‹çš„ç›¸åŒæ–‡ä»¶åçš„å†…å®¹ cmp ç›¸å¯¹äºdiffçš„å¹¿æ³›ç”¨é€”,cmpä¼¼ä¹å°±ç”¨çš„æ²¡æœ‰è¿™ä¹ˆå¤šäº†~cmpä¸»è¦ä¹Ÿæ˜¯åœ¨æ¯”å¯¹ä¸¤ä¸ªæ–‡ä»¶,ä»–ä¸»è¦åˆ©ç”¨â€œå­—èŠ‚â€å•ä½å»æ¯”å¯¹, å› æ­¤,å½“ç„¶ä¹Ÿå¯ä»¥æ¯”å¯¹binary fileå•°~(è¿˜æ˜¯è¦å†æé†’å–”,diffä¸»è¦æ˜¯ä»¥â€œè¡Œâ€ä¸ºå•ä½æ¯”å¯¹,cmpåˆ™æ˜¯ä»¥â€œå­—èŠ‚â€ä¸ºå•ä½å»æ¯”å¯¹,è¿™å¹¶ä¸ç›¸åŒ!)1234567cmp [-l] file1 file2# paras: -l :å°†æ‰€æœ‰çš„ä¸åŒç‚¹çš„å­—èŠ‚å¤„éƒ½åˆ—å‡ºæ¥ã€‚å› ä¸º cmp é»˜è®¤ä»…ä¼šè¾“å‡ºç¬¬ä¸€ä¸ªå‘ç°çš„ä¸åŒç‚¹ã€‚# examples: cmp pd pd.new # output pd pd.new differ: byte 120, line 4 patch patch è¿™ä¸ªæŒ‡ä»¤ä¸ diff å¯æ˜¯æœ‰å¯†ä¸å¯åˆ†çš„å…³ç³»å•Š!æˆ‘ä»¬å‰é¢æåˆ°,diff å¯ä»¥ç”¨æ¥åˆ†è¾¨ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚, ä¸¾ä¾‹æ¥è¯´,åˆšåˆšæˆ‘ä»¬æ‰€åˆ›å»ºçš„pdåŠpd.newä¹‹é—´å°±æ˜¯ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„æ–‡ä»¶ã€‚é‚£ä¹ˆ,å¦‚æœè¦â€œå‡çº§â€å‘¢?å°±æ˜¯â€œå°†æ—§çš„æ–‡ä»¶å‡çº§æˆä¸ºæ–°çš„æ–‡ä»¶â€æ—¶,åº”è¯¥è¦æ€ä¹ˆåšå‘¢?å…¶å®ä¹Ÿä¸éš¾å•¦!å°±æ˜¯â€œå…ˆæ¯”è¾ƒå…ˆæ—§ç‰ˆæœ¬çš„å·®å¼‚,å¹¶å°†å·®å¼‚æ¡£åˆ¶ä½œæˆä¸ºè¡¥ä¸æ–‡ä»¶,å†ç”±è¡¥ä¸æ–‡ä»¶æ›´æ–°æ—§æ–‡ä»¶â€å³å¯ã€‚ä¸¾ä¾‹æ¥è¯´,æˆ‘ä»¬å¯ä»¥è¿™æ ·åšæµ‹è¯•: èŒƒä¾‹ä¸€ï¼šä»¥pdä¸pd.newåˆ¶ä½œè¡¥ä¸æ–‡ä»¶1234567891011121314151617diff -Naur pd pd.new &gt; pd.patchcat pd.patch# output--- pd 2018-04-11 13:03:58.165695684 +0800 &lt;== æ–°æ—§æ–‡ä»¶çš„ä¿¡æ¯+++ pd.new 2018-04-11 13:08:07.710232163 +0800@@ -1,9 +1,8 @@ &lt;== æ–°æ—§æ–‡ä»¶è¦ä¿®æ”¹æ•°æ®çš„ç•Œå®šèŒƒå›´ï¼Œæ—§æ–‡ä»¶1-9è¡Œï¼Œæ–°æ–‡ä»¶1-8è¡Œ root:x:0:0:root:/root:/bin/bash daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin bin:x:2:2:bin:/bin:/usr/sbin/nologin-sys:x:3:3:sys:/dev:/usr/sbin/nologin &lt;== å·¦ä¾§æ–‡ä»¶è¢«åˆ é™¤ sync:x:4:65534:sync:/bin:/bin/sync &lt;== å·¦ä¾§æ–‡ä»¶è¢«åˆ é™¤-games:x:5:60:games:/usr/games:/usr/sbin/nologin+no six line &lt;== å³ä¾§æ–°æ–‡ä»¶åŠ å…¥ man:x:6:12:man:/var/cache/man:/usr/sbin/nologin lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin mail:x:8:8:mail:/var/mail:/usr/sbin/nologin ä¸€èˆ¬æ¥è¯´,ä½¿ç”¨diffåˆ¶ä½œå‡ºæ¥çš„æ¯”è¾ƒæ–‡ä»¶é€šå¸¸ä½¿ç”¨æ‰©å±•åä¸º.patchå•°ã€‚è‡³äºå†…å®¹å°±å¦‚åŒä¸Šé¢ä»‹ç»çš„æ ·å­ã€‚åŸºæœ¬ä¸Šå°±æ˜¯ä»¥è¡Œä¸ºå•ä½,çœ‹çœ‹å“ªè¾¹æœ‰ä¸€æ ·ä¸ä¸ä¸€æ ·çš„,æ‰¾åˆ°ä¸€æ ·çš„åœ°æ–¹,ç„¶åå°†ä¸ä¸€æ ·çš„åœ°æ–¹å–ä»£æ‰! ä»¥ä¸Šé¢è¡¨æ ¼ä¸ºä¾‹,æ–°æ–‡ä»¶çœ‹åˆ°-ä¼šåˆ é™¤,çœ‹åˆ°+ä¼šåŠ å…¥!å¥½äº†,é‚£ä¹ˆå¦‚ä½•å°†æ—§çš„æ–‡ä»¶æ›´æ–°æˆä¸ºæ–°çš„å†…å®¹å‘¢? å°±æ˜¯å°†pdæ”¹æˆä¸pd.newç›¸åŒ!å¯ä»¥è¿™æ ·åš:12345patch -pN &lt; patch_file &lt;==æ›´æ–°patch -R -pN &lt; patch_file &lt;==è¿˜åŸ# paras:-p :åé¢å¯ä»¥æ¥â€œå–æ¶ˆå‡ å±‚ç›®å½•â€çš„æ„æ€ã€‚-R :ä»£è¡¨è¿˜åŸ,å°†æ–°çš„æ–‡ä»¶è¿˜åŸæˆåŸæ¥æ—§çš„ç‰ˆæœ¬ã€‚ èŒƒä¾‹äºŒï¼šå°†åˆšæ‰åˆ¶ä½œå‡ºæ¥çš„patch fileç”¨æ¥æ›´æ–°æ—§ç‰ˆæ•°æ®123456789patch -p0 &lt; pd.patch# outputpatching file pdheany@heany:~/Desktop/shell-learning$ ll pd*-rw-r--r-- 1 heany heany 2253 4æœˆ 11 13:43 pd-rw-r--r-- 1 heany heany 2253 4æœˆ 11 13:08 pd.new## ä¸¤ä¸ªæ–‡ä»¶å¤§å°ä¸€æ¨¡ä¸€æ · èŒƒä¾‹ä¸‰ï¼šå°†åˆšæ‰åˆ¶ä½œå‡ºæ¥çš„patch fileæ¢å¤æ—§æ–‡ä»¶çš„å†…å®¹123456789patch -R -p0 &lt; pd.patch# outputpatching file pdheany@heany:~/Desktop/shell-learning$ ll pd*-rw-r--r-- 1 heany heany 2326 4æœˆ 11 13:47 pd-rw-r--r-- 1 heany heany 2253 4æœˆ 11 13:08 pd.new## æ–‡ä»¶æ¢å¤æˆæ—§çš„ç‰ˆæœ¬äº† ä¸ºä»€ä¹ˆè¿™é‡Œä¼šä½¿ç”¨-p0å‘¢?å› ä¸ºæˆ‘ä»¬åœ¨æ¯”å¯¹æ–°æ—§ç‰ˆçš„æ•°æ®æ—¶æ˜¯åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹,å› æ­¤ä¸éœ€è¦å‡å»ç›®å½•å•¦!å¦‚æœæ˜¯ä½¿ç”¨æ•´ä½“ç›®å½•æ¯”å¯¹(diffæ—§ç›®å½• æ–°ç›®å½•)æ—¶, å°±å¾—è¦ä¾æ®åˆ›å»ºpatchæ–‡ä»¶ä»¶æ‰€åœ¨ç›®å½•æ¥è¿›è¡Œç›®å½•çš„åˆ å‡å•°! 3.4.4ã€ æ–‡ä»¶æ‰“å°å‡†å¤‡ï¼šprå¦‚æœä½ æ›¾ç»ä½¿ç”¨è¿‡ä¸€äº›å›¾å½¢æ¥å£çš„æ–‡ä¹¦å¤„ç†è½¯ä»¶çš„è¯,é‚£ä¹ˆå¾ˆå®¹æ˜“å‘ç°,å½“æˆ‘ä»¬åœ¨æ‰“å°çš„æ—¶å€™, å¯ä»¥åŒæ—¶é€‰æ‹©ä¸è®¾ç½®æ¯ä¸€é¡µæ‰“å°æ—¶çš„æ ‡å¤´å§!ä¹Ÿå¯ä»¥è®¾ç½®é¡µç å‘¢!é‚£ä¹ˆ,å¦‚æœæˆ‘æ˜¯åœ¨Linux ä¸‹é¢æ‰“å°çº¯æ–‡æœ¬æ–‡ä»¶å‘¢ å¯ä¸å¯ä»¥å…·æœ‰æ ‡é¢˜å•Š?å¯ä¸å¯ä»¥åŠ å…¥é¡µç å•Š?å‘µå‘µ!å½“ç„¶å¯ä»¥å•Š!ä½¿ç”¨ pr å°±èƒ½å¤Ÿè¾¾åˆ°è¿™ä¸ªåŠŸèƒ½äº†ã€‚ä¸è¿‡, pr çš„å‚æ•°å®åœ¨å¤ªå¤šäº†,è¯´ä¸å®Œ,ä¸€èˆ¬æ¥è¯´,ä»…ä½¿ç”¨æœ€ç®€å•çš„æ–¹å¼æ¥å¤„ç†å°±è¡Œã€‚ä¸¾ä¾‹æ¥è¯´,å¦‚æœæƒ³è¦æ‰“å°pdå‘¢?12345678heany@heany:~/Desktop/shell-learning$ pr pd2018-04-11 13:47 pd Page 1root:x:0:0:root:/root:/bin/bashdaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologinbin:x:2:2:bin:/bin:/usr/sbin/nologin....................ä¸‹é¢çœç•¥.......... å››ã€ å­¦ä¹ Shell Scripts4.1ã€ä»€ä¹ˆæ˜¯shell scriptshell scriptå¯ä»¥ç®€å•çš„è¢«çœ‹æˆæ˜¯æ‰¹å¤„ç†æ–‡ä»¶,ä¹Ÿå¯ä»¥è¢«è¯´æˆæ˜¯ä¸€ä¸ªç¨‹åºè¯­è¨€,ä¸”è¿™ä¸ªç¨‹åºè¯­è¨€ç”±äºéƒ½æ˜¯åˆ©ç”¨shellä¸ç›¸å…³å·¥å…·æŒ‡ä»¤, æ‰€ä»¥ä¸éœ€è¦ç¼–è¯‘å³å¯æ‰§è¡Œ,ä¸”æ‹¥æœ‰ä¸é”™çš„é™¤é”™(debug)å·¥å…·,æ‰€ä»¥,ä»–å¯ä»¥å¸®åŠ©ç³»ç»Ÿç®¡ç†å‘˜å¿«é€Ÿçš„ç®¡ç†å¥½ä¸»æœºã€‚ shell scriptå…¶å®å°±æ˜¯çº¯æ–‡æœ¬æ–‡ä»¶,æˆ‘ä»¬å¯ä»¥ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶,ç„¶åè®©è¿™ä¸ªæ–‡ä»¶æ¥å¸®æˆ‘ä»¬ä¸€æ¬¡æ‰§è¡Œå¤šä¸ªæŒ‡ä»¤,æˆ–è€…æ˜¯åˆ©ç”¨ä¸€äº›è¿ç®—ä¸é€»è¾‘åˆ¤æ–­æ¥å¸®æˆ‘ä»¬è¾¾æˆæŸäº›åŠŸèƒ½ã€‚æ‰€ä»¥å•¦,è¦ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹æ—¶,å½“ç„¶å°±éœ€è¦å…·å¤‡æœ‰ bash æŒ‡ä»¤ä¸‹è¾¾çš„ç›¸å…³è®¤è¯†ã€‚ä¸‹è¾¾æŒ‡ä»¤éœ€è¦æ³¨æ„çš„äº‹é¡¹åœ¨ç¬¬å››ç« çš„å¼€å§‹ä¸‹è¾¾æŒ‡ä»¤å°èŠ‚å†…å·²ç»æè¿‡,æœ‰ç–‘é—®è¯·è‡ªè¡Œå›å»ç¿»é˜…ã€‚ åœ¨shell scriptçš„æ’°å†™ä¸­è¿˜éœ€è¦ç”¨åˆ°ä¸‹é¢çš„æ³¨æ„äº‹é¡¹: 1. æŒ‡ä»¤çš„æ‰§è¡Œæ˜¯ä»ä¸Šè€Œä¸‹ã€ä»å·¦åˆ°å³çš„åˆ†æä¸æ‰§è¡Œ; 2. æŒ‡ä»¤çš„ä¸‹è¾¾ï¼šæŒ‡ä»¤ã€é€‰é¡¹ä¸å‚æ•°é—´çš„å¤šä¸ªç©ºç™½éƒ½ä¼šè¢«å¿½ç•¥æ‰; 3. ç©ºç™½è¡Œä¹Ÿå°†è¢«å¿½ç•¥æ‰,å¹¶ä¸” [tab] æŒ‰é”®æ‰€å¾—çš„ç©ºç™½åŒæ ·è§†ä¸ºç©ºæ ¼é”®; 4. å¦‚æœè¯»å–åˆ°ä¸€ä¸ªEnterç¬¦å·ï¼ˆCRï¼‰ï¼Œå°±å°è¯•å¼€å§‹æ‰§è¡Œè¯¥è¡Œï¼ˆè¯¥ä¸²ï¼‰å‘½ä»¤; 5. è‡³äºå¦‚æœä¸€è¡Œçš„å†…å®¹å¤ªå¤šï¼Œåˆ™å¯ä»¥ä½¿ç”¨&quot;[Enter]&quot;æ¥å»¶ä¼¸è‡³ä¸‹ä¸€è¡Œ; 6. â€œ # â€å¯åšä¸ºæ³¨è§£!ä»»ä½•åŠ åœ¨ # åé¢çš„æ•°æ®å°†å…¨éƒ¨è¢«è§†ä¸ºæ³¨è§£æ–‡å­—è€Œè¢«å¿½ç•¥! å¦‚æ­¤ä¸€æ¥,æˆ‘ä»¬åœ¨scriptå†…æ‰€æ’°å†™çš„ç¨‹åº,å°±ä¼šè¢«ä¸€è¡Œä¸€è¡Œçš„æ‰§è¡Œã€‚ç°åœ¨æˆ‘ä»¬å‡è®¾ä½ å†™çš„è¿™ä¸ªç¨‹åºæ–‡ä»¶åæ˜¯/home/heany/Desktop/shell-learning/shell.shå¥½äº†,é‚£å¦‚ä½•æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶?å¾ˆç®€å•,å¯ä»¥æœ‰ä¸‹é¢å‡ ä¸ªæ–¹æ³•: ç›´æ¥ä¸‹è¾¾æŒ‡ä»¤ï¼šshell.shæ–‡ä»¶å¿…é¡»è¦å…·å¤‡å¯è¯»ä¸å¯æ‰§è¡Œï¼ˆrxï¼‰çš„æƒé™ï¼Œç„¶åï¼š ç»å¯¹è·¯å¾„ï¼šä½¿ç”¨/home/heany/Desktop/shell-learning/shell.shæ¥ä¸‹è¾¾æŒ‡ä»¤; ç›¸å¯¹è·¯å¾„ï¼šå‡è®¾å·¥ä½œç›®å½•åœ¨/home/heany/Desktop/shell-learningï¼Œåˆ™ä½¿ç”¨./shell.shæ¥æ‰§è¡Œ; å˜é‡PATHåŠŸèƒ½ï¼šå°†shell.shæ”¾åœ¨PATHæŒ‡å®šçš„ç›®å½•å†…ï¼Œä¾‹å¦‚ï¼š~/bin/ ä»¥bashç¨‹åºæ¥æ‰§è¡Œï¼šé€šè¿‡â€bash shell.shâ€æˆ–sh shell.shæ¥æ‰§è¡Œã€‚ ç¼–å†™ç¬¬ä¸€ä¸ªscript123456789#!/bin/bash# Program:# This program shows \"Hello World!\" in your screen.# History:# 2018/04/11 VBird First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATHecho -e \"Hello World! \\a \\n\"exit 0 ç¨‹åºè¯´æ˜å¦‚ä¸‹ï¼š ç¬¬ä¸€è¡Œ#!/bin/bashåœ¨å®£å‘Šè¿™ä¸ªscriptä½¿ç”¨çš„shellåç§°: å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯bash ,æ‰€ä»¥,å¿…é¡»è¦ä»¥#!/bin/bashæ¥å®£å‘Šè¿™ä¸ªæ–‡ä»¶å†…çš„è¯­æ³•ä½¿ç”¨bashè¯­æ³•!é‚£ä¹ˆå½“è¿™ä¸ªç¨‹åºè¢«æ‰§è¡Œæ—¶,ä»–å°±èƒ½å¤Ÿè½½å…¥bashçš„ç›¸å…³ç¯å¢ƒé…ç½®æ–‡ä»¶ (ä¸€èˆ¬æ¥è¯´å°±æ˜¯non-login shellçš„ ~/.bashrc), å¹¶ä¸”æ‰§è¡Œbashæ¥ä½¿æˆ‘ä»¬ä¸‹é¢çš„æŒ‡ä»¤èƒ½å¤Ÿæ‰§è¡Œ!è¿™å¾ˆé‡è¦çš„!(åœ¨å¾ˆå¤šçŠ¶å†µä¸­,å¦‚æœæ²¡æœ‰è®¾ç½®å¥½è¿™ä¸€è¡Œ,é‚£ä¹ˆè¯¥ç¨‹åºå¾ˆå¯èƒ½ä¼šæ— æ³•æ‰§è¡Œ,å› ä¸ºç³»ç»Ÿå¯èƒ½æ— æ³•åˆ¤æ–­è¯¥ç¨‹åºéœ€è¦ä½¿ç”¨ä»€ä¹ˆ shell æ¥æ‰§è¡Œå•Š!) ç¨‹åºå†…å®¹çš„è¯´æ˜: æ•´ä¸ª script å½“ä¸­,é™¤äº†ç¬¬ä¸€è¡Œçš„#!æ˜¯ç”¨æ¥å®£å‘Šshellçš„ä¹‹å¤–,å…¶ä»–çš„#éƒ½æ˜¯â€œæ³¨è§£â€ç”¨é€”! æ‰€ä»¥ä¸Šé¢çš„ç¨‹åºå½“ä¸­,ç¬¬äºŒè¡Œä»¥ä¸‹å°±æ˜¯ç”¨æ¥è¯´æ˜æ•´ä¸ªç¨‹åºçš„åŸºæœ¬æ•°æ®ã€‚ä¸€èˆ¬æ¥è¯´, å»ºè®®ä½ ä¸€å®šè¦å…»æˆè¯´æ˜è¯¥ script çš„:1. å†…å®¹ä¸åŠŸèƒ½; 2. ç‰ˆæœ¬ä¿¡æ¯; 3.ä½œè€…ä¸è”ç»œæ–¹å¼; 4. åˆ›å»ºæ—¥æœŸ;5. å†å²çºªå½• ç­‰ç­‰ã€‚è¿™å°†æœ‰åŠ©äºæœªæ¥ç¨‹åºçš„æ”¹å†™ä¸ debugå‘¢! ä¸»è¦ç¯å¢ƒå˜é‡çš„å£°æ˜: å»ºè®®åŠ¡å¿…è¦å°†ä¸€äº›é‡è¦çš„ç¯å¢ƒå˜é‡è®¾ç½®å¥½,ä¸ªäººè®¤ä¸º,PATHä¸LANG (å¦‚æœæœ‰ä½¿ç”¨åˆ°è¾“å‡ºç›¸å…³çš„ä¿¡æ¯æ—¶) æ˜¯å½“ä¸­æœ€é‡è¦çš„! å¦‚æ­¤ä¸€æ¥,åˆ™å¯è®©æˆ‘ä»¬è¿™æ”¯ç¨‹åºåœ¨è¿›è¡Œæ—¶,å¯ä»¥ç›´æ¥ä¸‹è¾¾ä¸€äº›å¤–éƒ¨æŒ‡ä»¤,è€Œä¸å¿…å†™ç»å¯¹è·¯å¾„å‘¢!æ¯”è¾ƒæ–¹ä¾¿å•¦ï¼ ä¸»è¦ç¨‹åºéƒ¨åˆ†å°±å°†ä¸»è¦çš„ç¨‹åºå†™å¥½å³å¯ï¼åœ¨è¿™ä¸ªä¾‹å­å½“ä¸­ï¼Œå°±æ˜¯echoé‚£ä¸€è¡Œã€‚ å‘ŠçŸ¥æ‰§è¡Œç»“æœï¼šä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡ŒæˆåŠŸä¸å¦ï¼Œå¯ä»¥ä½¿ç”¨$?è¿™ä¸ªå˜é‡æ¥è§‚å¯Ÿï½é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨exitè¿™ä¸ªæŒ‡ä»¤æ¥è®©ç¨‹åºä¸­æ–­ï¼Œå¹¶ä¸”å›ä¼ ä¸€ä¸ªæ•°å€¼ç»™ç³»ç»Ÿã€‚åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­å½“ä¸­,æˆ‘ä½¿ç”¨exit 0,è¿™ä»£è¡¨ç¦»å¼€scriptå¹¶ä¸”å›ä¼ ä¸€ä¸ª0ç»™ç³»ç»Ÿ, æ‰€ä»¥æˆ‘æ‰§è¡Œå®Œè¿™ä¸ªscriptå,è‹¥æ¥ç€ä¸‹è¾¾echo $? åˆ™å¯å¾—åˆ°0çš„å€¼å–”! æ›´èªæ˜çš„è¯»è€…åº”è¯¥ä¹ŸçŸ¥é“äº†!åˆ©ç”¨è¿™ä¸ªexit n(n æ˜¯æ•°å­—) çš„åŠŸèƒ½,æˆ‘ä»¬è¿˜å¯ä»¥è‡ªè®¢é”™è¯¯è®¯æ¯, è®©è¿™æ”¯ç¨‹åºå˜å¾—æ›´åŠ çš„smartå‘¢! 1234chmod a+x hello.sh./hello.sh# outputHello World! ç¼–å†™shell scriptçš„è‰¯å¥½ä¹ æƒ¯ ä¸€ä¸ªè‰¯å¥½ä¹ æƒ¯çš„å…»æˆæ˜¯å¾ˆé‡è¦çš„~å¤§å®¶åœ¨åˆšå¼€å§‹æ’°å†™ç¨‹åºçš„æ—¶å€™,æœ€å®¹æ˜“å¿½ç•¥è¿™éƒ¨åˆ†, è®¤ä¸ºç¨‹åºå†™å‡ºæ¥å°±å¥½äº†,å…¶ä»–çš„ä¸é‡è¦ã€‚å…¶å®,å¦‚æœç¨‹åºçš„è¯´æ˜èƒ½å¤Ÿæ›´æ¸…æ¥š,é‚£ä¹ˆå¯¹ä½ è‡ªå·±æ˜¯æœ‰å¾ˆå¤§çš„å¸®åŠ©çš„ã€‚è¦å­¦ä¼šæ¯”è¾ƒä»”ç»†çš„å°†ç¨‹åºçš„è®¾è®¡è¿‡ç¨‹ç»™å®ƒè®°å½•ä¸‹æ¥ï¼Œè€Œä¸”è®°å½•ä¸€äº›å†å²è®°å½•ã€‚åœ¨æ¯ä¸ªscriptçš„æ–‡ä»¶å¼€å§‹å¤„è®°å½•å¥½ï¼š 1. `script`çš„åŠŸèƒ½ 2. `script`çš„ç‰ˆæœ¬ä¿¡æ¯ 3. `script`çš„ä½œè€…ä¸è”ç³»æ–¹å¼ 4. `script`çš„ç‰ˆæƒå£°æ˜æ–¹å¼ 5. `script`çš„`History`ï¼ˆå†å²è®°å½•ï¼‰ 6. `script`å†…æ¯”è¾ƒç‰¹æ®Šçš„æŒ‡ä»¤ï¼Œä½¿ç”¨â€œç»å¯¹è·¯å¾„â€çš„æ–¹å¼ä¸‹è¾¾ 7. `script`è¿è¡Œæ—¶éœ€è¦çš„ç¯å¢ƒå˜é‡é¢„å…ˆå®£å‘Šä¸è®¾ç½® 8. åœ¨è¾ƒä¸ºç‰¹æ®Šç¨‹åºä»£ç éƒ¨åˆ†ï¼ŒåŠ ä¸Šé€‚å½“çš„æ³¨é‡Šè¯´æ˜ ç¨‹åºä»£ç çš„ç¼–å†™æœ€å¥½ä½¿ç”¨åµŒå¥—æ–¹å¼ï¼Œæœ€å¥½èƒ½ä»¥[tab]æŒ‰é”®çš„ç©ºæ ¼ç¼©æ’è¿™æ ·ä»£ç çœ‹èµ·æ¥éå¸¸æ¼‚äº®ä¸æœ‰æ¡ç†ã€‚ 4.2ã€ ç®€å•çš„shellç»ƒä¹ 4.2.1ã€ ç®€å•èŒƒä¾‹ äº¤äº’å¼è„šæœ¬ï¼šå˜é‡å†…å®¹ç”±ç”¨æˆ·å†³å®š è¯·ä½ ä»¥readå‘½ä»¤çš„ç”¨é€”,ç¼–å†™ä¸€ä¸ªscript,ä»–å¯ä»¥è®©ä½¿ç”¨è€…è¾“å…¥first nameä¸last name,æœ€åå¹¶ä¸”åœ¨å±å¹•ä¸Šæ˜¾ç¤º:â€œYour full name is: â€çš„å†…å®¹:123456789101112131415161718192021# showname.sh#!/bin/bash# paragram:# User inputs his first name and last name. Program shows his full name.# History# 2018/04/11 heany First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATH# æç¤ºä½¿ç”¨è€…è¾“å…¥read -p \"Please input your first name: \" firstname# æç¤ºä½¿ç”¨è€…è¾“å…¥read -p \"Please input your last name: \" lastname# ç»“æœç”±å±å¹•è¾“å‡ºecho -e \"\\nYour full name is: $&#123;firstname&#125; $&#123;lastname&#125;\" ## æ‰§è¡Œè„šæœ¬ . showname.shPlease input your first name: heanyPlease input your last name: boyYour full name is: heany boy éšæ—¥æœŸå˜åŒ–ï¼šåˆ©ç”¨dataè¿›è¡Œæ–‡ä»¶çš„åˆ›å»º æƒ³åƒä¸€ä¸ªçŠ¶å†µ,å‡è®¾æˆ‘çš„æœåŠ¡å™¨å†…æœ‰æ•°æ®åº“,æ•°æ®åº“æ¯å¤©çš„æ•°æ®éƒ½ä¸å¤ªä¸€æ ·,å› æ­¤å½“æˆ‘å¤‡ä»½æ—¶,å¸Œæœ›å°†æ¯å¤©çš„æ•°æ®éƒ½å¤‡ä»½æˆä¸åŒçš„æ–‡ä»¶å,è¿™æ ·æ‰èƒ½å¤Ÿè®©æ—§çš„æ•°æ®ä¹Ÿèƒ½å¤Ÿä¿å­˜ä¸‹æ¥ä¸è¢«è¦†ç›–ã€‚å“‡!ä¸åŒæ–‡ä»¶åå‘¢!è¿™çœŸå›°æ‰°å•Š?éš¾é“è¦æˆ‘æ¯å¤©å»ä¿®æ”¹script? ä¸éœ€è¦å•Š!è€ƒè™‘æ¯å¤©çš„â€œæ—¥æœŸâ€å¹¶ä¸ç›¸åŒ,æ‰€ä»¥æˆ‘å¯ä»¥å°†æ–‡ä»¶åå–æˆç±»ä¼¼:backup.2015-07-16.data, ä¸å°±å¯ä»¥æ¯å¤©ä¸€ä¸ªä¸åŒæ–‡ä»¶åäº†å—?å‘µå‘µ!ç¡®å®å¦‚æ­¤ã€‚é‚£ä¸ª2015-07-16æ€ä¹ˆæ¥çš„?é‚£å°±æ˜¯é‡ç‚¹å•¦!æ¥ä¸‹æ¥å‡ºä¸ªç›¸å…³çš„ä¾‹å­: å‡è®¾æˆ‘æƒ³è¦åˆ›å»ºä¸‰ä¸ªç©ºçš„æ–‡ä»¶ (é€šè¿‡ touch)æ–‡ä»¶åæœ€å¼€å¤´ç”±ä½¿ç”¨è€…è¾“å…¥å†³å®š,å‡è®¾ä½¿ç”¨è€…è¾“å…¥filenameå¥½äº†,é‚£ä»Šå¤©çš„æ—¥æœŸæ˜¯2015/07/16, æˆ‘æƒ³è¦ä»¥å‰å¤©ã€æ˜¨å¤©ã€ä»Šå¤©çš„æ—¥æœŸæ¥åˆ›å»ºè¿™äº›æ–‡ä»¶,äº¦å³filename_20150714,filename_20150715, filename_20150716 ,è¯¥å¦‚ä½•æ˜¯å¥½?123456789101112131415161718192021#!/bin/bash# program:# Program creates three files, which named by user's input and date command.# History:# 2018/04/11 heany First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATH# 1. è®©ä½¿ç”¨è€…è¾“å…¥æ–‡ä»¶åç§°,å¹¶å–å¾— fileuser è¿™ä¸ªå˜é‡;echo -e \"I will use 'touch' command to create 3 files.\" # çº¯ç²¹æ˜¾ç¤ºä¿¡æ¯read -p \"Please input your filename: \" fileuser # æç¤ºä½¿ç”¨è€…è¾“å…¥# 2. ä¸ºäº†é¿å…ä½¿ç”¨è€…éšæ„æŒ‰Enter,åˆ©ç”¨å˜é‡åŠŸèƒ½åˆ†ææ–‡ä»¶åæ˜¯å¦æœ‰è®¾ç½®filename=$&#123;fileuser:-\"filename\"&#125; # å¼€å§‹åˆ¤æ–­æœ‰å¦é…ç½®æ–‡ä»¶å# 3. å¼€å§‹åˆ©ç”¨ date æŒ‡ä»¤æ¥å–å¾—æ‰€éœ€è¦çš„æ–‡ä»¶åäº†;date1=$(date --date='2 days ago' +%Y%m%d) # å‰ä¸¤å¤©çš„æ—¥æœŸdate2=$(date --date='1 days ago' +%Y%m%d) # å‰ä¸€å¤©çš„æ—¥æœŸdate3=$(date +%Y%m%d) # ä»Šå¤©çš„æ—¥æœŸfile1=$&#123;filename&#125;$&#123;date1&#125; # ä¸‹é¢ä¸‰è¡Œåœ¨é…ç½®æ–‡ä»¶åfile2=$&#123;filename&#125;$&#123;date2&#125;file3=$&#123;filename&#125;$&#123;date3&#125; åœ¨ä¸€ä¸²å‘½ä»¤ä¸­å¦‚æœè¿˜éœ€è¦é€šè¿‡å…¶ä»–çš„å‘½ä»¤æä¾›çš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨åå•å¼•å·`å‘½ä»¤`æˆ–$(å‘½ä»¤)ã€‚filename=${fileuser:-&quot;filename&quot;}ï¼Œè¿™æ¡å‘½ä»¤ç”¨æ¥åˆ¤æ–­fileuseræ˜¯å¦å·²ç»èµ‹å€¼ï¼Œ:-æ˜¯ä¸€èµ·çš„ï¼Œfileuserå¦‚æœæœ‰å€¼çš„è¯ï¼Œå°±ç”¨æ‰€æ‹¥æœ‰çš„å€¼èµ‹ç»™filenameå˜é‡ï¼Œå¦‚æœæ²¡æœ‰å€¼çš„è¯ï¼Œå°±æŠŠâ€filenameâ€èµ‹ç»™fileuserï¼Œå†èµ‹ç»™filenameå˜é‡ã€‚ 123456789v=$(uname -r)echo $v# output4.13.0-38-genericvv=`uname -r`echo $vv# output4.13.0-38-generic æ•°å€¼è¿ç®—ï¼šç®€å•çš„åŠ å‡ä¹˜é™¤ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨declareæ¥å®šä¹‰å˜é‡çš„ç±»å‹å§? å½“å˜é‡å®šä¹‰æˆä¸ºæ•´æ•°åæ‰èƒ½å¤Ÿè¿›è¡ŒåŠ å‡è¿ç®—å•Š!æ­¤å¤–,æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨$((è®¡ç®—å¼))æ¥è¿›è¡Œæ•°å€¼è¿ç®—çš„ã€‚å¯æƒœçš„æ˜¯,bash shellé‡Œå¤´é»˜è®¤ä»…æ”¯æŒåˆ°æ•´æ•°çš„æ•°æ®è€Œå·²ã€‚OK!é‚£æˆ‘ä»¬æ¥ç©ç©çœ‹,å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨è€…è¾“å…¥ä¸¤ä¸ªå˜é‡, ç„¶åå°†ä¸¤ä¸ªå˜é‡çš„å†…å®¹ç›¸ä¹˜,æœ€åè¾“å‡ºç›¸ä¹˜çš„ç»“æœ,é‚£å¯ä»¥æ€ä¹ˆåš?1234567891011121314#!/bin/bash# Program:# User inputs 2 integer numbers; program will cross thest two numbers.# History:# 2018/04/11 heany First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATHecho -e \"You SHOULD input 2 numbers, I will multiplying them! \\n\"read -p \"first number: \" firstnuread -p \"second number: \" secnutotal=$(($&#123;firstnu&#125;*$&#123;secnu&#125;))echo -e \"\\nThe result of $firstnu x $secnu is ==&gt; $total\" åœ¨æ•°å€¼è®¡ç®—ä¸Šï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨declare -i total=$fistnu*$secnu,ä¸æ¨èä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå› ä¸ºæ¯”è¾ƒç¹çï¼Œä¸å®¹æ˜“è®°ã€‚ä½¿ç”¨ä¸Šé¢ç¨‹åºä¸­çš„é‚£ç§æ–¹å¼æ¥è®¡ç®—æ•°å€¼ã€‚ å¦‚æœæƒ³è¦è®¡ç®—å«æœ‰å°æ•°ç‚¹çš„æ•°æ®æ—¶ï¼Œå…¶å®å¯ä»¥é€šè¿‡bcè¿™ä¸ªæŒ‡ä»¤çš„ååŠ©ï¼Œä¾‹å¦‚ï¼š echo &quot;123.123*55.9&quot; | bc # output 6882.575 4.3ã€ å–„ç”¨åˆ¤æ–­å¼$?è¿™ä¸ªå˜é‡ä»£è¡¨çš„æ˜¯ä¸Šä¸€æ¡å‘½ä»¤æ‰§è¡Œçš„æƒ…å†µï¼Œè‹¥æ²¡é—®é¢˜åˆ™å›ä¼ ç ä¸º0,è‹¥å­˜åœ¨é—®é¢˜ï¼Œå›ä¼ é”™è¯¯ä»£ç (é0), æ­¤å¤–,ä¹Ÿé€šè¿‡&amp;&amp;åŠ||æ¥ä½œä¸ºå‰ä¸€ä¸ªæŒ‡ä»¤æ‰§è¡Œå›ä¼ å€¼å¯¹äºåä¸€ä¸ªæŒ‡ä»¤æ˜¯å¦è¦è¿›è¡Œçš„ä¾æ®ã€‚æˆ‘ä»¬çŸ¥é“æƒ³è¦åˆ¤æ–­ä¸€ä¸ªç›®å½•æ˜¯å¦å­˜åœ¨, ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯lsè¿™ä¸ªæŒ‡ä»¤æ­é…æ•°æ®æµé‡å¯¼å‘,æœ€åé…åˆ$?æ¥å†³å®šåç»­çš„æŒ‡ä»¤è¿›è¡Œä¸å¦ã€‚ä½†æ˜¯å¦æœ‰æ›´ç®€å•çš„æ–¹å¼å¯ä»¥æ¥è¿›è¡Œâ€œæ¡ä»¶åˆ¤æ–­â€å‘¢?æœ‰çš„~é‚£å°±æ˜¯testè¿™ä¸ªæŒ‡ä»¤ã€‚ 4.3.1ã€ åˆ©ç”¨testæŒ‡ä»¤çš„æµ‹è¯•åŠŸèƒ½å½“æˆ‘ä»¬è¦æ£€æµ‹ç³»ç»Ÿä¸Šé¢æŸäº›æ–‡ä»¶æˆ–è€…æ˜¯ç›¸å…³çš„å±æ€§æ—¶ï¼Œåˆ©ç”¨testè¿™ä¸ªæŒ‡ä»¤æ¥å·¥ä½œçœŸæ˜¯å¥½ç”¨å¾—ç‚¸äº†ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘è¦æ£€æŸ¥/heanyæ˜¯å¦å­˜åœ¨æ—¶ï¼Œä½¿ç”¨ï¼š test -e /heany æ‰§è¡Œç»“æœä¸ä¼šæ˜¾ç¤ºä»»ä½•ä¿¡æ¯ï¼Œä½†æœ€åæˆ‘ä»¬å¯ä»¥é€šè¿‡$?æˆ–&amp;&amp;åŠ||æ¥å±•ç°æ•´ä¸ªç»“æœï¼ä¾‹å¦‚æˆ‘ä»¬åœ¨å°†ä¸Šé¢çš„ä¾‹å­æ”¹å†™æˆè¿™æ ·ï¼š test -e /heany &amp;&amp; echo &quot;exist&quot; || echo &quot;No exist&quot; # output No exist ==&gt; ç»“æœæ˜¾ç¤ºä¸å­˜åœ¨ æœ€ç»ˆçš„ç»“æœå¯ä»¥å‘ŠçŸ¥æˆ‘ä»¬æ˜¯existè¿˜æ˜¯Not existå‘¢!é‚£æˆ‘çŸ¥é“-eæ˜¯æµ‹è¯•ä¸€ä¸ªâ€œä¸œè¥¿â€åœ¨ä¸åœ¨,å¦‚æœè¿˜æƒ³è¦æµ‹è¯•ä¸€ä¸‹è¯¥æ–‡ä»¶åæ˜¯å•¥ç©æ„å„¿æ—¶,è¿˜æœ‰å“ªäº›æ ‡å¿—å¯ä»¥æ¥åˆ¤æ–­çš„å‘¢?å‘µå‘µ!æœ‰ä¸‹é¢è¿™äº›ä¸œè¥¿å–”! å…³äºæŸä¸ªæ–‡ä»¶åçš„â€æ–‡ä»¶ç±»å‹â€åˆ¤æ–­ï¼Œå¦‚test -e filenameè¡¨ç¤ºå­˜åœ¨ä¸å¦ æµ‹è¯•çš„æ ‡å¿— ä»£è¡¨æ„ä¹‰ -e è¯¥æ–‡ä»¶åæ˜¯å¦å­˜åœ¨ -f è¯¥æ–‡ä»¶åæ˜¯å¦å­˜åœ¨ä¸”é—®æ–‡ä»¶ -d è¯¥æ–‡ä»¶åæ˜¯å¦å­˜åœ¨ä¸”ä¸ºç›®å½• -b è¯¥æ–‡ä»¶åæ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ªblock deviceè®¾å¤‡ -c è¯¥æ–‡ä»¶åæ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ªcharacter deviceè®¾å¤‡ -S è¯¥æ–‡ä»¶åæ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ªSocketæ–‡ä»¶ -p è¯¥æ–‡ä»¶åæ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ªFIFOï¼ˆpipeï¼‰æ–‡ä»¶ -L è¯¥æ–‡ä»¶åæ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ªé“¾æ¥æ–‡ä»¶ å…³äºæ–‡ä»¶çš„æƒé™ä¾¦æµ‹ï¼Œå¦‚test -r filenameè¡¨ç¤ºå¯è¯»å¦ï¼ˆä½†rootæƒé™å¸¸æœ‰ä¾‹å¤–ï¼‰ ä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„æ¯”è¾ƒï¼Œå¦‚ï¼štest file1 -nt file2 æµ‹è¯•çš„æ ‡å¿— ä»£è¡¨æ„ä¹‰ -nt (newer than)åˆ¤æ–­file1æ˜¯å¦æ¯”file2æ–° -ot (older than)åˆ¤æ–­file1æ˜¯å¦æ¯”file2æ—§ -ef åˆ¤æ–­ file1 ä¸ file2 æ˜¯å¦ä¸ºåŒä¸€æ–‡ä»¶,å¯ç”¨åœ¨åˆ¤æ–­hard linkçš„åˆ¤å®šä¸Šã€‚ä¸»è¦æ„ä¹‰åœ¨åˆ¤å®š,ä¸¤ä¸ªæ–‡ä»¶æ˜¯å¦å‡æŒ‡å‘åŒä¸€ä¸ªinode å…³äºä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„åˆ¤å®šï¼Œä¾‹å¦‚ï¼štest n1 -eq n2 åˆ¤å®šå­—ä¸²çš„æ•°æ® å¤šé‡æ¡ä»¶åˆ¤å®šï¼Œä¾‹å¦‚ï¼štest -r filename -a -x filename æµ‹è¯•çš„æ ‡å¿— ä»£è¡¨æ„ä¹‰ -a ä¸¤ä¸ªæ¡ä»¶åŒæ—¶æˆç«‹ï¼ä¾‹å¦‚ test -r file -a -x file,åˆ™fileåŒæ—¶å…·æœ‰rä¸xæƒé™æ—¶ã€‚æ‰å›ä¼ true -o (or)ä¸¤çŠ¶å†µä»»ä½•ä¸€ä¸ªæˆç«‹!ä¾‹å¦‚ test -r file -o -x file,åˆ™ file å…·æœ‰ r æˆ– x æƒé™æ—¶,å°±å¯å›ä¼  trueã€‚ ! åç›¸çŠ¶æ€,å¦‚test ! -x file,å½“fileä¸å…·æœ‰xæ—¶,å›ä¼ true ç°åœ¨æˆ‘ä»¬åˆ©ç”¨testæ¥å¸®æˆ‘ä»¬å†™å‡ ä¸ªç®€å•çš„ä¾‹å­ã€‚é¦–å…ˆï¼Œåˆ¤æ–­ä¸€ä¸‹ï¼Œè®©ä½¿ç”¨è€…è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åï¼Œæˆ‘ä»¬åˆ¤æ–­ï¼š è¿™ä¸ªæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨åˆ™ç»™äºˆä¸€ä¸ªâ€Filename does not existâ€çš„ä¿¡æ¯ï¼Œå¹¶ä¸­æ–­ç¨‹åº; è‹¥è¿™ä¸ªæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™åˆ¤æ–­ä»–æ˜¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œç»“æœè¾“å‡ºâ€œFilename is regular fileâ€æˆ–â€Filename is directoryâ€ åˆ¤æ–­ä¸€ä¸‹ï¼Œæ‰§è¡Œè€…çš„èº«ä»½å¯¹è¿™ä¸ªæ–‡ä»¶æˆ–ç›®å½•æ‰€æ‹¥æœ‰çš„æƒé™ï¼Œå¹¶è¾“å‡ºæƒé™æ•°æ®ï¼ 123456789101112131415161718192021222324252627#!/bin/bash# Program:# User input a filename, program will check flowing:# 1. exist? 2. file/directory? 3. file permisions# History:# 2018/04/11 heany First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATH# 1. è®©ä½¿ç”¨è€…è¾“å…¥æ–‡ä»¶å,å¹¶ä¸”åˆ¤æ–­ä½¿ç”¨è€…æ˜¯å¦çœŸçš„æœ‰è¾“å…¥å­—ä¸²?echo -e \"Please input a filename, I will check the filename's type and permission. \\n\\n\"read -p \"Input a filename : \" filenametest -z $&#123;filename&#125; &amp;&amp; echo \"You MUST input a filename.\" &amp;&amp; exit 0# 2. åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨?è‹¥ä¸å­˜åœ¨åˆ™æ˜¾ç¤ºä¿¡æ¯å¹¶ç»“æŸè„šæœ¬test ! -e $&#123;filename&#125; &amp;&amp; echo \"The filename '$&#123;filename&#125;' DO NOT exist\" &amp;&amp; exit 0# 3. å¼€å§‹åˆ¤æ–­æ–‡ä»¶ç±»å‹ä¸å±æ€§test -f $&#123;filename&#125; &amp;&amp; filetype=\"regulare file\"test -d $&#123;filename&#125; &amp;&amp; filetype=\"directory\"test -r $&#123;filename&#125; &amp;&amp; perm=\"readable\"test -w $&#123;filename&#125; &amp;&amp; perm=\"$&#123;perm&#125; writable\"# 4. å¼€å§‹è¾“å‡ºä¿¡æ¯!echo \"The filename: $&#123;filename&#125; is a $&#123;filetype&#125;\"echo \"And the permissions for you are : $&#123;perm&#125;\" 4.3.2ã€ åˆ©ç”¨åˆ¤æ–­ç¬¦å·[]é™¤äº†æˆ‘ä»¬å¾ˆå–œæ¬¢ä½¿ç”¨çš„testä¹‹å¤–,å…¶å®,æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨åˆ¤æ–­ç¬¦å·[ ](å°±æ˜¯ä¸­æ‹¬å·å•¦)æ¥è¿›è¡Œæ•°æ®çš„åˆ¤æ–­å‘¢! ä¸¾ä¾‹æ¥è¯´,å¦‚æœæˆ‘æƒ³è¦çŸ¥é“${HOME}è¿™ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºçš„,å¯ä»¥è¿™æ ·åš: [ -z &quot;$HOME&quot;] ; echo $? ä½¿ç”¨ä¸­æ‹¬å·å¿…é¡»è¦ç‰¹åˆ«æ³¨æ„,å› ä¸ºä¸­æ‹¬å·ç”¨åœ¨å¾ˆå¤šåœ°æ–¹,åŒ…æ‹¬ä¸‡ç”¨å­—ç¬¦ä¸æ­£åˆ™è¡¨è¾¾å¼ç­‰ç­‰,æ‰€ä»¥å¦‚æœè¦åœ¨ bash çš„è¯­æ³•å½“ä¸­ä½¿ç”¨ä¸­æ‹¬å·ä½œä¸ºshellçš„åˆ¤æ–­å¼æ—¶,å¿…é¡»è¦æ³¨æ„ä¸­æ‹¬å·çš„ä¸¤ç«¯éœ€è¦æœ‰ç©ºç™½å­—ç¬¦æ¥åˆ†éš”! å‡è®¾æˆ‘ç©ºç™½é”®ä½¿ç”¨â€œâ–¡â€ç¬¦å·æ¥è¡¨ç¤º,é‚£ä¹ˆ,åœ¨è¿™äº›åœ°æ–¹ä½ éƒ½éœ€è¦æœ‰ç©ºç™½é”®: [ &quot;$HOME&quot; == &quot;$MAIL&quot;] [â–¡&quot;$HOME&quot;â–¡==â–¡&quot;$MAIL&quot;â–¡] å¯æ˜¯å·®å¾ˆå¤šçš„å–”!å¦å¤–,ä¸­æ‹¬å·çš„ä½¿ç”¨æ–¹æ³•ä¸testå‡ ä¹ä¸€æ¨¡ä¸€æ ·å•Š~ åªæ˜¯ä¸­æ‹¬å·æ¯”è¾ƒå¸¸ç”¨åœ¨æ¡ä»¶åˆ¤æ–­å¼if ..... then ..... fiçš„æƒ…å†µä¸­å°±æ˜¯äº†ã€‚å¥½,é‚£æˆ‘ä»¬ä¹Ÿä½¿ç”¨ä¸­æ‹¬å·çš„åˆ¤æ–­æ¥åšä¸€ä¸ªå°æ¡ˆä¾‹å¥½äº†,æ¡ˆä¾‹è®¾ç½®å¦‚ä¸‹: 1. å½“æ‰§è¡Œä¸€ä¸ªç¨‹åºçš„æ—¶å€™,è¿™ä¸ªç¨‹åºä¼šè®©ä½¿ç”¨è€…é€‰æ‹© Y æˆ– N , 2. å¦‚æœä½¿ç”¨è€…è¾“å…¥Yæˆ–yæ—¶ï¼Œå°±æ˜¾ç¤º&quot;OKï¼Œ continue&quot; 3. å¦‚æœä½¿ç”¨è€…è¾“å…¥ n æˆ– N æ—¶,å°±æ˜¾ç¤ºâ€œ Oh, interrupt !â€ 4. å¦‚æœä¸æ˜¯ Y/y/N/n ä¹‹å†…çš„å…¶ä»–å­—ç¬¦,å°±æ˜¾ç¤ºâ€œ I don&apos;t know what your choice is â€ åˆ©ç”¨ä¸­æ‹¬å·ã€&amp;&amp;ä¸||æ¥ç»§ç»­å§ï¼12345678910111213#!/bin/bash# Program:# This program shows the user's choice.# History:# 2018/04/11 heany First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATHread -p \"Please input (Y/N): \" yn[ \"$&#123;yn&#125;\" == \"Y\" -o \"$&#123;yn&#125;\" == \"y\" ] &amp;&amp; echo \"OK, continue\" &amp;&amp; exit 0[ \"$&#123;yn&#125;\" == \"N\" -o \"$&#123;yn&#125;\" == \"n\" ] &amp;&amp; echo \"Oh, interrupt!\" &amp;&amp; exit 0echo \"I don't know what your choice is\" &amp;&amp; exit 0 è¿™é‡Œä½¿ç”¨-oæ¥é“¾æ¥ä¸¤ä¸ªåˆ¤æ–­ 4.3.3ã€ Shell Scriptçš„é»˜è®¤å˜é‡ï¼ˆ$0,$1â€¦ï¼‰æˆ‘ä»¬çŸ¥é“æŒ‡ä»¤å¯ä»¥å¸¦æœ‰é€‰é¡¹ä¸å‚æ•°,ä¾‹å¦‚ls -laå¯ä»¥å¯Ÿçœ‹åŒ…å«éšè—æ–‡ä»¶çš„æ‰€æœ‰å±æ€§ä¸æƒé™ã€‚é‚£ä¹ˆshell scriptèƒ½ä¸èƒ½åœ¨è„šæœ¬æ–‡ä»¶ååé¢å¸¦æœ‰å‚æ•°å‘¢?å¾ˆæœ‰è¶£å–”!ä¸¾ä¾‹æ¥è¯´,å¦‚æœä½ æƒ³è¦é‡æ–°å¯åŠ¨ç³»ç»Ÿçš„ç½‘ç»œ,å¯ä»¥è¿™æ ·åš: file /etc/init.d/network /etc/init.d/network restart # é‡å¯ restart æ˜¯é‡æ–°å¯åŠ¨çš„æ„æ€,ä¸Šé¢çš„æŒ‡ä»¤å¯ä»¥â€œé‡æ–°å¯åŠ¨ /etc/init.d/network è¿™æ”¯ç¨‹åºâ€çš„æ„æ€!å””!é‚£ä¹ˆå¦‚æœä½ åœ¨ /etc/init.d/network åé¢åŠ ä¸Š stop å‘¢?æ²¡é”™!å°±å¯ä»¥ç›´æ¥å…³é—­è¯¥æœåŠ¡äº†!è¿™ä¹ˆç¥å¥‡å•Š? é”™å•Š!å¦‚æœä½ è¦ä¾æ®ç¨‹åºçš„æ‰§è¡Œç»™äºˆä¸€äº›å˜é‡å»è¿›è¡Œä¸åŒçš„ä»»åŠ¡æ—¶,æœ¬ç« ä¸€å¼€å§‹æ˜¯ä½¿ç”¨ read çš„åŠŸèƒ½!ä½† read åŠŸèƒ½çš„é—®é¢˜æ˜¯ä½ å¾—è¦æ‰‹åŠ¨ç”±é”®ç›˜è¾“å…¥ä¸€äº›åˆ¤æ–­å¼ã€‚å¦‚æœé€šè¿‡æŒ‡ä»¤åé¢æ¥å‚æ•°, é‚£ä¹ˆä¸€ä¸ªæŒ‡ä»¤å°±èƒ½å¤Ÿå¤„ç†å®Œæ¯•è€Œä¸éœ€è¦æ‰‹åŠ¨å†æ¬¡è¾“å…¥ä¸€äº›å˜é‡è¡Œä¸º!è¿™æ ·ä¸‹è¾¾æŒ‡ä»¤ä¼šæ¯”è¾ƒç®€å•æ–¹ä¾¿å•¦! script æ˜¯æ€ä¹ˆè¾¾æˆè¿™ä¸ªåŠŸèƒ½çš„å‘¢?å…¶å® script é’ˆå¯¹å‚æ•°å·²ç»æœ‰è®¾ç½®å¥½ä¸€äº›å˜é‡åç§°äº†!å¯¹åº”å¦‚ä¸‹:12/path/to/scriptname opt1 opt2 opt3 opt4 $0 $1 $2 $3 $4 è¿™æ ·å¤Ÿæ¸…æ¥šäº†å§?æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶åä¸º$0è¿™ä¸ªå˜é‡,ç¬¬ä¸€ä¸ªæ¥çš„å‚æ•°å°±æ˜¯$1å•Š~ æ‰€ä»¥,åªè¦æˆ‘ä»¬åœ¨ script é‡Œé¢å–„ç”¨$1çš„è¯,å°±å¯ä»¥å¾ˆç®€å•çš„ç«‹å³ä¸‹è¾¾æŸäº›æŒ‡ä»¤åŠŸèƒ½äº†!é™¤äº†è¿™äº›æ•°å­—çš„å˜é‡ä¹‹å¤–, æˆ‘ä»¬è¿˜æœ‰ä¸€äº›è¾ƒä¸ºç‰¹æ®Šçš„å˜é‡å¯ä»¥åœ¨scriptå†…ä½¿ç”¨æ¥è°ƒç”¨è¿™äº›å‚æ•°å–”! $# :ä»£è¡¨åæ¥çš„å‚æ•°â€œä¸ªæ•°â€,ä»¥ä¸Šè¡¨ä¸ºä¾‹è¿™é‡Œæ˜¾ç¤ºä¸ºâ€œ 4 â€; $@ :ä»£è¡¨â€œ &quot;$1&quot; &quot;$2&quot; &quot;$3&quot; &quot;$4&quot; â€ä¹‹æ„,æ¯ä¸ªå˜é‡æ˜¯ç‹¬ç«‹çš„(ç”¨åŒå¼•å·æ‹¬èµ·æ¥); $* :ä»£è¡¨â€œ &quot;$1&lt;u&gt;c&lt;/u&gt;$2&lt;u&gt;c&lt;/u&gt;$3&lt;u&gt;c&lt;/u&gt;$4&quot; â€,&lt;br&gt; å…¶ä¸­ &lt;u&gt;c&lt;/u&gt; ä¸ºåˆ†éš”å­—ç¬¦,é»˜è®¤ä¸ºç©ºç™½é”®, æ‰€ä»¥æœ¬ä¾‹ä¸­ä»£è¡¨â€œ &quot;$1 $2 $3 $4&quot; â€ä¹‹æ„ã€‚ æ¥ç»ƒä¹ ï¼šå‡è®¾æˆ‘ä»¬è¦æ‰§è¡Œä¸€ä¸ªå¯ä»¥æºå¸¦å‚æ•°çš„scriptï¼Œæ‰§è¡Œè¯¥è„šæœ¬åå±å¹•ä¼šæ˜¾ç¤ºå¦‚ä¸‹æ•°æ®ï¼š ç¨‹åºçš„æ–‡ä»¶åä¸ºä½•ï¼Ÿ å…±æœ‰å‡ ä¸ªå‚æ•°ï¼Ÿ è‹¥å‚æ•°çš„ä¸ªæ•°å°äº2åˆ™å‘ŠçŸ¥ä½¿ç”¨è€…å‚æ•°æ•°é‡å¤ªå°‘ å…¨éƒ¨çš„å‚æ•°å†…å®¹ä¸ºä½•ï¼Ÿ ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä½•ï¼Ÿ ç¬¬äºŒä¸ªå‚æ•°ä¸ºä½•ï¼Ÿ 12345678910111213141516171819202122232425#!/bin/bash# Program:# Program shows the script name, parameters and so on....# History:# 2018/04/12 heany First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATHecho \"The script name is ===&gt; $0\"echo \"Total parameter number is ===&gt; $#\"[ \"$#\" -lt 2 ] &amp;&amp; echo \"The number of parameter is less than 2. Stop here.\"\\ &amp;&amp; exit 0echo \"Your whole parameter is ==&gt; '$@'\"echo \"The 1st parameter ===&gt; $1\"echo \"The 2nd parameter ===&gt; $2\"# è„šæœ¬æ‰§è¡Œsh how_paras.sh I am a boy# outputThe script name is ===&gt; how_paras.shTotal parameter number is ===&gt; 4Your whole parameter is ==&gt; 'I am a boy'The 1st parameter ===&gt; IThe 2nd parameter ===&gt; am shiftï¼šé€ æˆå‚æ•°å˜é‡å·ç åç§» ä»€ä¹ˆæ˜¯åç§»ï¼ˆshiftï¼‰å‘¢ï¼Ÿæˆ‘ä»¬ç”¨ä¸‹é¢çš„èŒƒä¾‹æ¥è¯´æ˜ä¸‹ï¼Œæˆ‘ä»¬å°†how_paras.shçš„å†…å®¹ç¨ä½œå˜åŒ–ï¼Œç”¨æ¥æ˜¾ç¤ºæ¯æ¬¡åç§»åå‚æ•°çš„å˜åŒ–æƒ…å†µï¼š1234567891011121314151617181920212223242526272829#!/bin/bash# Program:# Program shows the effect of shift function....# History:# 2018/04/12 heany First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATHecho \"Total parameter number is ===&gt; $#\"echo \"Your whole parameter is ===&gt; '$@'\"shift # è¿›è¡Œç¬¬ä¸€æ¬¡\"ä¸€ä¸ªå˜é‡çš„ shift\"echo \"Total parameter number is ===&gt; $#\"echo \"Your whole parameter is ===&gt; '$@'\"shift 3 #è¿›è¡Œç¬¬äºŒæ¬¡\"ä¸‰ä¸ªå˜é‡çš„ shift\"echo \"Total parameter number is ===&gt; $#\"echo \"Your whole parameter is ===&gt; '$@'\"# execute scriptsh paras_shift.sh one two three four five six # outputTotal parameter number is ===&gt; 6Your whole parameter is ===&gt; 'one two three four five six'Total parameter number is ===&gt; 5Your whole parameter is ===&gt; 'two three four five six'Total parameter number is ===&gt; 2Your whole parameter is ===&gt; 'five six' å…‰çœ‹ç»“æœä½ å°±å¯ä»¥çŸ¥é“å•¦,é‚£ä¸ªshiftä¼šç§»åŠ¨å˜é‡,è€Œä¸”shiftåé¢å¯ä»¥æ¥æ•°å­—,ä»£è¡¨æ‹¿æ‰æœ€å‰é¢çš„å‡ ä¸ªå‚æ•°çš„æ„æ€ã€‚ ä¸Šé¢çš„æ‰§è¡Œç»“æœä¸­,ç¬¬ä¸€æ¬¡è¿›è¡Œshift åä»–çš„æ˜¾ç¤ºæƒ…å†µæ˜¯one two three four five six,æ‰€ä»¥å°±å‰©ä¸‹äº”ä¸ªå•¦!ç¬¬äºŒæ¬¡ç›´æ¥æ‹¿æ‰ä¸‰ä¸ª,å°±å˜æˆtwo three four five sixå•¦!è¿™æ ·è¿™ä¸ªæ¡ˆä¾‹å¯ä»¥äº†è§£äº†å—?ç†è§£äº†shiftçš„åŠŸèƒ½äº†å—? 4.4ã€ æ¡ä»¶åˆ¤æ–­å¼4.4.1ã€ åˆ©ç”¨if .... then å•å±‚ã€ç®€å•æ¡ä»¶åˆ¤æ–­ å¦‚æœä½ åªæœ‰ä¸€ä¸ªåˆ¤æ–­å¼è¦è¿›è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç®€å•çš„è¿™æ ·çœ‹ï¼š if [ æ¡ä»¶åˆ¤æ–­å¼ ]; then å½“æ¡ä»¶åˆ¤æ–­å¼æˆç«‹æ—¶ï¼Œå¯ä»¥è¿›è¡Œå‘½ä»¤å·¥ä½œå†…å®¹ fi &lt;=== å°†`if`åè¿‡æ¥å†™ï¼Œå°±æˆä¸º`fi`ï¼Œç»“æŸ`if`çš„æ„æ€ã€‚ æ¡ä»¶åˆ¤æ–­å¼æœ‰å¤šä¸ªæ¡ä»¶æ—¶ï¼Œå¯ä»¥å°†å¤šä¸ªæ¡ä»¶å†™å…¥ä¸€ä¸ªä¸­æ‹¬å·é‡Œé¢ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªä¸­æ‹¬å·æ¥éš”å¼€ã€‚æ‹¬å·ä¹‹é—´ï¼Œåˆ™ç”¨&amp;&amp;ä¸||æ¥éš”å¼€ã€‚ä¸¾ä¸Šé¢çš„ans_yn.shä¾‹å­æ¥è¯´æ˜ï¼Œä¿®æ”¹é‡Œé¢çš„åˆ¤æ–­å¼ï¼š [ &quot;$yn&quot; == &quot;Y&quot; -o &quot;$yn&quot; == &quot;y&quot; ] ä¸Šå¼å¯æ›¿æ¢ä¸º [ &quot;$yn&quot; == &quot;Y&quot; ] || [ &quot;$yn&quot; == &quot;y&quot; ] è¿™æ ·ç¬¦åˆäººä»¬çš„ä¹ æƒ¯é—®é¢˜ï¼Œæˆ‘ä»¬éƒ½å–œæ¬¢ä¸€ä¸ªä¸­æ‹¬å·ä»…æœ‰ä¸€ä¸ªåˆ¤åˆ«å¼ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ans_yn.shè¿™ä¸ªè„šæœ¬ä¿®æ”¹æˆä¸ºif ... thençš„æ ·å¼ï¼š 12345678910111213141516171819202122#!/bin/bash# Program:# This program shows the user's choice.# History:# 2018/04/11 heany First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATHread -p \"Please input (Y/N): \" ynif [ \"$yn\" == \"Y\" ] || [ \"$yn\" == \"y\" ]; then echo \"OK, continue.\" exit 0fiif [ \"$yn\" == \"N\" ] || [ \"$yn\" == \"n\" ]; then echo \"Oh, interrupt!\" exit 0fiecho \"I don't know what your choice is\" &amp;&amp; exit 0 å¤šé‡ã€å¤æ‚æ¡ä»¶åˆ¤æ–­å¼ åœ¨åŒä¸€ä¸ªæ•°æ®çš„åˆ¤æ–­ä¸­,å¦‚æœè¯¥æ•°æ®éœ€è¦è¿›è¡Œå¤šç§ä¸åŒçš„åˆ¤æ–­æ—¶,åº”è¯¥æ€ä¹ˆä½œ?ä¸¾ä¾‹æ¥è¯´,ä¸Šé¢çš„ ans_yn.sh è„šæœ¬ä¸­,æˆ‘ä»¬åªè¦è¿›è¡Œä¸€æ¬¡ ${yn} çš„åˆ¤æ–­å°±å¥½ (ä»…è¿›è¡Œä¸€æ¬¡ if ),ä¸æƒ³è¦ä½œå¤šæ¬¡ if çš„åˆ¤æ–­ã€‚ æ­¤æ—¶ä½ å°±å¾—è¦çŸ¥é“ä¸‹é¢çš„è¯­æ³•äº†: # ä¸€ä¸ªæ¡ä»¶åˆ¤æ–­ï¼Œåˆ†æˆåŠŸè¿›è¡Œä¸å¤±è´¥è¿›è¡Œ(else) if [ æ¡ä»¶åˆ¤æ–­å¼ä¸€ ]; then å½“æ¡ä»¶åˆ¤æ–­å¼æˆç«‹æ—¶ï¼Œå¯ä»¥è¿›è¡Œçš„æŒ‡ä»¤å·¥ä½œå†…å®¹ï¼š elif [ æ¡ä»¶åˆ¤æ–­å¼äºŒ ]; then å½“æ¡ä»¶åˆ¤æ–­å¼äºŒæˆç«‹æ—¶ï¼Œå¯ä»¥è¿›è¡Œçš„æŒ‡ä»¤å·¥ä½œå†…å®¹ else å½“æ¡ä»¶åˆ¤æ–­å¼ä¸€å’ŒäºŒéƒ½ä¸æˆç«‹æ—¶ï¼Œå¯ä»¥è¿›è¡Œçš„æŒ‡ä»¤å·¥ä½œå†…å®¹; fi ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä½ ä¸å¸Œæœ›ä½¿ç”¨è€…ç”±é”®ç›˜è¾“å…¥é¢å¤–çš„æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸Šé¢æåˆ°çš„å‚æ•°åŠŸèƒ½ï¼ˆ$1ï¼‰ï¼Œè®©ä½¿ç”¨è€…åœ¨ä¸‹è¾¾å‘½ä»¤æ—¶å°±å°†å‚æ•°å¸¦è¿›å»ï¼ç°åœ¨æˆ‘ä»¬æƒ³è®©ä½¿ç”¨è€…è¾“å…¥helloè¿™ä¸ªå…³é”®å­—æ—¶ï¼Œåˆ©ç”¨å‚æ•°çš„æ–¹æ³•å¯ä»¥è¿™æ ·ä¾åºè®¾è®¡ï¼š 1. åˆ¤æ–­`$1`æ˜¯å¦ä¸ºhelloï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå°±æ˜¾ç¤ºâ€œhelloï¼Œhow are youï¼Ÿâ€ 2. å¦‚æœæ²¡æœ‰åŠ ä»»ä½•å‚æ•°,å°±æç¤ºä½¿ç”¨è€…å¿…é¡»è¦ä½¿ç”¨çš„å‚æ•°ä¸‹è¾¾æ³•; 3. è€Œå¦‚æœåŠ å…¥çš„å‚æ•°ä¸æ˜¯ hello ,å°±æé†’ä½¿ç”¨è€…ä»…èƒ½ä½¿ç”¨ hello ä¸ºå‚æ•°ã€‚ ä¹‹å‰æˆ‘ä»¬å·²ç»å­¦ä¼šäº†grepè¿™ä¸ªå¥½ç”¨çš„ç©æ„å„¿ï¼Œé‚£ä¹ˆå¤šå­¦ä¸€ä¸ªå«åšnetstatçš„å‘½ä»¤ï¼Œè¿™ä¸ªæŒ‡ä»¤å¯ä»¥æŸ¥è¯¢åˆ°ç›®å‰ä¸»æœºæœ‰æ‰“å¼€çš„ç½‘ç»œæœåŠ¡ç«¯å£ï¼ˆservice portsï¼‰,æˆ‘ä»¬å¯ä»¥åˆ©ç”¨netstat -tulnæ¥å–å¾—ç›®å‰ä¸»æœºæœ‰å¯åŠ¨çš„æœåŠ¡ï¼Œè€Œä¸”å–å¾—çš„ä¿¡æ¯æœ‰ç‚¹åƒè¿™æ ·ï¼š12345678910netstat -tulnActive Internet connections (only servers)Proto Recv-Q Send-Q Local Address Foreign Address State tcp 0 0 0.0.0.0:5355 0.0.0.0:* LISTEN tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN tcp 0 0 127.0.0.1:631 0.0.0.0:* LISTEN tcp 0 0 127.0.0.1:1080 0.0.0.0:* LISTEN udp 0 0 0.0.0.0:5353 0.0.0.0:* udp 0 0 0.0.0.0:5353 0.0.0.0:* #å°åŒ…æ ¼å¼ æœ¬åœ°IPï¼šç«¯å£ è¿œç¨‹IPï¼šç«¯å£ æ˜¯å¦ç›‘å¬ ä¸Šé¢çš„é‡ç‚¹æ˜¯â€œLocal Address (æœ¬åœ°ä¸»æœºçš„IPä¸ç«¯å£å¯¹åº”)â€é‚£ä¸ªå­—æ®µ,ä»–ä»£è¡¨çš„æ˜¯æœ¬æœºæ‰€å¯åŠ¨çš„ç½‘ç»œæœåŠ¡! IPçš„éƒ¨åˆ†è¯´æ˜çš„æ˜¯è¯¥æœåŠ¡ä½äºé‚£ä¸ªæ¥å£ä¸Š,è‹¥ä¸º 127.0.0.1 åˆ™æ˜¯ä»…é’ˆå¯¹æœ¬æœºå¼€æ”¾,è‹¥æ˜¯ 0.0.0.0 æˆ– ::: åˆ™ä»£è¡¨å¯¹æ•´ä¸ªInternetå¼€æ”¾ã€‚ æ¯ä¸ªç«¯å£ (port) éƒ½æœ‰å…¶ç‰¹å®šçš„ç½‘ç»œæœåŠ¡,å‡ ä¸ªå¸¸è§çš„ port ä¸ç›¸å…³ç½‘ç»œæœåŠ¡çš„å…³ç³»æ˜¯: 80ï¼šwww 22:ssh 21:ftp 25:mail 111:RPC(è¿œç«¯ç¨‹åºè°ƒç”¨) 631:CUPSï¼ˆæ‰“å°æœåŠ¡åŠŸèƒ½ï¼‰ å‡è®¾æˆ‘çš„ä¸»æœºæœ‰å…´è¶£è¦ä¾¦æµ‹çš„æ˜¯æ¯”è¾ƒå¸¸è§çš„ port 21, 22, 25åŠ 80 æ—¶,é‚£æˆ‘å¦‚ä½•é€šè¿‡netstatå»ä¾¦æµ‹æˆ‘çš„ä¸»æœºæ˜¯å¦æœ‰æ‰“å¼€è¿™å››ä¸ªä¸»è¦çš„ç½‘ç»œæœåŠ¡ç«¯å£å‘¢?ç”±äºæ¯ä¸ªæœåŠ¡çš„å…³é”®å­—éƒ½æ˜¯æ¥åœ¨å†’å·:åé¢, æ‰€ä»¥å¯ä»¥å€Ÿç”±æå–ç±»ä¼¼:80æ¥ä¾¦æµ‹çš„!é‚£æˆ‘å°±å¯ä»¥ç®€å•çš„è¿™æ ·å»å†™è¿™ä¸ªç¨‹åºå–”: 4.4.2ã€ åˆ©ç”¨case ... esacè¯­æ³•å¦‚ä¸‹ï¼š case $å˜é‡åç§° in &lt;=== å…³é”®å­—ä¸ºcaseã€‚è¿˜æœ‰å˜é‡å‰æœ‰$ &quot;ç¬¬ä¸€ä¸ªå˜é‡å†…å®¹&quot;) &lt;=== æ¯ä¸ªå˜é‡å†…å®¹å»ºè®®ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼Œå…³é”®å­—åˆ™ä¸ºå°æ‹¬å·ï¼‰ ç¨‹åºæ®µ ;; &lt;=== æ¯ä¸ªç±»åˆ«ç»“å°¾iä½¿ç”¨ä¸¤ä¸ªè¿ç»­çš„åˆ†å·æ¥å¤„ç† &quot;ç¬¬äºŒä¸ªå˜é‡å†…å®¹&quot;ï¼‰ ç¨‹åºæ®µ ;; *) &lt;=== æœ€åä¸€ä¸ªå˜é‡å†…å®¹éƒ½ä¼šç”¨*æ¥ä»£è¡¨æ‰€æœ‰å…¶ä»–å€¼ ä¸åŒ…æ‹¬ç¬¬ä¸€ä¸ªå˜é‡å†…å®¹ä¸ç¬¬äºŒä¸ªå˜é‡å†…å®¹çš„å…¶ä»–ç¨‹åºæ‰§è¡Œæ®µ exit 1 ;; esac &lt;=== æœ€ç»ˆçš„caseç»“å°¾ï¼Œâ€œåè¿‡æ¥å†™â€ è¿™ä¹ˆè¯´æˆ–è®¸ä½ çš„æ„Ÿå—æ€§è¿˜ä¸é«˜,å¥½,æˆ‘ä»¬ç›´æ¥å†™ä¸ªç¨‹åºæ¥ç©ç©:è®©ä½¿ç”¨è€…èƒ½å¤Ÿè¾“å…¥ one, two,three , å¹¶ä¸”å°†ä½¿ç”¨è€…çš„å˜é‡æ˜¾ç¤ºåˆ°å±å¹•ä¸Š,å¦‚æœä¸æ˜¯ one, two, three æ—¶,å°±å‘ŠçŸ¥ä½¿ç”¨è€…ä»…æœ‰è¿™ä¸‰ç§é€‰æ‹©ã€‚1234567891011121314151617181920212223242526#!/bin/bash# Program:# This script only accepts the flowing parameter: one, two or three.# History:# 2018/04/12 heany Fist releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATHecho \"This program will print your selection !\"# read -p \"Input your choice: \" choice # æš‚æ—¶å–æ¶ˆ,å¯ä»¥æ›¿æ¢!# case $&#123;choice&#125; in # æš‚æ—¶å–æ¶ˆ,å¯ä»¥æ›¿æ¢!case $&#123;1&#125; in # ç°åœ¨ä½¿ç”¨,å¯ä»¥ç”¨ä¸Šé¢ä¸¤è¡Œæ›¿æ¢! \"one\") echo \"Your choice is ONE\" ;; \"two\") echo \"Your choice is TWO\" ;; \"three\") echo \"Your choice is THREE\" ;; *) echo \"Usage $&#123;0&#125; &#123;one|two|three&#125;\" ;;esac 4.4.3ã€ åˆ©ç”¨functionåŠŸèƒ½ä»€ä¹ˆæ˜¯â€œå‡½æ•° (function)â€åŠŸèƒ½å•Š?ç®€å•çš„è¯´,å…¶å®, å‡½æ•°å¯ä»¥åœ¨ shell script å½“ä¸­åšå‡ºä¸€ä¸ªç±»ä¼¼è‡ªè®¢æ‰§è¡ŒæŒ‡ä»¤çš„ä¸œè¥¿,æœ€å¤§çš„åŠŸèƒ½æ˜¯, å¯ä»¥ç®€åŒ–æˆ‘ä»¬å¾ˆå¤šçš„ç¨‹åºç ~ä¸¾ä¾‹æ¥è¯´,ä¸Šé¢çš„show123.sh å½“ä¸­,æ¯ä¸ªè¾“å…¥ç»“æœ one, two, three å…¶å®è¾“å‡ºçš„å†…å®¹éƒ½ä¸€æ ·å•Š~é‚£ä¹ˆæˆ‘å°±å¯ä»¥ä½¿ç”¨ function æ¥ç®€åŒ–äº†! function çš„è¯­æ³•æ˜¯è¿™æ ·çš„: function fname(){ ç¨‹åºæ®µ } ç”±äºshell scriptçš„æ‰§è¡Œæ–¹å¼æ˜¯ç”±ä¸Šè€Œä¸‹,ç”±å·¦è€Œå³, å› æ­¤åœ¨shell scriptå½“ä¸­çš„functionçš„è®¾ç½®ä¸€å®šè¦åœ¨ç¨‹åºçš„æœ€å‰é¢, è¿™æ ·æ‰èƒ½å¤Ÿåœ¨æ‰§è¡Œæ—¶è¢«æ‰¾åˆ°å¯ç”¨çš„ç¨‹åºæ®µå–”(è¿™ä¸€ç‚¹ä¸ä¼ ç»Ÿç¨‹åºè¯­è¨€å·®å¼‚ç›¸å½“å¤§!åˆæ¬¡æ¥è§¦çš„æœ‹å‹è¦å°å¿ƒ!)! å¥½~æˆ‘ä»¬å°†ä¸Šé¢çš„è„šæœ¬æ”¹å†™ä¸€ä¸‹,è‡ªå®šä¹‰ä¸€ä¸ªåä¸ºprintitçš„å‡½æ•°æ¥ä½¿ç”¨: 123456789101112131415161718192021222324# History:# 2018/04/12 heany First releasePATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/binexport PATHfunction printit()&#123; echo -n \"Your choice is \" # åŠ ä¸Š -n å¯ä»¥ä¸æ¢è¡Œç»§ç»­åœ¨åŒä¸€è¡Œæ˜¾ç¤º&#125;echo \"This program will print your selection !\"case $&#123;1&#125; in \"one\") printit; echo $1 | tr 'a-z' 'A-Z' # å°†å‚æ•°åšå¤§å°å†™è½¬æ¢! ;; \"two\") printit; echo $1 | tr 'a-z' 'A-Z' ;; \"three\") printit; echo $1 | tr 'a-z' 'A-Z' ;; *) echo \"Usage $&#123;0&#125; &#123;one|two|three&#125;\"\"show123_function.sh\" 29L, 591C written 11,53-55 50% 4.5ã€ å¾ªç¯ï¼ˆloopï¼‰é™¤äº† ifâ€¦thenâ€¦fi è¿™ç§æ¡ä»¶åˆ¤æ–­å¼ä¹‹å¤–,å¾ªç¯å¯èƒ½æ˜¯ç¨‹åºå½“ä¸­æœ€é‡è¦çš„ä¸€ç¯äº†~ å¾ªç¯å¯ä»¥ä¸æ–­çš„æ‰§è¡ŒæŸä¸ªç¨‹åºæ®µè½,ç›´åˆ°ä½¿ç”¨è€…è®¾ç½®çš„æ¡ä»¶è¾¾æˆä¸ºæ­¢ã€‚æ‰€ä»¥,é‡ç‚¹æ˜¯é‚£ä¸ªâ€œæ¡ä»¶çš„è¾¾æˆâ€æ˜¯ä»€ä¹ˆã€‚é™¤äº†è¿™ç§ä¾æ®åˆ¤æ–­å¼è¾¾æˆä¸å¦çš„ä¸å®šå¾ªç¯ä¹‹å¤–,å¾ªç¯å½¢æ€,å¯ç§°ä¸ºå›ºå®šå¾ªç¯çš„å½¢æ€å‘¢!ä¸‹é¢æˆ‘ä»¬å°±æ¥è°ˆä¸€è°ˆ: 4.5.1ã€ while do done,until do doneï¼ˆä¸å®šå¾ªç¯ï¼‰ä¸€èˆ¬æ¥è¯´ï¼Œä¸å®šå¾ªç¯æœ€å¸¸è§çš„å°±æ˜¯ä¸‹é¢è¿™ä¸¤ç§çŠ¶æ€äº†ï¼š while [ condition ] &lt;=== ä¸­æ‹¬å·å†…çš„çŠ¶æ€å°±æ˜¯åˆ¤åˆ«å¼ do ä»£ç æ®µ done whileçš„ä¸­æ–‡æ˜¯â€œå½“â€¦æ—¶â€ï¼Œæ‰€ä»¥ï¼Œè¿™ç§æ–¹å¼è¯´çš„æ˜¯å½“conditionæ¡ä»¶æˆç«‹æ—¶ï¼Œå°±è¿›è¡Œå¾ªç¯ï¼Œç›´åˆ°conditionçš„æ¡ä»¶ä¸æˆç«‹æ‰åœæ­¢çš„æ„æ€ã€‚è¿˜æœ‰å¦ä¸ºä¸€ç§ä¸å®šå¾ªç¯çš„æ–¹å¼ï¼š until [ condition ] do ä»£ç æ®µ done è¿™ç§æ–¹å¼æ°æ°ä¸ while ç›¸å,å®ƒè¯´çš„æ˜¯â€œå½“ condition æ¡ä»¶æˆç«‹æ—¶,å°±ç»ˆæ­¢å¾ªç¯, å¦åˆ™å°±æŒç»­è¿›è¡Œå¾ªç¯çš„ç¨‹åºæ®µã€‚â€æ˜¯å¦åˆšå¥½ç›¸åå•Š~æˆ‘ä»¬ä»¥ while æ¥åšä¸ªç®€å•çš„ç»ƒä¹ å¥½äº†ã€‚ å‡è®¾æˆ‘è¦è®©ä½¿ç”¨è€…è¾“å…¥ yes æˆ–è€…æ˜¯ YES æ‰ç»“æŸç¨‹åºçš„æ‰§è¡Œ,å¦åˆ™å°±ä¸€ç›´è¿›è¡Œå‘ŠçŸ¥ä½¿ç”¨è€…è¾“å…¥å­—ä¸²ã€‚12345678910111213141516171819#!/bin/bash# Program:# Repeat question until user input correct answer.# History:# 2018/04/12 leagle First release# whilewhile [ \"$yn\" != \"yes\" -a \"$yn\" != \"YES\" ] do read -p \"Please input yes/YES to stop this program: \" yndone echo \"OK! you input the correct answer.\"# untiluntil [ \"$yn\" == \"yes\" -o \"$yn\" == \"YES\" ] do read -p \"Please input yes/YES to stop this program: \" yndoneecho \"OK! you input the correct answer.\" 4.5.2ã€ for ... do ...done(å›ºå®šå¾ªç¯)forå¾ªç¯çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š for var in con1 con2 con3 ... do code done ç®€å•ç»ƒä¹ ã€‚12345678910#!/bin/bash# Program:# Using for ... loop to print 3 animal.# History:# 2018/04/12 leagle First releasefor animal in dog cat elephantdo echo \"There are $&#123;animal&#125;s ....\"done è®©æˆ‘ä»¬æƒ³åƒå¦å¤–ä¸€ç§çŠ¶å†µ,ç”±äºç³»ç»Ÿä¸Šé¢çš„å„ç§å¸å·éƒ½æ˜¯å†™åœ¨ /etc/passwd å†…çš„ç¬¬ä¸€ä¸ªå­—æ®µ,ä½ èƒ½ä¸èƒ½é€šè¿‡ç®¡çº¿å‘½ä»¤çš„ cut æ‰å‡ºå•çº¯çš„å¸å·åç§°å,ä»¥idåˆ†åˆ«æ£€æŸ¥ä½¿ç”¨è€…çš„è¯†åˆ«ç ä¸ç‰¹æ®Šå‚æ•°å‘¢?ç”±äºä¸åŒçš„ Linux ç³»ç»Ÿä¸Šé¢çš„å¸å·éƒ½ä¸ä¸€æ ·!æ­¤æ—¶å®é™…å»æ‰/etc/passwdå¹¶ä½¿ç”¨å¾ªç¯å¤„ç†,å°±æ˜¯ä¸€ä¸ªå¯è¡Œçš„æ–¹æ¡ˆäº†!ç¨‹åºå¯ä»¥å¦‚ä¸‹:1234567891011#!/bin/bash# Program:# Use id, finger command to check system account's information.# History:# 2018/04/12 leagle First releaseusers=$(cut -d ':' -f1 ./pd.txt) # æè·å¸å·åç§°for username in $&#123;users&#125; # å¼€å§‹å¾ªç¯è¿›è¡Œ!do id $&#123;username&#125;done æ‰§è¡Œä¸Šé¢çš„è„šæœ¬å,ä½ çš„ç³»ç»Ÿå¸å·å°±ä¼šè¢«æ‰å‡ºæ¥æ£€æŸ¥å•¦!è¿™ä¸ªåŠ¨ä½œè¿˜å¯ä»¥ç”¨åœ¨æ¯ä¸ªå¸å·çš„åˆ é™¤ã€é‡æ•´ä¸Šé¢å‘¢! æ¢ä¸ªè§’åº¦æ¥çœ‹,å¦‚æœæˆ‘ç°åœ¨éœ€è¦ä¸€è¿ä¸²çš„æ•°å­—æ¥è¿›è¡Œå¾ªç¯å‘¢?ä¸¾ä¾‹æ¥è¯´,æˆ‘æƒ³è¦åˆ©ç”¨ ping è¿™ä¸ªå¯ä»¥åˆ¤æ–­ç½‘ç»œçŠ¶æ€çš„æŒ‡ä»¤, æ¥è¿›è¡Œç½‘ç»œçŠ¶æ€çš„å®é™…ä¾¦æµ‹æ—¶,æˆ‘æƒ³è¦ä¾¦æµ‹çš„ç½‘åŸŸæ˜¯æœ¬æœºæ‰€åœ¨çš„ 192.168.1.1~192.168.1.100,ç”±äºæœ‰ 100 å°ä¸»æœº, æ€»ä¸ä¼šè¦æˆ‘åœ¨ for åé¢è¾“å…¥ 1 åˆ° 100 å§?æ­¤æ—¶ä½ å¯ä»¥è¿™æ ·åšå–”!123456789101112131415161718192021#!/bin/bash# Program:# Use ping command to check the network's PC state.# History:# 2018/04/12 leagle First releasenetwork=\"192.168.1\" # å…ˆå®šä¹‰ä¸€ä¸ªç½‘åŸŸçš„å‰é¢éƒ¨åˆ†!for sitenu in $(seq 1 100) # seq ä¸º sequence(è¿ç»­) çš„ç¼©å†™ä¹‹æ„do # ä¸‹é¢çš„ç¨‹åºåœ¨å–å¾— ping çš„å›ä¼ å€¼æ˜¯æ­£ç¡®çš„è¿˜æ˜¯å¤±è´¥çš„! ping -c 1 -w 1 $&#123;network&#125;.$&#123;sitenu&#125; &amp;&gt; /dev/null &amp;&amp; result=0 || result=1 # å¼€å§‹æ˜¾ç¤ºç»“æœæ˜¯æ­£ç¡®çš„å¯åŠ¨ (UP) è¿˜æ˜¯é”™è¯¯çš„æ²¡æœ‰è¿é€š (DOWN) if [ \"$&#123;result&#125;\" == 0 ]; then echo \"Server $&#123;network&#125;.$&#123;sitenu&#125; is UP.\" else echo \"Server $&#123;network&#125;.$&#123;sitenu&#125; is DOWN.\" fidone æ³¨æ„é‚£ä¸ª$(seq 1 100)é‚£ä¸ªä½ç½®ï¼Œé‚£ä¸ªæ˜¯è¿ç»­äº§ç”Ÿ1-100ä¸ªæ•°ã€‚ æœ€å,è®©æˆ‘ä»¬æ¥ç©åˆ¤æ–­å¼åŠ ä¸Šå¾ªç¯çš„åŠŸèƒ½!æˆ‘æƒ³è¦è®©ä½¿ç”¨è€…è¾“å…¥æŸä¸ªç›®å½•æ–‡ä»¶å,ç„¶åæˆ‘æ‰¾å‡ºæŸç›®å½•å†…çš„æ–‡ä»¶åçš„æƒé™,è¯¥å¦‚ä½•æ˜¯å¥½?å¯ä»¥è¿™æ ·åšå•¦~123456789101112131415161718192021222324#!/bin/bash# Program:# Use input dir name, I find the permission of files.# History:# 2018/04/12 leagle First release# 1. å…ˆçœ‹çœ‹è¿™ä¸ªç›®å½•æ˜¯å¦å­˜åœ¨å•Š?read -p \"Please input a directory: \" dirif [ \"$&#123;dir&#125;\" == \"\" -o ! -d \"$&#123;dir&#125;\" ]; then echo \"The $&#123;dir&#125; is NOT exist in your system.\" exit 1fi# 2. å¼€å§‹æµ‹è¯•æ–‡ä»¶~filelist=$(ls $&#123;dir&#125;) # åˆ—å‡ºæ‰€æœ‰åœ¨è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶åç§°for filename in $&#123;filelist&#125;do perm=\"\" test -r \"$&#123;dir&#125;/$&#123;filename&#125;\" &amp;&amp; perm=\"$&#123;perm&#125; readable\" test -w \"$&#123;dir&#125;/$&#123;filename&#125;\" &amp;&amp; perm=\"$&#123;perm&#125; writable\" test -x \"$&#123;dir&#125;/$&#123;filename&#125;\" &amp;&amp; perm=\"$&#123;perm&#125; executable\" echo \"The file $&#123;dir&#125;/$&#123;filename&#125;'s permission is $&#123;perm&#125; \"done 4.5.3 for ... do ...doneçš„æ•°å€¼å¤„ç†é™¤äº†ä¸Šè¿°çš„æ–¹æ³•ä¹‹å¤–ï¼Œforå¾ªç¯è¿˜æœ‰å¦å¤–ä¸€ç§å†™æ³•ï¼Œç±»ä¼¼äºCè¯­è¨€ä¸­çš„forå¾ªç¯ï¼è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š for ((åˆå§‹å€¼;é™åˆ¶å€¼;æ‰§è¡Œæ­¥é•¿)) do code done è¿™ç§è¯­æ³•å¾ˆé€‚åˆç”¨äºæ•°å€¼æ–¹å¼çš„è¿ç®—å½“ä¸­ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯,åœ¨â€œæ‰§è¡Œæ­¥é˜¶â€çš„è®¾ç½®ä¸Š,å¦‚æœæ¯æ¬¡å¢åŠ  1 ,åˆ™å¯ä»¥ä½¿ç”¨ç±»ä¼¼i++çš„æ–¹å¼,äº¦å³æ˜¯ i æ¯æ¬¡å¾ªç¯éƒ½ä¼šå¢åŠ ä¸€çš„æ„æ€ã€‚å¥½,æˆ‘ä»¬ä»¥è¿™ç§æ–¹å¼æ¥è¿›è¡Œ 1 ç´¯åŠ åˆ°ä½¿ç”¨è€…è¾“å…¥çš„å¾ªç¯å§!1234567891011121314#!/bin/bash# Program:# Try to calculate \"1+2+3+...+$&#123;yourinput&#125;\".# History:# 2018/04/12 leagle First releaseread -p \"Please input a number, I will count for 1+2+...+your_input: \" nus=0for (( i=1; i&lt;=$nu; i=i+1))do s=$(($s+$i))done echo \"The result of '1+2+...+$nu' is ===&gt; $s\" 4.6ã€ Shell Scriptçš„è¿½è¸ªä¸Debugscriptsåœ¨æ‰§è¡Œä¹‹å‰,æœ€æ€•çš„å°±æ˜¯å‡ºç°è¯­æ³•é”™è¯¯çš„é—®é¢˜äº†!é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•debug å‘¢?æœ‰æ²¡æœ‰åŠæ³•ä¸éœ€è¦é€šè¿‡ç›´æ¥æ‰§è¡Œè¯¥scriptså°±å¯ä»¥æ¥åˆ¤æ–­æ˜¯å¦æœ‰é—®é¢˜å‘¢?å‘µå‘µ!å½“ç„¶æ˜¯æœ‰çš„!æˆ‘ä»¬å°±ç›´æ¥ä»¥ bash çš„ç›¸å…³å‚æ•°æ¥è¿›è¡Œåˆ¤æ–­å§! # è¯­æ³•å¦‚ä¸‹ï¼š sh [-nvx] scripts.sh # paras: -n ï¼šä¸è¦æ‰§è¡Œscriptï¼Œä»…æŸ¥è¯¢è¯­æ³•çš„é—®é¢˜; -v ï¼šåœ¨æ‰§è¡Œscriptä¹‹å‰ï¼Œå…ˆå°†scriptsçš„å†…å®¹è¾“å‡ºåˆ°å±å¹•ä¸Š; -x ï¼šå°†ä½¿ç”¨åˆ°çš„scriptå†…å®¹æ˜¾ç¤ºåˆ°å±å¹•ä¸Šï¼Œè¿™æ˜¯å¾ˆæœ‰ç”¨çš„å‚æ•°ï¼ ä¸€äº›èŒƒä¾‹æµ‹è¯•ï¼š12345678910bash -x ans_yn-2.sh + PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:/home/heany/bin+ export PATH+ read -p 'Please input (Y/N): ' ynPlease input (Y/N): y+ '[' y == Y ']'+ '[' y == y ']'+ echo 'OK, continue.'OK, continue.+ exit 0 äº”ã€ ç»“æŸè¯­&emsp;&emsp;è¿™ä¸ªç³»åˆ—ç»ˆäºç»“æŸäº†ï¼Œç å­—è°ƒbugå¾ˆè¾›è‹¦å“‡ï½ä½†æ˜¯ä»ä¸­å­¦åˆ°äº†å¾ˆå¤šæœ‰ç”¨çš„çŸ¥è¯†ï¼Œè§£å†³äº†ä¹‹å‰å¾ˆå¤šæä¸æ¸…æ¥šçš„é—®é¢˜ï¼Œæ€»ä¹‹å¾ˆæ£’å•¦ï¼æœ¬æ–‡è½¬è½½è‡ªé¸Ÿå“¥çš„Linuxç§æˆ¿èœï¼šåŸºç¡€å­¦ä¹ ç¯‡ ç¬¬å››ç‰ˆã€‚æ€»ä¹‹è¿™æœ¬ä¹¦éå¸¸é€‚åˆå…¥é—¨å­¦ä¹ ï½å¼ºçƒˆæ¨èï¼ï¼ï¼","tags":[{"name":"Shell linux","slug":"Shell-linux","permalink":"http://heany.github.io/tags/Shell-linux/"}]},{"title":"hexoå¸¸ç”¨å‘½ä»¤","date":"2017-10-28T06:18:08.000Z","path":"2017/10/28/hexoå¸¸ç”¨å‘½ä»¤/","text":"ç°åœ¨æ¥ä»‹ç»å¸¸ç”¨çš„Hexo å‘½ä»¤ npm install hexo -g #å®‰è£…Hexo npm update hexo -g #å‡çº§ hexo init #åˆå§‹åŒ–åšå®¢ å‘½ä»¤ç®€å†™ hexo n &quot;æˆ‘çš„åšå®¢&quot; == hexo new &quot;æˆ‘çš„åšå®¢&quot; #æ–°å»ºæ–‡ç«  hexo g == hexo generate #ç”Ÿæˆ hexo s == hexo server #å¯åŠ¨æœåŠ¡é¢„è§ˆ hexo d == hexo deploy #éƒ¨ç½² hexo server #Hexoä¼šç›‘è§†æ–‡ä»¶å˜åŠ¨å¹¶è‡ªåŠ¨æ›´æ–°ï¼Œæ— é¡»é‡å¯æœåŠ¡å™¨ hexo server -s #é™æ€æ¨¡å¼ hexo server -p 5000 #æ›´æ”¹ç«¯å£ hexo server -i 192.168.1.1 #è‡ªå®šä¹‰ IP hexo clean #æ¸…é™¤ç¼“å­˜ï¼Œè‹¥æ˜¯ç½‘é¡µæ­£å¸¸æƒ…å†µä¸‹å¯ä»¥å¿½ç•¥è¿™æ¡å‘½ä»¤ åšå®¢æ­å»ºå¥½ä»¥åï¼Œå‘è¡¨æ–‡ç« æ­¥éª¤åŠå‘½ä»¤ step1ï¼šåˆ‡æ¢åˆ°å·¥ä½œç›®å½•ï¼Œæ‰§è¡Œhexo n &quot;æ–‡ç« çš„title&quot; , ç„¶åçœ‹åˆ°source/_postsä¼šå‡ºç°åˆšåˆšæ–°å»ºçš„æ–‡ç« çš„title.md step2ï¼šè¿›å»ç¼–è¾‘åˆšåˆšç”Ÿæˆçš„mdæ–‡ä»¶ step3ï¼šæ‰§è¡Œå‘½ä»¤hexo clean step4: æ‰§è¡Œå‘½ä»¤hexo g step5: æ‰§è¡Œå‘½ä»¤hexo dç­‰å¾…ä¸€ä¼šå°±èƒ½çœ‹åˆ°åšå®¢ä¸»é¡µå‡ºç°äº†åˆšåˆšç¼–å†™çš„æ–‡ç«  å¸è½½hexoï¼š npm uninstall hexo-cli -g #3.0.0ç‰ˆæœ¬æ‰§è¡Œ npm uninstall hexo -g # ä¹‹å‰ç‰ˆæœ¬æ‰§è¡Œ","tags":[{"name":"hexoå¸¸ç”¨å‘½ä»¤","slug":"hexoå¸¸ç”¨å‘½ä»¤","permalink":"http://heany.github.io/tags/hexoå¸¸ç”¨å‘½ä»¤/"}]},{"title":"å¦‚ä½•æ‰¹é‡åˆ é™¤å¾®åš","date":"2017-10-28T05:44:52.000Z","path":"2017/10/28/å¦‚ä½•æ‰¹é‡åˆ é™¤å¾®åš/","text":"æœ€è¿‘æƒ³åˆ æ‰è‡ªå·±çš„æ‰€æœ‰å¾®åšï¼Œå¯æ˜¯å¾®åšå®˜æ–¹å¹¶æ²¡æœ‰ç›¸å…³çš„åŠŸèƒ½ï¼Œç½‘ä¸Šä¹Ÿæœ‰ä¸€äº›å·¥å…·èƒ½å¤Ÿå®ç°ï¼Œä½†æ˜¯éƒ½æ”¶è´¹ã€‚æ‰€ä»¥æˆ‘æœäº†ä¸€äº›æ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•ï¼Œæ¥å®ç°åˆ é™¤æ‰€æœ‰å¾®åšã€‚ step1: æ‰“å¼€Chromeï¼Œæ–°å¼€ä¸€ä¸ªæ ‡ç­¾é¡µï¼Œè¿›å…¥æˆ‘çš„å¾®åšâ€œæˆ‘çš„é¦–é¡µâ€ step2ï¼šæ‰“å¼€Chromeçš„å¼€å‘è€…å·¥å…·ï¼ˆæŒ‰F12ï¼‰ step3: ç‚¹å‡»consoleï¼Œæ‰“å¼€æ§åˆ¶å°ï¼Œå°†ä¸‹é¢çš„ä»£ç è´´è¿›å»ï¼Œå›è½¦è¿è¡Œ å°†ä¸‹é¢çš„ä»£ç è´´è¿‘è¿›consoleé‡Œ1234567891011121314151617181920212223242526272829// ==UserScript==// @name Weibored.js// @namespace http://vito.sdf.org// @version 0.2.0// @description åˆ é™¤æ‰€æœ‰å¾®åš// @match http://weibo.com/p/*// @grant none// ==/UserScript=='use strict';var s = document.createElement('script');s.setAttribute( 'src', 'https://lib.sinaapp.com/js/jquery/2.0.3/jquery-2.0.3.min.js');s.onload = function() &#123; setInterval(function() &#123; if (!$('a[action-type=\"feed_list_delete\"]')) &#123; $('a.next').click(); &#125; else &#123; $('a[action-type=\"feed_list_delete\"]')[0].click(); $('a[action-type=\"ok\"]')[0].click(); &#125; // scroll bottom let auto load $('html, body').animate(&#123; scrollTop: $(document).height() &#125;, 'slow'); &#125;, 800);&#125;;document.head.appendChild(s); å›è½¦è¿è¡Œ æ­¤æ—¶èƒ½å¤Ÿçœ‹åˆ°å¾®åšä¸»é¡µå¼€å§‹æ»šåŠ¨","tags":[]},{"title":"sublimeæ’ä»¶ï¼šMarkdown","date":"2017-10-15T13:30:12.000Z","path":"2017/10/15/sublimeæ’ä»¶ï¼šMarkdown/","text":"1.MarkDown Editingï¼šæ”¯æŒMarkdownè¯­æ³•é«˜äº®ï¼›æ”¯æŒGithub Favored Markdownè¯­æ³•ï¼›è‡ªå¸¦3ä¸ªä¸»é¢˜ 2.MarkdownPreviewï¼šæŒ‰CTRL + Bç”Ÿæˆç½‘é¡µHTMLï¼›åœ¨æœ€å‰é¢æ·»åŠ [TOC]è‡ªåŠ¨ç”Ÿæˆç›®å½•ï¼›3.Markdown Extended + Extends Mononokaiï¼šä¸é”™çš„Markdownä¸»é¢˜ï¼Œæ”¯æŒå¯¹å¤šç§è¯­è¨€çš„é«˜äº®4.OmniMarkupPreviwerï¼šå®æ—¶åœ¨æµè§ˆå™¨ä¸­é¢„ï¼Œè€ŒMarkdownPreviewæ˜¯éœ€è¦æ‰‹åŠ¨ç”Ÿæˆçš„å’ŒF5çš„ã€‚è§ˆå¦‚æœåŒå±çš„è¯ï¼Œåº”è¯¥å…·æœ‰ä¸é”™çš„ä½“éªŒã€‚å¿«æ·é”®å¦‚ä¸‹ï¼š Ctrl+Alt+o: Preview Markup in Browser Ctrl+Alt+x: Export Markup as HTML Ctrl+Alt+c: Copy Markup as HTML. 5.TableEditorï¼šMarkdownä¸­çš„è¡¨æ ¼ä¹¦å†™ä½“éªŒçœŸå¿ƒä¸å’‹æ ·ï¼Œæ‰€æœ‰æœ‰äººä¸ºè¿™ä¸ªå¼€å‘äº†ä¸€ä¸ªæ’ä»¶ï¼Œå…·æœ‰è¾ƒå¥½çš„è‡ªé€‚åº”æ€§ï¼Œä¼šè‡ªåŠ¨å¯¹é½ï¼Œå¼ºè¿«ç—‡æ‚£è€…å–œæ¬¢ã€‚é¦–å…ˆéœ€è¦ç”¨ctrl+shift+pæ‰“å¼€è¿™ä¸ªåŠŸèƒ½ï¼ˆTable Editor: Enable for current syntax or Table Editor: Enable for current view or â€œTable Editor: Set table syntax â€¦ for current viewâ€ï¼‰ï¼Œç„¶åå°±å¯ä»¥ç‹‚ç”¨tabæ¥è‡ªåŠ¨å®Œæˆäº† 6.Markdown TOCï¼šç¼–è¾‘MDæ–‡ä»¶çš„æ—¶å€™å¯ä»¥æŸ¥çœ‹è‡ªåŠ¨ç”Ÿæˆï¼Œå¹¶ä¸”å¯ä»¥æ§åˆ¶ç”Ÿäº§ç›®å½•çš„å±‚æ¬¡ï¼Œä¸è¿‡ä¸ä¼šè‡ªåŠ¨è·³è½¬ã€‚ç¼–è¾‘çš„æ—¶å€™å¯ä»¥çœ‹çœ‹ï¼Œå¦‚æœéœ€è¦ç”Ÿæˆçš„HTMLå…·æœ‰è¶…é“¾æ¥è·³è½¬çš„åŠŸèƒ½ï¼Œè¿˜æ˜¯ç”¨MarkdownPreviewå§ã€‚","tags":[{"name":"sublimeæ’ä»¶","slug":"sublimeæ’ä»¶","permalink":"http://heany.github.io/tags/sublimeæ’ä»¶/"},{"name":"Markdown","slug":"Markdown","permalink":"http://heany.github.io/tags/Markdown/"}]},{"title":"å¦‚ä½•ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°Githubä¸Š","date":"2017-10-15T13:14:57.000Z","path":"2017/10/15/å¦‚ä½•ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°Githubä¸Š/","text":"æœ€è¿‘åšäº†ä¸€äº›å·¥ä½œï¼Œæƒ³å°†ä»–ä»¬ä¸Šä¼ åˆ°GitHubä¸Šå»ä¿å­˜ï¼Œæˆ‘ä¹ æƒ¯äºæœ¬åœ°ç¼–è¾‘ï¼Œå®Œæˆåå†ä¸€èµ·ä¸Šä¼ åˆ°ä»“åº“ä¸­ï¼Œé•¿æ—¶é—´ä¸ä½¿ç”¨å¾ˆå®¹æ˜“å¿˜ï¼Œæ€»ç»“ç½‘ä¸Šçš„ä¸€äº›æ•™ç¨‹ï¼Œå†™ä½œåšå®¢é‡Œæ–¹ä¾¿è‡ªå·±å¶å°”æŸ¥é˜…ã€‚ æœ¬æ–‡å‚è€ƒä»¥ä¸‹åšæ–‡ä¸¤ç§æ–¹æ³•ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°github æƒ³çŸ¥é“è¯¦ç»†çš„æ­¥éª¤å¯ä»¥ç‚¹å‡»å‰å¾€å­¦ä¹ ï¼Œè¿™é‡Œæˆ‘åªç®€å•è®°å½•ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ã€‚ 1.GitHubåœ¨çº¿ä¸Šä¼ æ–‡ä»¶å¤¹1.1ç‚¹å‡»Upload files1.2 ç›´æ¥æ‹–æ‹½2.é€šè¿‡gitå·¥å…·ä¸Šä¼ æœ¬åœ°æ–‡ä»¶å¤¹2.1ä¸‹è½½git ç”±äºéƒ¨åˆ†åŸå› ï¼Œå›½å†…ç›´æ¥å®˜ç½‘ä¸‹è½½gitéå¸¸æ…¢ï¼Œéœ€è¦FQã€‚è¿™é‡Œæä¾›ä¸€ä¸ªå›½å†…çš„ä¸‹è½½ç«™ï¼Œæ–¹ä¾¿ç½‘å‹ä¸‹è½½ã€‚ ç‚¹å‡»å‰å¾€ 2.2 ç»‘å®šç”¨æˆ·æ‰“å¼€git-bash.exeï¼ˆç›´æ¥åœ¨æ¡Œé¢ä¸Šç‚¹å‡»å³é”®ï¼Œæˆ–è€…ç‚¹å‡»å¼€å§‹æŒ‰é’®æ‰¾åˆ°Git Bashï¼‰ åœ¨æ‰“å¼€çš„GIt Bashä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆç”¨æˆ·å’Œé‚®ç®±ä¸ºä½ githubæ³¨å†Œçš„è´¦å·å’Œé‚®ç®±ï¼‰ $ git config --global user.name &quot;##&quot; $ git config --global user.email &quot;h##@**.com&quot; 2.3 è®¾ç½®SSH Key2.3.1 ç”Ÿæˆssh key2.3.2 ä¸ºGitHubè´¦å·é…ç½®ssh key2.4 ä¸Šä¼ æœ¬åœ°é¡¹ç›®åˆ°GitHub è¿™é‡Œåªè´´ä¸€äº›å‘½ä»¤ 1234567891011121314# åˆå§‹åŒ–git init# å°†æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­git add .# æäº¤git commit -m \"æ³¨é‡Š\"# å…³è”GitHubä»“åº“git remote add origin https://github.com/**/##.git# ä¸Šä¼ æœ¬åœ°ä»£ç åŠæ–‡ä»¶git push -u origin master","tags":[]},{"title":"åœ¨sublimeText3ä¸­å®‰è£…pylinteræ–¹æ³•","date":"2017-10-15T06:03:54.000Z","path":"2017/10/15/åœ¨sublimeText3ä¸­å®‰è£…pylinteræ–¹æ³•/","text":"1.ä¸‹è½½pylintå®‰è£…åŒ…å®˜ç½‘ä¸‹è½½ï¼Œè§£å‹å³å¯&lt;https://pypi.python.org/pypi/pylint&gt; 2.å®‰è£… astroidpip install astroid æˆ–è€… &nbsp;&nbsp;&nbsp;&nbsp;æ‰“å¼€https://bitbucket.org/logilab/astroid,ä¸‹è½½å‹ç¼©åŒ…ï¼Œè§£å‹ cdåˆ°ä¸‹è½½å¥½çš„æ–‡ä»¶å¤¹å†…ï¼Œç„¶åä½¿ç”¨ python setup.py install 3.å®‰è£…isort,ç”¨å¦‚ä¸‹å‘½ä»¤pip install isort 4.å®‰è£…pylint &nbsp;&nbsp;&nbsp;&nbsp;cmdåˆ‡æ¢åˆ°åˆšæ‰ä¸‹è½½è§£å‹pylintæ–‡ä»¶å¤¹å†…ï¼Œè¾“å…¥å‘½ä»¤ï¼š python setup.py install 5.å®‰è£…pylintæ’ä»¶ åœ¨sublimeä¸­ctrl+shift+P ç„¶åè¾“å…¥install ç„¶åè¾“å…¥pylinterï¼Œå›è½¦å³å¯ï¼","tags":[{"name":"sublime æ’ä»¶","slug":"sublime-æ’ä»¶","permalink":"http://heany.github.io/tags/sublime-æ’ä»¶/"}]},{"title":"python3.xä¸MySQLçš„å®‰è£…ä¸é“¾æ¥","date":"2017-10-15T06:02:45.000Z","path":"2017/10/15/python3-xä¸MySQLçš„å®‰è£…ä¸é“¾æ¥/","text":"éœ€è¦ç”¨åˆ°pythonæ¥è¿›è¡Œmysqlæ•°æ®åº“å¤„ç†ï¼Œé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚pythonå¦‚ä½•è¿æ¥MySQLè¿›è¡Œæ•°æ®åº“ç›¸å…³æ“ä½œç­‰ï¼Œæ¥ä¸‹æ¥æˆ‘å°†ä¸€äº›python3ä¸­ä¸€äº›MySQLå¤„ç†çš„ä¸€äº›æ“ä½œå†™åœ¨ä¸‹é¢ã€‚ python2.xç‰ˆæœ¬è¿æ¥MySQLæ•°æ®åº“éœ€è¦å®‰è£…MySQL-pythonåº“ï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š pip install MySQL-python æˆ–è€… pip install MySQLdb python3.xç‰ˆæœ¬é“¾æ¥MySQLæ•°æ®åº“éœ€è¦å®‰è£…PyMySQLåº“ï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š pip install PyMySQL è¿˜å¯ä»¥é€šè¿‡Pycharmè½¯ä»¶é‡Œé¢çš„åº“ç®¡ç†æ¥æ·»åŠ pymysql123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263import pymysql # è¿æ¥æ•°æ®åº“ connect = pymysql.Connect( host='localhost', port=3306, user='root', passwd='1234', db='save', charset='utf8' ) # è·å–æ¸¸æ ‡ cursor = connect.cursor() # æ’å…¥æ•°æ® sql = \"INSERT INTO money (name, account, saving) VALUES ( '%s', '%s', %.2f )\" data = ('é›·å†›', '13512345678', 10000) cursor.execute(sql % data) connect.commit() print('æˆåŠŸæ’å…¥', cursor.rowcount, 'æ¡æ•°æ®') # ä¿®æ”¹æ•°æ® sql = \"UPDATE money SET saving = %.2f WHERE account = '%s' \" data = (8888, '13512345678') cursor.execute(sql % data) connect.commit() print('æˆåŠŸä¿®æ”¹', cursor.rowcount, 'æ¡æ•°æ®') # æŸ¥è¯¢æ•°æ® sql = \"SELECT name,saving FROM money WHERE account = '%s' \" data = ('13512345678',) cursor.execute(sql % data) for row in cursor.fetchall(): print(\"Name:%s\\tSaving:%.2f\" % row) print('å…±æŸ¥æ‰¾å‡º', cursor.rowcount, 'æ¡æ•°æ®') # åˆ é™¤æ•°æ® sql = \"DELETE FROM money WHERE account = '%s' LIMIT %d\" data = ('13512345678', 1) cursor.execute(sql % data) connect.commit() print('æˆåŠŸåˆ é™¤', cursor.rowcount, 'æ¡æ•°æ®') # äº‹åŠ¡å¤„ç† sql_1 = \"UPDATE money SET saving = saving + 1000 WHERE account = '18012345678' \" sql_2 = \"UPDATE money SET expend = expend + 1000 WHERE account = '18012345678' \" sql_3 = \"UPDATE money SET income = income + 2000 WHERE account = '18012345678' \" try: cursor.execute(sql_1) # å‚¨è“„å¢åŠ 1000 cursor.execute(sql_2) # æ”¯å‡ºå¢åŠ 1000 cursor.execute(sql_3) # æ”¶å…¥å¢åŠ 2000 except Exception as e: connect.rollback() # äº‹åŠ¡å›æ»š print('äº‹åŠ¡å¤„ç†å¤±è´¥', e) else: connect.commit() # äº‹åŠ¡æäº¤ print('äº‹åŠ¡å¤„ç†æˆåŠŸ', cursor.rowcount) # å…³é—­è¿æ¥ cursor.close() connect.close()","tags":[{"name":"pythonå­¦ä¹ ç¬”è®°","slug":"pythonå­¦ä¹ ç¬”è®°","permalink":"http://heany.github.io/tags/pythonå­¦ä¹ ç¬”è®°/"}]},{"title":"xpathå­¦ä¹ ç¬”è®°","date":"2017-10-15T06:00:09.000Z","path":"2017/10/15/xpathå­¦ä¹ ç¬”è®°/","text":"XPathæ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„è§£ææ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿä½œä¸ºçˆ¬è™«å­¦ä¹ çš„åŸºç¡€ï¼Œåœ¨åé¢çš„ selenium ä»¥åŠ scrapy æ¡†æ¶ä¸­éƒ½ä¼šæ¶‰åŠåˆ°è¿™éƒ¨åˆ†çŸ¥è¯†ï¼Œéœ€è¦æŠŠå®ƒçš„è¯­æ³•æŒæ¡æ¸…æ¥šï¼Œä¸ºåé¢çš„æ·±å…¥ç ”ç©¶åšå¥½é“ºå«ã€‚ å­¦ä¹ å‚è€ƒè½¬è‡ªPythonçˆ¬è™«åˆ©å™¨ä¸‰ä¹‹Xpathè¯­æ³•ä¸lxmlåº“çš„ç”¨æ³• xpathè¯­æ³•å‚è€ƒw3school w3school é€‰å–èŠ‚ç‚¹ XPath ä½¿ç”¨è·¯å¾„è¡¨è¾¾å¼åœ¨ XML æ–‡æ¡£ä¸­é€‰å–èŠ‚ç‚¹ã€‚èŠ‚ç‚¹æ˜¯é€šè¿‡æ²¿ç€è·¯å¾„æˆ–è€… step æ¥é€‰å–çš„ã€‚ ä¸‹é¢åˆ—å‡ºäº†æœ€æœ‰ç”¨çš„è·¯å¾„è¡¨è¾¾å¼ è¡¨è¾¾å¼ æè¿° nodename é€‰å–æ­¤èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ / ä»æ ¹ç»“ç‚¹é€‰å– // ä»åŒ¹é…é€‰æ‹©çš„å½“å‰èŠ‚ç‚¹é€‰æ‹©æ–‡æ¡£ä¸­çš„èŠ‚ç‚¹ï¼Œè€Œä¸è€ƒè™‘å®ƒä»¬çš„ä½ç½® . é€‰å–å½“å‰èŠ‚ç‚¹ .. é€‰å–å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ @ é€‰å–å±æ€§ å®ä¾‹åœ¨ä¸‹é¢çš„è¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬å·²ç»åˆ—å‡ºäº†ä¸€äº›è·¯å¾„è¡¨è¾¾å¼ä»¥åŠè¡¨è¾¾å¼çš„ç»“æœï¼š å®ä¾‹Demo12345678&lt;bookstore&gt;&lt;book&gt; &lt;title&gt;Harry Potter&lt;/title&gt; &lt;author&gt;J K. Rowling&lt;/author&gt; &lt;year&gt;2005&lt;/year&gt; &lt;price&gt;29.99&lt;/price&gt;&lt;/book&gt;&lt;/bookstore&gt; å®ä¾‹æµ‹è¯• åœ¨ä¸‹é¢çš„è¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬å·²åˆ—å‡ºäº†ä¸€äº›è·¯å¾„è¡¨è¾¾å¼ä»¥åŠè¡¨è¾¾å¼çš„ç»“æœï¼š è°“è¯­è°“è¯­ç”¨æ¥æŸ¥æ‰¾æŸä¸ªç‰¹å®šçš„èŠ‚ç‚¹æˆ–è€…åŒ…å«æŸä¸ªæŒ‡å®šçš„å€¼çš„èŠ‚ç‚¹ã€‚ è°“è¯­è¢«åµŒåœ¨æ–¹æ‹¬å·ä¸­ã€‚ å®ä¾‹ åœ¨ä¸‹é¢çš„è¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬åˆ—å‡ºäº†å¸¦æœ‰è°“è¯­çš„ä¸€äº›è·¯å¾„è¡¨è¾¾å¼ï¼Œä»¥åŠè¡¨è¾¾å¼çš„ç»“æœï¼š é€‰å–æœªçŸ¥èŠ‚ç‚¹XPath é€šé…ç¬¦å¯ç”¨æ¥é€‰å–æœªçŸ¥çš„ XML å…ƒç´ ã€‚ é€šé…ç¬¦ æè¿° * åŒ¹é…ä»»ä½•èŠ‚ç‚¹å…ƒç´  @* åŒ¹é…ä»»ä½•å±æ€§èŠ‚ç‚¹ node() åŒ¹é…ä»»ä½•ç±»å‹çš„èŠ‚ç‚¹ é€šé…ç¬¦ æè¿° * åŒ¹é…ä»»ä½•èŠ‚ç‚¹å…ƒç´  @* åŒ¹é…ä»»ä½•å±æ€§èŠ‚ç‚¹ node() åŒ¹é…ä»»ä½•ç±»å‹çš„èŠ‚ç‚¹ å®ä¾‹ åœ¨ä¸‹é¢çš„è¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬åˆ—å‡ºäº†ä¸€äº›è·¯å¾„è¡¨è¾¾å¼ï¼Œä»¥åŠè¿™äº›è¡¨è¾¾å¼çš„ç»“æœï¼š è·¯å¾„è¡¨è¾¾å¼ ç»“æœ /bookstore/* é€‰å–bookstoreå…ƒç´ çš„æ‰€æœ‰çš„å­å…ƒç´  //* é€‰å–æ–‡æ¡£ä¸­çš„æ‰€æœ‰å…ƒç´  //title[@*] é€‰å–æ‰€æœ‰å¸¦æœ‰å±æ€§çš„titleå…ƒç´  é€‰å–è‹¥å¹²è·¯å¾„ é€šè¿‡åœ¨è·¯å¾„è¡¨è¾¾å¼ä¸­ä½¿ç”¨â€œ|â€è¿ç®—ç¬¦ï¼Œå¯ä»¥é€‰æ‹©è‹¥å¹²ä¸ªè·¯å¾„ å®ä¾‹ åœ¨ä¸‹é¢çš„è¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬åˆ—å‡ºäº†ä¸€äº›è·¯å¾„è¡¨è¾¾å¼ï¼Œä»¥åŠè¿™äº›è¡¨è¾¾å¼çš„ç»“æœï¼š è·¯å¾„è¡¨è¾¾å¼ ç»“æœ //book/title \\ //book/price é€‰å– book å…ƒç´ çš„æ‰€æœ‰ title å’Œ price å…ƒç´ ã€‚ //title \\ //price é€‰å–æ–‡æ¡£ä¸­çš„æ‰€æœ‰ title å’Œ price å…ƒç´ ã€‚ /bookstore/book/title \\ //price é€‰å–å±äº bookstore å…ƒç´ çš„ book å…ƒç´ çš„æ‰€æœ‰ title å…ƒç´ ï¼Œä»¥åŠæ–‡æ¡£ä¸­æ‰€æœ‰çš„ price å…ƒç´ ã€‚ Xpathå®ä¾‹æµ‹è¯• æµ‹è¯•Demo:123456789&lt;div&gt; &lt;ul&gt; &lt;li class=\"item-0\"&gt;&lt;a href=\"link1.html\"&gt;first item&lt;/a&gt;&lt;/li&gt; &lt;li class=\"item-1\"&gt;&lt;a href=\"link2.html\"&gt;second item&lt;/a&gt;&lt;/li&gt; &lt;li class=\"item-inactive\"&gt;&lt;a href=\"link3.html\"&gt;third item&lt;/a&gt;&lt;/li&gt; &lt;li class=\"item-1\"&gt;&lt;a href=\"link4.html\"&gt;fourth item&lt;/a&gt;&lt;/li&gt; &lt;li class=\"item-0\"&gt;&lt;a href=\"link5.html\"&gt;fifth item&lt;/a&gt; &lt;/ul&gt; &lt;/div&gt; è·å–æ‰€æœ‰çš„&lt;l\\&gt;æ ‡ç­¾1response.xpath('//li') è·å– &lt;li&gt; æ ‡ç­¾çš„æ‰€æœ‰ class12345response.xpath('//li/@class')è¿è¡Œç»“æœ['item-0', 'item-1', 'item-inactive', 'item-1', 'item-0'] è·å– &lt;li&gt; æ ‡ç­¾ä¸‹ href ä¸º link1.html çš„ æ ‡ç­¾1234response.xpath('//li/a[@href=\"link1.html\"]')è¿è¡Œç»“æœ[&lt;Element a at 0x10ffaae18&gt;] è·å– &lt;li&gt; æ ‡ç­¾ä¸‹çš„æ‰€æœ‰ &lt;span&gt; æ ‡ç­¾ æ³¨æ„è¿™ç§å†™æ³•æ˜¯ä¸å¯¹çš„ response.xpath(&apos;//li/span&apos;) å› ä¸º/æ˜¯ç”¨æ¥è·å–å­å…ƒç´ çš„ï¼Œè€Œå¹¶ä¸æ˜¯&lt;li&gt;çš„å­å…ƒç´ ï¼Œæ‰€ä»¥è¦ç”¨åŒæ–œæ ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š response.xpath(&apos;//li//span&apos;) è¿è¡Œç»“æœï¼š [&lt;Element span at 0x10d698e18&gt;] è·å–&lt;li&gt;æ ‡ç­¾ä¸‹çš„æ‰€æœ‰classï¼Œä¸åŒ…æ‹¬&lt;li&gt; result = response.xpath(&apos;&apos;//li/a/@class&apos;) print result è¿è¡Œç»“æœï¼š [&apos;blod&apos;] è·å–æœ€åä¸€ä¸ª&lt;li&gt;çš„&lt;a&gt;çš„href1response.xpath('//li[last()]/a/@href') è¿è¡Œç»“æœï¼š [&apos;link5.html&apos;] è·å–å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ çš„å†…å®¹12result = response.xpath('//li[last()-1]/a')print result[0].text è¿è¡Œç»“æœï¼š fourth item è·å–classä¸ºboldçš„æ ‡ç­¾å12result = response.xpath('//*[@class=\"bold\"]')print result[0].tag è¿è¡Œç»“æœï¼š span é€šè¿‡ä»¥ä¸Šå®ä¾‹çš„ç»ƒä¹ ï¼Œèƒ½å¤Ÿå¯¹XPathçš„åŸºæœ¬ç”¨æ³•æœ‰äº†åŸºæœ¬çš„äº†è§£ï¼Œä¹Ÿå¯ä»¥é€šè¿‡text()æ–¹æ³•è·å–å…ƒç´ å†…å®¹ã€‚","tags":[{"name":"pythonå­¦ä¹ ç¬”è®°","slug":"pythonå­¦ä¹ ç¬”è®°","permalink":"http://heany.github.io/tags/pythonå­¦ä¹ ç¬”è®°/"}]},{"title":"è´å¶æ–¯åˆ†ç±»å™¨å®ç°","date":"2017-10-14T11:03:31.000Z","path":"2017/10/14/è´å¶æ–¯åˆ†ç±»å™¨å®ç°/","text":"1ã€è´å¶æ–¯åˆ†ç±»å®ç°ï¼ˆé‡‡ç”¨python3.6 æ•°æ®é›†ä¸ºarffæ–‡ä»¶æ ¼å¼ï¼‰æ•°æ®æŒ–æ˜è¯¾è€å¸ˆç•™çš„ä¸€ä¸ªå®ç°è´å¶æ–¯åˆ†ç±»å™¨çš„ç»ƒä¹ ï¼Œæ•°æ®æºä¸ºarffæ ¼å¼çš„æ–‡ä»¶~ä¸‹é¢æ˜¯ä½¿ç”¨pythonè¯­è¨€ç¼–å†™çš„ä¸€ä¸ªç®€å•çš„å®ç°æ¡ˆä¾‹ã€‚ 1.1ã€ arffæ ¼å¼æ–‡ä»¶ä»‹ç»å‚è€ƒé“¾æ¥ arffæ–‡ä»¶æ˜¯Wekaé»˜è®¤çš„å‚¨å­˜æ•°æ®é›†æ–‡ä»¶ã€‚æ¯ä¸ªarffæ–‡ä»¶å¯¹åº”ä¸€ä¸ªäºŒç»´è¡¨æ ¼ã€‚è¡¨æ ¼çš„å„è¡Œæ˜¯æ•°æ®é›†çš„å„å®ä¾‹ï¼Œå„åˆ—æ˜¯æ•°æ®é›†çš„å„ä¸ªå±æ€§ã€‚æ¨èä½¿ç”¨UltraEditè¿™æ ·çš„å­—ç¬¦ç¼–è¾‘è½¯ä»¶æˆ–è€…Sublime Textè¿™æ ·çš„æ–‡æœ¬ç¼–è¯‘å™¨æŸ¥çœ‹arffæ–‡ä»¶çš„å†…å®¹ã€‚ weather.arff æ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š è¯†åˆ«ARFFæ–‡ä»¶çš„é‡è¦ä¾æ®æ˜¯åˆ†è¡Œï¼Œå› æ­¤ä¸èƒ½åœ¨è¿™ç§æ–‡ä»¶é‡Œéšæ„çš„æ–­è¡Œã€‚ç©ºè¡Œï¼ˆæˆ–å…¨æ˜¯ç©ºæ ¼çš„è¡Œï¼‰å°†è¢«å¿½ç•¥ã€‚ä»¥â€œ%â€å¼€å§‹çš„è¡Œæ˜¯æ³¨é‡Šï¼ŒWEKAå°†å¿½ç•¥è¿™äº›è¡Œã€‚å¦‚æœä½ çœ‹åˆ°çš„â€œweather.arffâ€æ–‡ä»¶å¤šäº†æˆ–å°‘äº†äº›â€œ%â€å¼€å§‹çš„è¡Œï¼Œæ˜¯æ²¡æœ‰å½±å“çš„ã€‚é™¤å»æ³¨é‡Šåï¼Œæ•´ä¸ªARFFæ–‡ä»¶å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ã€‚ç¬¬ä¸€éƒ¨åˆ†ç»™å‡ºäº†å¤´ä¿¡æ¯ï¼ˆHead informationï¼‰ï¼ŒåŒ…æ‹¬äº†å¯¹å…³ç³»çš„å£°æ˜å’Œå¯¹å±æ€§çš„å£°æ˜ã€‚ç¬¬äºŒéƒ¨åˆ†ç»™å‡ºäº†æ•°æ®ä¿¡æ¯ï¼ˆData informationï¼‰ï¼Œå³æ•°æ®é›†ä¸­ç»™å‡ºçš„æ•°æ®ã€‚ä»â€œ@dataâ€æ ‡è®°å¼€å§‹ï¼Œåé¢çš„å°±æ˜¯æ•°æ®ä¿¡æ¯äº†ã€‚è™½ç„¶Wekaä¹Ÿæ”¯æŒå…¶ä»–ä¸€äº›æ ¼å¼çš„æ–‡ä»¶ï¼Œä½†æ˜¯ARFFæ ¼å¼æ˜¯æ”¯æŒçš„æœ€å¥½çš„ã€‚å› æ­¤æœ‰å¿…è¦åœ¨æ•°æ®å¤„ç†ä¹‹å‰æŠŠæ•°æ®é›†çš„æ ¼å¼è½¬æ¢æˆARFFã€‚ 1.2ã€ arffæ ¼å¼æ–‡ä»¶è¯»å–1234567891011121314151617import re import sys def readArff(fileName): arffFile = open(fileName,'r') data = [] for line in arffFile.readlines(): if not (line.startswith('@')): if not (line.startswith('%')): if line !='\\n': L=line.strip('\\n') k=L.split(',') data.append(k) print(k) print(data) if __name__ =='__main__': fileName=r'C:\\Users\\Administrator\\Desktop\\exepirenment\\classifill\\data\\weather.arff' readArff(fileName) è¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š123456789101112131415['sunny', '85', '85', 'FALSE', 'no']['sunny', '80', '90', 'TRUE', 'no']['overcast', '83', '86', 'FALSE', 'yes']['rainy', '70', '96', 'FALSE', 'yes']['rainy', '68', '80', 'FALSE', 'yes']['rainy', '65', '70', 'TRUE', 'no']['overcast', '64', '65', 'TRUE', 'yes']['sunny', '72', '95', 'FALSE', 'no']['sunny', '69', '70', 'FALSE', 'yes']['rainy', '75', '80', 'FALSE', 'yes']['sunny', '75', '70', 'TRUE', 'yes']['overcast', '72', '90', 'TRUE', 'yes']['overcast', '81', '75', 'FALSE', 'yes']['rainy', '71', '91', 'TRUE', 'no'][['sunny', '85', '85', 'FALSE', 'no'], ['sunny', '80', '90', 'TRUE', 'no'], ['overcast', '83', '86', 'FALSE', 'yes'], ['rainy', '70', '96', 'FALSE', 'yes'], ['rainy', '68', '80', 'FALSE', 'yes'], ['rainy', '65', '70', 'TRUE', 'no'], ['overcast', '64', '65', 'TRUE', 'yes'], ['sunny', '72', '95', 'FALSE', 'no'], ['sunny', '69', '70', 'FALSE', 'yes'], ['rainy', '75', '80', 'FALSE', 'yes'], ['sunny', '75', '70', 'TRUE', 'yes'], ['overcast', '72', '90', 'TRUE', 'yes'], ['overcast', '81', '75', 'FALSE', 'yes'], ['rainy', '71', '91', 'TRUE', 'no']] 1.3ã€ å®ç°è´å¶æ–¯åˆ†ç±»å™¨å‚è€ƒé“¾æ¥ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970import re import sys import bisect data =[] #å…¨å±€å˜é‡ def readArff(fileName): arffFile = open(fileName,'r') global data for line in arffFile.readlines(): if not (line.startswith('@')): if not (line.startswith('%')): if line !='\\n': L=line.strip('\\n') k=L.split(',') data.append(k) def bayesion(testData): class1=[] class2=[] global data for item in data: if item[len(item)-1] == 'yes': class1.append(item) else: class2.append(item) class1Probability = len(class1) /len(data) class2Probability = len(class2) /len(data) for i in range(len(testData)): count = 0 for elem in class1: if testData[i]==elem[i]: count +=1 #ç»Ÿè®¡ä¸ªæ•° class1Probability *= count/len(class1) #ç´¯è®¡ä¹˜æ³• æ±‚æ€»æ¦‚ç‡ count = 0 for elem in class2: if testData[i]==elem[i]: count +=1 class2Probability *=count/len(class2) if class1Probability &gt;class2Probability: #æ¯”è¾ƒï¼Œè¿›è€Œåˆ†ç±» print(\"The result is : Yes\") else: print(\"The result if : No\") #æ•°æ®é¢„å¤„ç†ï¼Œå°†dataæ•°æ®åˆ†ç®±ï¼Œdataæ•°æ®ä¸º list[list1,list2...]ç±»å‹ def dataPreprocessing1(data): breakpoint1 =[70,80] breakpoint2=[80,90] newValue1='LMH' for item in data: i = bisect.bisect(breakpoint1,int(item[1])) #int(),str()ç­‰ç±»å‹éœ€è¦è½¬æ¢ item[1]=str(newValue1[i]) j = bisect.bisect(breakpoint2,int(item[2])) item[2]=str(newValue1[j]) #æ•°æ®é¢„å¤„ç†ï¼Œåˆ†ç®±ï¼Œé’ˆå¯¹å•ä¸ªlistæ•°æ®ï¼Œdataä¸ºlist['..','..']ç±»å‹ def dataPreprocessing2(data): breakpoint1 =[70,80] breakpoint2=[80,90] newValue1='LMH' i = bisect.bisect(breakpoint1,int(data[1])) data[1]=str(newValue1[i]) j = bisect.bisect(breakpoint2,int(data[2])) data[2]=str(newValue1[j]) if __name__ =='__main__': fileName=r'C:\\Users\\Administrator\\Desktop\\exepirenment\\classifill\\data\\weather.arff' readArff(fileName) dataPreprocessing1(data) testData =['overcast','72','80','TRUE'] dataPreprocessing2(testData) bayesion(testData)","tags":[{"name":"æ•°æ®æŒ–æ˜","slug":"æ•°æ®æŒ–æ˜","permalink":"http://heany.github.io/tags/æ•°æ®æŒ–æ˜/"},{"name":"python3","slug":"python3","permalink":"http://heany.github.io/tags/python3/"},{"name":"è´å¶æ–¯åˆ†ç±»å™¨","slug":"è´å¶æ–¯åˆ†ç±»å™¨","permalink":"http://heany.github.io/tags/è´å¶æ–¯åˆ†ç±»å™¨/"}]},{"title":"æˆ‘çš„åšå®¢æ­å»ºæµç¨‹","date":"2017-10-08T12:42:48.000Z","path":"2017/10/08/æˆ‘çš„åšå®¢æ­å»ºæµç¨‹/","text":"ä¸€ã€å‰è¨€Hexoéƒ¨ç½²åˆ°GitHubä¸Šçš„æ–‡ä»¶ï¼Œæ˜¯.mdï¼ˆä½ çš„åšæ–‡ï¼‰è½¬åŒ–ä¹‹åçš„.htmlï¼ˆé™æ€ç½‘é¡µï¼‰ã€‚å› æ­¤ï¼Œå½“ä½ é‡è£…ç”µè„‘æˆ–è€…æƒ³åœ¨ä¸åŒç”µè„‘ä¸Šä¿®æ”¹åšå®¢æ—¶ï¼Œå°±ä¸å¯èƒ½äº†ï¼ˆé™¤éä½ è‡ªå·±å†™htmlï¼‰ã€‚å…¶å®ï¼ŒHexoç”Ÿæˆçš„ç½‘ç«™æ–‡ä»¶ä¸­æœ‰.gitignoreæ–‡ä»¶ï¼Œå› æ­¤å®ƒçš„æœ¬æ„ä¹Ÿæ˜¯æƒ³æˆ‘ä»¬å°†Hexoç”Ÿæˆçš„ç½‘ç«™æ–‡ä»¶å­˜æ”¾åˆ°GitHubä¸Šè¿›è¡Œç®¡ç†çš„ï¼ˆè€Œä¸æ˜¯ç”¨Uç›˜æˆ–è€…äº‘å¤‡ä»½å•¦ï¼‰ã€‚è¿™æ ·ï¼Œä¸ä»…è§£å†³äº†ä¸Šè¿°çš„é—®é¢˜ï¼Œè¿˜å¯ä»¥é€šè¿‡gitçš„ç‰ˆæœ¬æ§åˆ¶è¿½è¸ªä½ çš„åšæ–‡çš„ä¿®æ”¹è¿‡ç¨‹ï¼Œæ˜¯æèµçš„ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ¯ä¸€ä¸ªGitHub Pageséƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªé¢å¤–çš„ä»“åº“æ¥å­˜æ”¾Hexoç½‘ç«™æ–‡ä»¶ï¼Œæˆ‘æ„Ÿè§‰å¾ˆéº»çƒ¦ï¼ˆ10ä¸ªé¡¹ç›®éœ€è¦20ä¸ªä»“åº“â€¦ï¼‰ã€‚ æ‰€ä»¥ï¼Œæˆ‘åˆ©ç”¨äº†åˆ†æ”¯ï¼ï¼ï¼ ç®€å•åœ°è¯´ï¼Œæ¯ä¸ªæƒ³å»ºç«‹GitHub Pagesçš„ä»“åº“ï¼Œèµ·ç æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä¸€ä¸ªç”¨æ¥å­˜æ”¾Hexoç½‘ç«™çš„æ–‡ä»¶ï¼Œä¸€ä¸ªç”¨æ¥å‘å¸ƒç½‘ç«™ã€‚ ä¸‹é¢å°†æˆ‘çš„åšå®¢æ­å»ºæµç¨‹ç®€å•è®²ä¸€ä¸‹ äºŒã€ æˆ‘çš„åšå®¢æ­å»ºæµç¨‹ åˆ›å»ºä»“åº“ï¼Œyourname.github.io; åˆ›å»ºä¸¤ä¸ªåˆ†æ”¯: masterï¼ˆè¿™ä¸ªåˆ†æ”¯ä¸»è¦ç”¨æ¥å±•ç¤ºé™æ€ç½‘é¡µï¼Œç»™ç”¨æˆ·çœ‹çš„User Pagesï¼‰å’Œhexoï¼ˆè¿™ä¸ªåˆ†æ”¯ä¸»è¦æ˜¯ç”¨æ¥å¤‡ä»½Projects Pagesï¼‰; è®¾ç½®hexoä¸ºé»˜è®¤åˆ†æ”¯; ä½¿ç”¨git clone git@github.com:yourname/yourname.github.ioæ‹·è´ä»“åº“ï¼Œæ‹·è´å®Œæˆåï¼Œæœ¬åœ°ä¼šæœ‰ä¸€ä¸ªyourname.github.comæ–‡ä»¶å¤¹; ç”±äºhexo init dirå‘½ä»¤ä¸èƒ½åœ¨éç©ºçš„dirä¸‹æ‰§è¡ŒæˆåŠŸ,æ‰€ä»¥å…ˆæ‰¾ä¸€ä¸ªæ–‡ä»¶å¤¹(ä¾‹å¦‚blog)å»ºç«‹ä¸€ä¸ªåšå®¢ï¼Œä¹Ÿå°±æ˜¯ä¾æ¬¡æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š 123hexo init blognpm installnpm install hexo-deployer-git --save å°†ä¸Šé¢blogæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å…¨éƒ¨æ‹·è´åˆ°åˆšåˆšcloneä¸‹æ¥çš„yourname.github.ioæ–‡ä»¶å¤¹é‡Œé¢ã€‚ ä¿®æ”¹yourname.github.io/_config.ymlä¸­çš„deployå‚æ•°ï¼Œåˆ†æ”¯åº”è¯¥ä¸ºmasterã€‚ 1234deploy: type: git repo: git@github.com:yourname/yourname.github.io.git branch: master ä¾æ¬¡æ‰§è¡Œä¸‹é¢å‘½ä»¤,å°†ç½‘ç«™ç›¸å…³çš„æ–‡ä»¶å¤‡ä»½åˆ°githubä¸Šã€‚ 123git add .git commit -m \"your comments\"git push origin hexo ç„¶åæ‰§è¡Œhexoç›¸å…³ï¼Œå‘½ä»¤ç”Ÿæˆç½‘ç«™ï¼Œå¹¶éƒ¨ç½²åˆ°Githubä¸Šï¼š 123hexo clean #æ¸…æ¥šç¼“å­˜ï¼Œè‹¥æ˜¯ç½‘é¡µæ­£å¸¸æƒ…å†µä¸‹å¯ä»¥å¿½ç•¥è¿™æ¡å‘½ä»¤hexo g # ç”Ÿæˆ æ˜¯hexo generatehexo d # éƒ¨ç½² æ˜¯hexo deploy å¦‚æ­¤æ“ä½œï¼Œåœ¨Githubä¸Šçš„heany.github.ioä»“åº“å°±æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä¸€ä¸ªhexoåˆ†æ”¯ç”¨æ¥å­˜æ”¾ç½‘ç«™çš„åŸå§‹æ–‡ä»¶ï¼Œä¸€ä¸ªmasteråˆ†æ”¯ç”¨æ¥å­˜æ”¾ç”Ÿæˆçš„é™æ€ç½‘é¡µï½æ•ˆç‡è¶…é«˜ï¼Œä¸ç”¨å†æ–°å»ºä¸€ä¸ªrepositoryå»å¤‡ä»½ç½‘ç«™æ–‡ä»¶äº†ï¼æ˜¯ä¸æ˜¯å¾ˆå¥½ï½ ä¸‰ã€ åšå®¢æ—¥å¸¸ç®¡ç†æµç¨‹3.1ã€ æ—¥å¸¸ä¿®æ”¹åœ¨æœ¬åœ°å¯¹åšå®¢è¿›è¡Œä¿®æ”¹ï¼ˆæ·»åŠ æ–°åšæ–‡ã€ä¿®æ”¹æ ·å¼ç­‰ç­‰ï¼‰åï¼Œé€šè¿‡ä¸‹é¢çš„æµç¨‹è¿›è¡Œç®¡ç†ï¼š ä¾æ¬¡æ‰§è¡Œgit add .ã€git commit -m â€œâ€¦â€ã€git push origin hexoæŒ‡ä»¤å°†æ”¹åŠ¨æ¨é€åˆ°GitHubï¼ˆæ­¤æ—¶å½“å‰åˆ†æ”¯åº”ä¸ºhexoï¼‰ï¼› ç„¶åæ‰æ‰§è¡Œhexo generate -då‘å¸ƒç½‘ç«™åˆ°masteråˆ†æ”¯ä¸Šã€‚ è™½ç„¶ä¸¤ä¸ªè¿‡ç¨‹é¡ºåºè°ƒè½¬ä¸€èˆ¬ä¸ä¼šæœ‰é—®é¢˜ï¼Œä¸è¿‡é€»è¾‘ä¸Šè¿™æ ·çš„é¡ºåºæ˜¯ç»å¯¹æ²¡é—®é¢˜çš„ï¼ˆä¾‹å¦‚çªç„¶æ­»æœºè¦é‡è£…äº†ï¼Œæ‚²å‚¬â€¦.çš„æƒ…å†µï¼Œè°ƒè½¬é¡ºåºå°±æœ‰é—®é¢˜äº†ï¼‰ã€‚ 3.2ã€ æœ¬åœ°èµ„æ–™ä¸¢å¤±å½“é‡è£…ç”µè„‘ä¹‹åï¼Œæˆ–è€…æƒ³åœ¨å…¶ä»–ç”µè„‘ä¸Šä¿®æ”¹åšå®¢ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ­¥éª¤ï¼š ä½¿ç”¨git clone git@github.com:yourname/yourname.github.io.gitæ‹·è´ä»“åº“ï¼ˆé»˜è®¤åˆ†æ”¯ä¸ºhexoï¼‰ï¼› åœ¨æœ¬åœ°æ–°æ‹·è´çš„yourname.github.ioæ–‡ä»¶å¤¹ä¸‹é€šè¿‡Git bash(windowsä¸‹ä½¿ç”¨ã€‚è‹¥æ˜¯linuxåˆ™åœ¨bashé‡Œé¢ç›´æ¥æ‰§è¡Œ)ä¾æ¬¡æ‰§è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼šnpm install hexoã€npm installã€npm install hexo-deployer-gitï¼ˆè®°ä½ä¸éœ€è¦hexo initè¿™æ¡æŒ‡ä»¤ï¼‰ã€‚ å››ã€ ç»“æŸè¯­Github Pagesæ˜¯æ”¯æŒåŸŸåç»‘å®šçš„ï¼Œå¯ä»¥å»Goddayä¸Šä¹°ä¸€ä¸ªæ¯”è¾ƒä¾¿å®œçš„åŸŸåï¼Œç„¶ååœ¨å›½å†…çš„DNSPodä¸Šå»è§£æä½ çš„åŸŸå,ã€‚å…·ä½“å‚è€ƒè¿™ç¯‡æ–‡ç« æ‘¸æˆ‘å‰å¾€ã€‚ åˆ°è¿™é‡Œç»“æŸäº†ï¼Œå¥½ç´¯å•Šï½ï½ï½","tags":[{"name":"hexo Github-Pages Blog","slug":"hexo-Github-Pages-Blog","permalink":"http://heany.github.io/tags/hexo-Github-Pages-Blog/"}]},{"title":"Hello World","date":"2017-10-08T06:42:48.000Z","path":"2017/10/08/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[{"name":"hexo Blog","slug":"hexo-Blog","permalink":"http://heany.github.io/tags/hexo-Blog/"}]}]